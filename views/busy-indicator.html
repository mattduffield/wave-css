<!DOCTYPE html>
<html lang="en" class="theme-ocean">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Busy Indicator Examples</title>
  <link rel="stylesheet" href="../dist/wave-css.min.css">
</head>
<body class="bg-gray-50 dark:bg-gray-900">
  <div id="page-contents">
    <div class="flex flex-col flex-1 p-6 gap-4">
      <header class="mb-8">
        <h1 class="text-4xl font-bold mb-2">Busy Indicator Component</h1>
        <p class="text-gray-600 dark:text-gray-400">Theme-aware loading indicators for charts and other components</p>
      </header>

      <wc-theme-selector class="mb-4"></wc-theme-selector>

      <!-- Chart Indicators -->
      <section class="container p-4 rounded-md">
        <h2 class="text-2xl font-semibold mb-4">Chart-Specific Indicators</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Chart Bar</h3>
            <div class="w-full h-48 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="chart-bar" text="Loading bar chart..."></wc-busy-indicator>
            </div>
          </div>

          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Chart Line</h3>
            <div class="w-full h-48 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="chart-line" text="Loading line chart..."></wc-busy-indicator>
            </div>
          </div>

          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Chart Pie</h3>
            <div class="w-full h-48 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="chart-pie" text="Loading pie chart..."></wc-busy-indicator>
            </div>
          </div>
        </div>
      </section>

      <!-- General Indicators -->
      <section class="container p-4 rounded-md">
        <h2 class="text-2xl font-semibold mb-4">General Purpose Indicators</h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Spinner</h3>
            <div class="w-full h-32 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="spinner"></wc-busy-indicator>
            </div>
          </div>

          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Pulse</h3>
            <div class="w-full h-32 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="pulse"></wc-busy-indicator>
            </div>
          </div>

          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Dots</h3>
            <div class="w-full h-32 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="dots"></wc-busy-indicator>
            </div>
          </div>

          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Skeleton</h3>
            <div class="w-full h-32 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="skeleton"></wc-busy-indicator>
            </div>
          </div>
        </div>
      </section>

      <!-- Size Variations -->
      <section class="container p-4 rounded-md">
        <h2 class="text-2xl font-semibold mb-4">Size Variations</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Small</h3>
            <div class="w-full h-32 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="chart-bar" size="small"></wc-busy-indicator>
            </div>
          </div>

          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Medium (Default)</h3>
            <div class="w-full h-40 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="chart-bar" size="medium"></wc-busy-indicator>
            </div>
          </div>

          <div class="flex flex-col items-center gap-2">
            <h3 class="font-semibold">Large</h3>
            <div class="w-full h-48 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded">
              <wc-busy-indicator type="chart-bar" size="large"></wc-busy-indicator>
            </div>
          </div>
        </div>
      </section>

      <!-- Integrated with wc-chartjs -->
      <section class="container p-4 rounded-md">
        <h2 class="text-2xl font-semibold mb-4">Integrated with WC-ChartJS</h2>

        <h3 class="text-lg font-semibold mb-2">With Busy Indicator</h3>
        <wc-chartjs
          id="chart-with-indicator"
          url="/api/chart-data/slow"
          type="bar"
          height="400"
          busy-indicator="true"
          show-legend="true">
        </wc-chartjs>

        <h3 class="text-lg font-semibold mb-2 mt-8">With Loading Text (Default)</h3>
        <wc-chartjs
          id="chart-with-text"
          url="/api/chart-data/slow"
          type="line"
          height="400"
          loading-text="Fetching chart data..."
          show-legend="true">
        </wc-chartjs>

        <h3 class="text-lg font-semibold mb-2 mt-8">Custom Busy Indicator Type</h3>
        <wc-chartjs
          id="chart-custom-indicator"
          url="/api/chart-data/slow"
          type="pie"
          height="400"
          busy-indicator="true"
          busy-indicator-type="pulse"
          loading-text="Loading pie chart data..."
          show-legend="true">
        </wc-chartjs>
      </section>

      <!-- Standalone Examples -->
      <section class="container p-4 rounded-md">
        <h2 class="text-2xl font-semibold mb-4">Standalone Usage</h2>
        <p class="mb-4 text-gray-600 dark:text-gray-400">
          You can use wc-busy-indicator independently in your own components:
        </p>
        <div class="bg-gray-800 text-green-400 p-4 rounded overflow-x-auto">
          <pre><code>&lt;!-- Simple usage --&gt;
&lt;wc-busy-indicator type="chart-bar"&gt;&lt;/wc-busy-indicator&gt;

&lt;!-- With text --&gt;
&lt;wc-busy-indicator
  type="chart-line"
  text="Loading data..."
  size="large"&gt;
&lt;/wc-busy-indicator&gt;

&lt;!-- Programmatic control --&gt;
&lt;wc-busy-indicator id="myIndicator" type="spinner"&gt;&lt;/wc-busy-indicator&gt;

&lt;script&gt;
  const indicator = document.getElementById('myIndicator');

  // Show
  indicator.show();

  // Hide
  indicator.hide();

  // Remove
  indicator.remove();
&lt;/script&gt;</code></pre>
        </div>
      </section>

      <!-- Theme Showcase -->
      <section class="container p-4 rounded-md">
        <h2 class="text-2xl font-semibold mb-4">Theme Aware</h2>
        <p class="mb-4 text-gray-600 dark:text-gray-400">
          All indicators automatically adapt to the current Wave CSS theme. Try switching themes using the selector above!
        </p>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div class="theme-fire p-4 rounded">
            <wc-busy-indicator type="chart-bar" size="small"></wc-busy-indicator>
          </div>
          <div class="theme-ocean p-4 rounded">
            <wc-busy-indicator type="chart-line" size="small"></wc-busy-indicator>
          </div>
          <div class="theme-sunset p-4 rounded">
            <wc-busy-indicator type="chart-pie" size="small"></wc-busy-indicator>
          </div>
          <div class="theme-forest p-4 rounded">
            <wc-busy-indicator type="pulse" size="small"></wc-busy-indicator>
          </div>
        </div>
      </section>
    </div>
  </div>

  <script type="module" src="../dist/wave-css.min.js"></script>
  <script>
    // Mock slow API for demo
    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
      const originalFetch = window.fetch;
      window.fetch = function(...args) {
        const url = args[0];

        if (url.includes('/api/chart-data/slow')) {
          // Simulate slow loading (3 seconds)
          return new Promise(resolve => {
            setTimeout(() => {
              resolve({
                ok: true,
                json: () => Promise.resolve({
                  labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                  datasets: [{
                    label: 'Sales',
                    data: [65, 59, 80, 81],
                    backgroundColor: '#64B5F6',
                    borderColor: '#2196F3',
                    borderWidth: 2
                  }],
                  title: 'Quarterly Sales'
                })
              });
            }, 3000);
          });
        }

        return originalFetch.apply(this, args);
      };
    }
  </script>
</body>
</html>
