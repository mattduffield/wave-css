function Me(c){return c.tagName.includes("-")}function ke(){return"xxxx-xxxx-xxxx-xxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}function S(c){return new Promise((i,e)=>{if(document.querySelector(`link[rel="stylesheet"][href="${c}"]`)){i();return}let t=document.createElement("link");t.rel="stylesheet",t.href=c,t.onload=()=>i(),t.onerror=o=>e(o),document.head.appendChild(t);let n=setInterval(()=>{getComputedStyle(document.body).getPropertyValue("display")&&(clearInterval(n),i())},50)})}function _(c){return new Promise((i,e)=>{if(document.querySelector(`script[src="${c}"]`)){i();return}let t=document.createElement("script");t.src=c,t.onload=i,t.onerror=e,document.head.appendChild(t)})}function A(c,i){return new Promise((e,t)=>{if(document.querySelector(`script[src="${c}"]`)){if(i&&window[i])e();else{let o=setInterval(()=>{window[i]&&(clearInterval(o),e())},50)}return}let n=document.createElement("script");n.src=c,n.onload=()=>{if(i&&!window[i]){let o=setInterval(()=>{window[i]&&(clearInterval(o),e())},50)}else e()},n.onerror=o=>{t(o)},document.head.appendChild(n)})}function L(c,i){return new Promise((e,t)=>{if(document.querySelector(`style#${c}`)){e();return}let n=document.createElement("style");n.id=c,n.textContent=i.trim(),n.onload=e,n.onerror=t,document.head.appendChild(n)})}function De(c){return new Promise((i,e)=>{if(document.querySelector(`link[href="${c}"]`)){i();return}let t=document.createElement("link");t.rel="stylesheet",t.href=c,t.onload=i,t.onerror=e,document.head.appendChild(t)})}function Re(c,i){if(c.matches&&c.matches(i))return c;let e=c.querySelector(i);if(e)return e;let t=c.querySelectorAll("*");for(let n of t)if(n.shadowRoot){let o=this.locator(n.shadowRoot,i);if(o)return o}}function Pe(c,i){let e=[];c.matches&&c.matches(i)&&e.push(c),e.push(...c.querySelectorAll(i));let t=c.querySelectorAll("*");for(let n of t)n.shadowRoot&&e.push(...this.locatorAll(n.shadowRoot,i));return e}function He(c,i=3e3,e=100){return new Promise((t,n)=>{let o=Date.now(),s=()=>{let l=document.querySelector(c);l&&l.offsetParent!==null?t(l):Date.now()-o>i?n(new Error(`Timeout: Selector "${c}" not found or not visible after ${i}ms`)):setTimeout(s,e)};s()})}function Be(c,i){let e=!1;return e=wc.linksLoaded[c]&&wc.scriptsLoaded[i],e}function $e(c=[],i=[],e=5e3,t=100){return new Promise((n,o)=>{let s=Date.now(),l=Array.isArray(c)?c:[c],r=Array.isArray(i)?i:[i],a=()=>{let d=l.length===0||l.every(u=>window.wc?.scriptsLoaded?.[u]===!0),p=r.length===0||r.every(u=>window.wc?.linksLoaded?.[u]===!0);d&&p?n():Date.now()-s>e?o(new Error(`Timeout: Dependencies not available after ${e}ms. Scripts: ${JSON.stringify(l)}, Links: ${JSON.stringify(r)}`)):setTimeout(a,t)};a()})}function _e(c=[],i=3e3){return new Promise((e,t)=>{let n=Date.now(),o=Array.isArray(c)?c:[c],s=()=>{o.every(r=>document.querySelector(r)!==null)?e():Date.now()-n>i?t(new Error(`Timeout: Not all selectors available after ${i}ms. Missing selectors: ${JSON.stringify(o)}`)):requestAnimationFrame(s)};s()})}function We(c,i,e=3e3){return new Promise((t,n)=>{let o=Date.now(),s=()=>{c[i]?t():Date.now()-o>e?n(new Error(`Timeout: ${e}ms. Propery: ${i} not available on element.`)):requestAnimationFrame(s)};s()})}async function $(c){return new Promise(i=>setTimeout(i,c))}function Ae(c){document.querySelector(c).classList.add("hidden")}function Le(c){document.querySelector(c).classList.remove("hidden")}function Te(c,i){Ae(c),Le(i)}async function je(c,i,e=3e3,t=500){await _e([c,i],e),await $(t),Te(c,i)}function ze(c,i,e){try{fetch(c,{method:"GET"}).then(t=>t.text()).then(t=>{i&&i(t)})}catch(t){e&&e(t)}}function Oe(c){if(c){let i={animation:150,draggable:".preview-draggable",onEnd:function(e){let t={e,event:"onEnd",item:e.item,from:e.from,to:e.to,oldIndex:e.oldIndex,newIndex:e.newIndex};wc?.EventHub?.broadcast("sortable:on-end","","",t)}};if(typeof Sortable<"u"){let e=new Sortable(c,i);wc.EventHub.events[c]=e}}}function Fe(c){wc?.EventHub?.events[c].destroy()}function Ne(c,i,e,t){let n=2;i=i-n,e=e-n;let o=t.editor,s=o.getValue(),l=new RegExp(`<wc-form[^>]*id=["']${c}["'][^>]*>([\\s\\S]*?)<\\/wc-form>`),r=s.match(l);if(r){let a=r[1],d=/<div[^>]*class=["'][^"']*preview-draggable[^"']*["'][^>]*>[\s\S]*?<\/div>/g,p=a.match(d)||[];if(p.length===0)return;if(i>=0&&i<p.length&&e>=0&&e<p.length){let h=p.splice(i,1)[0];p.splice(e,0,h)}let u=a.replace(d,()=>p.shift()),m=s.replace(a,u);o.setValue(m)}}function Ue(c){let i=-1;return c&&(i=document.querySelectorAll(c).length),i}function Je(c,i){let e=document.querySelector(c);e&&(i?e.classList.add("htmx-request"):e.classList.remove("htmx-request"))}function Ve(c,i){let t=c.detail.elt.closest("form"),n=t.querySelector(i);if(console.log("-->Attempting to process JSON for selector: ",i,t),n)try{let l=function(r,a=""){for(let d in r)if(Object.prototype.hasOwnProperty.call(r,d)){let p=r[d],u=a?`${a}.${d}`:d;if(p!==null&&typeof p=="object"&&!Array.isArray(p))l(p,u);else if(Array.isArray(p))p.forEach((m,h)=>{if(typeof m=="object"&&m!==null)l(m,`${u}[${h}]`);else{let g=document.createElement("input");g.type="hidden",g.name=`${u}[${h}]`,g.value=m,g.setAttribute("data-json-field","true"),t.appendChild(g),console.log("-->Appending array primitive:",g)}});else{let m=document.createElement("input");m.type="hidden",m.name=u,m.value=p,m.setAttribute("data-json-field","true"),t.appendChild(m),console.log("-->Appending primitive:",m)}}};t.querySelectorAll('input[data-json-field="true"]').forEach(r=>r.remove());let s=JSON.parse(n.value);console.log("-->JSON contents: ",s),l(s,"json_data"),console.log("-->Processing complete for selector: ",i,t)}catch(o){console.error("Error parsing JSON:",o)}}function Ie(c,i){if(c==null)return!1;if("const"in i)return c===i.const;if("enum"in i)return Array.isArray(i.enum)&&i.enum.includes(c);if("minimum"in i){let e=typeof c=="number"?c:parseFloat(c);if(isNaN(e)||e<i.minimum)return!1}if("maximum"in i){let e=typeof c=="number"?c:parseFloat(c);if(isNaN(e)||e>i.maximum)return!1}if("minLength"in i&&String(c).length<i.minLength||"maxLength"in i&&String(c).length>i.maxLength)return!1;if("pattern"in i){let e=new RegExp(i.pattern);if(typeof c!="string"||!e.test(c))return!1}return!0}function qe(c,i,e){let t="";if(c?(t=`[data-id="${c}"]`,i&&(t+=` ${i}`)):i&&(t=i),!t)return;let n=document.querySelector(t);if(n)return e&&e in n?n[e]:n.type==="checkbox"?n.checked:n.value}function j(c){let{effect:i,condition:e,tgtDataId:t,tgtSelector:n,tgtProperty:o}=c,{scope:s,schema:l,srcDataId:r,srcSelector:a,srcProperty:d,property:p}=e,u=qe(r,a,d);if(u==null)return;let m=!1;l&&(m=Ie(u,l));let h="";t?(h=`[data-id="${t}"]`,n&&(h+=` ${n}`)):n&&(h=n);let g=document.querySelector(h);if(g)switch(i){case"COPY":g[o]=u;break;case"COPY-TOLOWER":g[o]=u.toString().toLowerCase();break;case"COPY-TOLOWER-UNDERSCORE":g[o]=u.toString().toLowerCase().replaceAll(" ","_");break;case"HIDE":g.style.display=m?"none":"";break;case"SHOW":g.style.display=m?"":"none";break;case"DISABLE":g.disabled=m;break;case"ENABLE":g.disabled=!m;break;case"REQUIRE":g.required=!m;break;case"UN-REQUIRE":g.required=m;break;default:console.warn("Unknown rule effect:",i)}}function Ge(c){Array.from(new Set(c.map(e=>e.condition.srcDataId))).forEach(e=>{document.querySelectorAll(`[data-id="${e}"]`).forEach(t=>{let n=Array.from(c).filter(o=>o.condition.srcDataId==e);t.addEventListener("change",()=>{n.forEach(j)}),t.addEventListener("input",()=>{n.forEach(j)})})}),c.forEach(j)}function Ye(c){let i=[];function e(t){!t||typeof t!="object"||(t.rules&&i.push(...t.rules),Array.isArray(t.elements)&&t.elements.forEach(e))}return c.forEach(e),i}function Ke(c){let i=[];function e(t){let n=t.label||"",o=t.scope||"",s=o?`${n} (${o})`:n,l={dataId:t["data-id"],label:s};i.push(l),t.elements&&Array.isArray(t.elements)&&t.elements.forEach(r=>e(r))}return c.forEach(t=>e(t)),i}var z=class{constructor(){this.icons=new Map,this.baseUrl="/dist/assets/icons"}setBaseUrl(i){this.baseUrl=i}register(i,e,t="solid"){let n=`${t}/${i}`,s=new DOMParser().parseFromString(e,"image/svg+xml"),l=s.querySelector("svg"),r=s.querySelectorAll("path"),a={viewBox:l?.getAttribute("viewBox")||"0 0 512 512",paths:Array.from(r).map(d=>({d:d.getAttribute("d"),opacity:d.getAttribute("opacity"),class:d.getAttribute("class"),fill:d.getAttribute("fill")}))};this.icons.set(n,a),window.customElements.get("wc-icon")&&window.customElements.get("wc-icon").registerIcon(i,a,t)}registerBatch(i,e="solid"){Object.entries(i).forEach(([t,n])=>{this.register(t,n,e)})}async loadFromJson(i,e="solid"){try{let n=await(await fetch(i)).json();this.registerBatch(n,e)}catch(t){console.error(`Failed to load icons from ${i}:`,t)}}async preload(i,e="solid"){let t=i.map(async n=>{let o=`${e}/${n}`;if(!this.icons.has(o))try{let s=await fetch(`${this.baseUrl}/${e}/${n}.svg`);if(s.ok){let l=await s.text();this.register(n,l,e)}}catch(s){console.error(`Failed to preload icon ${o}:`,s)}});await Promise.all(t)}get(i,e="solid"){return this.icons.get(`${e}/${i}`)}has(i,e="solid"){return this.icons.has(`${e}/${i}`)}getAll(){return new Map(this.icons)}clear(){this.icons.clear()}},Se=new z;typeof window<"u"&&(window.wc=window.wc||{},window.wc.iconRegistry=Se);var b=class extends HTMLElement{constructor(){super(),this._wcId=ke(),this.loadCSS=S.bind(this),this.loadScript=_.bind(this),this.loadLibrary=A.bind(this),this.loadStyle=L.bind(this),this.childComponent=null,this.childComponentSelector="",this._pendingAttributes={},this._isConnected=!1,this.componentElement=null,this.formElement=null}get wcId(){return this._wcId}connectedCallback(){this.childComponentSelector?this._waitForChildren(this.childComponentSelector).then(()=>{this._connectedCallback()}):this._connectedCallback()}_connectedCallback(){this._render(),this.dataset.wcId=this.wcId,this.childComponentName?this._waitForChild(()=>this[this.childComponentName]).then(()=>{this._isConnected=!0,this._applyPendingAttributes()}):(this._isConnected=!0,this._applyPendingAttributes())}disconnectedCallback(){}attributeChangedCallback(i,e,t){this._isConnected?this._handleAttributeChange(i,t,e):this._pendingAttributes[i]=t}_applyPendingAttributes(){Object.keys(this._pendingAttributes).forEach(i=>{let e=this._pendingAttributes[i];this._handleAttributeChange(i,e,null)}),this._pendingAttributes={}}_handleAttributeChange(i,e,t){if(i==="name")this._handleNameToIdLinkage(e);else if(i==="elt-class"){let n=this.querySelector("[form-element]");n&&n.setAttribute("class",e)}else i==="class"?e&&e.replace("contents","").split(" ").forEach(s=>{s&&(this.componentElement.classList.add(s),this.classList.remove(s))}):this.componentElement.setAttribute(i,e)}_handleNameToIdLinkage(i){i&&this.formElement&&!this.formElement.hasAttribute("id")&&(this.formElement.setAttribute("id",i),this.formElement.setAttribute("name",i),this.removeAttribute("name"))}_render(){this.classList.add("contents")}async _waitForChild(i){return new Promise(e=>{let t=setInterval(()=>{i()&&(clearInterval(t),e())},50)})}async _waitForChildren(i){let e=Array.from(this.querySelectorAll(i));await Promise.all(e.map(t=>new Promise(n=>{t.isConnected?n():t.addEventListener("connected",n,{once:!0})})))}_applyStyle(){}_wireEvents(){}_unWireEvents(){}};var M=class extends b{static formAssociated=!0;constructor(){super(),this._internals=this.attachInternals(),this._value=""}get value(){return this._isCheckbox()?this.checked:this._value}set value(i){this._isCheckbox()?this.checked=i:(this._value=i,this._internals.setFormValue(this._value))}get required(){return this.hasAttribute("required")}set required(i){i?this.setAttribute("required",""):this.removeAttribute("required")}get checked(){return this.formElement?.checked||!1}set checked(i){this._isCheckbox()&&(this.formElement.checked=i,this._internals.setFormValue(i?"bool:True":"bool:False"))}get validity(){return this._internals.validity}get validationMessage(){return this._internals.validationMessage}get willValidate(){return this._internals.willValidate}checkValidity(){return this._internals.checkValidity()}reportValidity(){return this._internals.reportValidity()}_handleValidation(){let i="";if(i==="span")if(this.formElement?.validity.valid)this.componentElement.querySelector(".error-message")?.remove();else{let e=document.createElement("span");e.classList.add("error-message"),e.textContent=this.formElement?.validationMessage,this.componentElement.appendChild(e)}else if(i==="tooltip")if(this.formElement?.validity.valid)this.formElement?.removeAttribute("data-error"),this.formElement?.setAttribute("title",this.formElement?.getAttribute("data-has-title")),this.formElement?.removeAttribute("data-has-title");else{let e=this.formElement?.validationMessage;this.formElement?.setAttribute("data-error",e),this.formElement?.setAttribute("data-has-title",this.formElement?.getAttribute("title")||""),this.formElement?.setAttribute("title","")}this._internals.setValidity(this.formElement?.validity,this.formElement?.validationMessage)}connectedCallback(){super.connectedCallback(),this.formElement=this.querySelector("input, select, textarea"),this._wireEvents()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="value"?this._isCheckbox()?this.checked=e!==null&&e!=="false"&&e!=="bool:False":(this.formElement&&(this.formElement?.setAttribute("value",e),"value"in this.formElement&&(this.formElement.value=e)),this.value=e):super._handleAttributeChange(i,e)}_handleInputChange(i){let{target:e}=i;if(this._isCheckbox()?(e.checked?this.formElement.value="bool:True":this.formElement.value="bool:False",this.checked=e.checked):this.value=e.value,this._isRange()){let t=this.querySelector("label"),n=this.getAttribute("lbl-label")||"";t&&n&&(t.textContent=`${n} (${e.value})`)}this._handleValidation()}_isCheckbox(){return this.formElement?.type==="checkbox"}_isRange(){return this.formElement?.type==="range"}_wireEvents(){super._wireEvents(),this.formElement&&(this.formElement.addEventListener("input",this._handleInputChange.bind(this)),this.formElement.addEventListener("change",this._handleInputChange.bind(this)))}_unWireEvents(){super._unWireEvents(),this.formElement&&(this.formElement.removeEventListener("input",this._handleInputChange.bind(this)),this.formElement.removeEventListener("change",this._handleInputChange.bind(this)))}};if(!customElements.get("wc-accordion")){class c extends b{static get observedAttributes(){return["id","class","items","allow-many"]}constructor(){super(),this._items=[];let e=this.querySelector(".wc-accordion");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-accordion"),this.appendChild(this.componentElement)),console.log("ctor:wc-accordion")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-accordion",this._items)}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"?(typeof t=="string"&&(this._items=JSON.parse(t)),this.removeAttribute("items")):e==="allow-many"||super._handleAttributeChange(e,t)}_render(){super._render();let e=this.querySelectorAll(".wc-accordion > *");e.length>0?(this.componentElement.innerHTML="",e.forEach(t=>this.componentElement.appendChild(t))):(this._moveDeclarativeOptions(),this.componentElement.innerHTML="",this._items.forEach(t=>{let n=this._createHeader(t.label,t.selected);this.componentElement.appendChild(n);let o=this._createPanel(t.content);this.componentElement.appendChild(o)})),this._setActive(),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-accordion")}_createHeader(e,t){let n=this.hasAttribute("allow-many"),o=document.createElement("button");return o.classList.add("accordion-header"),t&&o.classList.add("accordion-active"),n?o.setAttribute("_",`on click
          toggle .accordion-active on me
          set panel to me.nextElementSibling
          if panel.style.maxHeight then
            set panel.style.maxHeight to null
          else
            set panel.style.maxHeight to panel.scrollHeight + 'px'
          end
        `):o.setAttribute("_",`on click
          set hdrs to .accordion-header in my parentElement
          repeat for x in hdrs
            if x is not me then
              remove .accordion-active from x
              set panel to x.nextElementSibling
              set panel.style.maxHeight to null
            end
          end
          toggle .accordion-active on me
          set panel to me.nextElementSibling
          if panel.style.maxHeight then
            set panel.style.maxHeight to null
          else
            set panel.style.maxHeight to panel.scrollHeight + 'px'
          end
        `),o.textContent=e,o}_createPanel(e){let t=document.createElement("div");t.classList.add("accordion-panel");let n=document.createElement("p");return n.innerHTML=e,t.appendChild(n),t}_moveDeclarativeOptions(){let e=this.querySelectorAll("option");e.length>0&&(this._items=[]),e.forEach(t=>{let n={label:t.value,content:t.innerHTML.trim(),selected:t.hasAttribute("selected")};this._items.push(n)}),Array.from(e).forEach(t=>t.remove())}_setActive(){setTimeout(()=>{this.querySelectorAll(".wc-accordion .accordion-header.accordion-active").forEach(t=>{let n=t.nextElementSibling;n.style.maxHeight=n.scrollHeight+"px"})},50)}_applyStyle(){let e=`
        wc-accordion {
          display: contents;
        }

        .wc-accordion .accordion-header {
          background-color: var(--button-bg-color);
          color: var(--button-color);
          cursor: pointer;
          padding: 18px;
          width: 100%;
          border: none;
          border-radius: 0;
          text-align: left;
          outline: none;
          font-size: 15px;
          transition: 0.4s;
        }

        .wc-accordion .accordion-active,
        .wc-accordion .accordion-header:hover {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }

        .wc-accordion .accordion-header:after {
          content: '+';
          color: var(--primary-color);
          font-weight: bold;
          float: right;
          margin-left: 5px;
          font-size: 18px;
          line-height: 1;
          text-align: center;
          width: 20px;
          height: 20px;
        }

        .wc-accordion .accordion-active:after {
          content: '-';
          color: var(--primary-color);
          font-size: 20px;
        }

        .wc-accordion .accordion-panel {
          padding: 0 18px;
          background-color: var(--component-bg-color);
          color: var(--component-color);
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.2s ease-out;
        }
      `.trim();this.loadStyle("wc-accordion-style",e)}_handleHelper(e,t="open"){let{detail:n}=e,{selector:o,subSelector:s}=n,l=s||".accordion-header",r=Array.isArray(o);typeof o=="string"||r?document.querySelectorAll(o).forEach(d=>{if(d===this){let p=d?.querySelector(l);t==="open"?p?.classList.contains("accordion-active")||p?.click():t==="close"?p?.classList.contains("accordion-active")&&p?.click():t==="toggle"&&p?.click()}}):o?.querySelector(l)?.click()}_handleOpen(e){this._handleHelper(e,"open")}_handleClose(e){this._handleHelper(e,"close")}_handleToggle(e){this._handleHelper(e,"toggle")}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-accordion:open",this._handleOpen.bind(this)),document.body.addEventListener("wc-accordion:close",this._handleClose.bind(this)),document.body.addEventListener("wc-accordion:toggle",this._handleToggle.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-accordion:open",this._handleOpen.bind(this)),document.body.removeEventListener("wc-accordion:close",this._handleClose.bind(this)),document.body.removeEventListener("wc-accordion:toggle",this._handleToggle.bind(this))}}customElements.define("wc-accordion",c)}if(!customElements.get("wc-article-card")){class c extends b{static get observedAttributes(){return["id","class","url","img-url","article-type"]}constructor(){super(),this.imgUrl="",this.articleTypes={news:"https://images.pexels.com/photos/1755683/pexels-photo-1755683.jpeg?auto=compress&cs=tinysrgb&w=768",css:"https://miro.medium.com/v2/da:true/resize:fit:768/0*1YrO9YLbwHnzExsO",technology:"https://images.pexels.com/photos/2653362/pexels-photo-2653362.jpeg?auto=compress&cs=tinysrgb&w=768",programming:"https://images.pexels.com/photos/6424591/pexels-photo-6424591.jpeg?auto=compress&cs=tinysrgb&w=768"},this.articleData=null,this.articleType="news";let e=this.querySelector(".wc-article-card");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-article-card"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this.getAttribute("url")&&this.fetchArticleData(this.getAttribute("url")),await this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="url"||(e==="img-url"?this.imgUrl=t:e==="article-type"?this.imgUrl=this.articleTypes[t]||this.articleTypes.news:super._handleAttributeChange(e,t))}async fetchArticleData(e){try{let t=await fetch(`/api/article-metadata?url=${encodeURIComponent(e)}`);this.articleData=await t.json(),this._createElement()}catch(t){console.error("Error fetching article data:",t)}}_createElement(){if(!this.articleData)return;let e=this.getAttribute("url"),{title:t,description:n,imageUrl:o,publishDate:s,domain:l}=this.articleData;this.imgUrl&&(o=this.imgUrl),this.componentElement.innerHTML=`
        <div class="article-card-image">
          <img src="${o||""}" alt="${t}">
        </div>
        <div class="article-card-content">
          <a class="article-card-title" href="${e}" target="_blank">${t}</a>
          <p class="article-card-description">${n}</p>
          <div class="article-card-meta">
            <span class="article-card-domain">${l}</span>
            <span class="article-card-date">${new Date(s).toLocaleDateString()}</span>
          </div>
        </div>
      `.trim()}_applyStyle(){let e=`
        wc-article-card {
          display: contents;
        }
        .articles-container {
          max-width: 1200px;
          margin: 0 auto;
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 20px;
          padding: 20px;
        }
        .wc-article-card {
          background-color: var(--primary-bg-color);
          color: var(--primary-color);
          box-shadow: var(--card-shadow);
          overflow: hidden;
          transition: transform 0.2s, box-shadow 0.2s;
        }
        .wc-article-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        .wc-article-card .article-card-image {
          width: 100%;
          height: 200px;
          object-fit: cover;
          background: #e5e7eb;
        }
        .wc-article-card .article-card-content {
          padding: 16px;
        }
        .wc-article-card .article-card-title {
          margin: 0 0 8px 0;
          font-size: 1.25rem;
          color: var(--swatch-1);
          text-decoration: none;
        }
        .wc-article-card a.article-card-title:hover {
          text-shadow: var(--swatch-3) 1px 0 10px;
        }
        .wc-article-card .article-card-description {
          margin: 0 0 16px 0;
          font-size: 0.875rem;
          line-height: 1.5;
          color: var(--swatch-2);
        }
        .wc-article-card .article-card-meta {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.75rem;
          color: var(--swatch-3);
        }
        .wc-article-card .article-card-source {
          font-weight: 500;
        }
      `.trim();this.loadStyle("wc-article-card",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-article-card",c)}var O=class extends b{static get observedAttributes(){return["id","class","caption","img-url","min-height"]}constructor(){super();let i=this.querySelector(".wc-background-image");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-background-image"),this.appendChild(this.componentElement)),console.log("ctor:wc-background-image")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-background-image")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):i==="caption"||i==="img-url"||i==="min-height"||super._handleAttributeChange(i,e)}_render(){super._render();let i=this.querySelectorAll(".wc-background-image > *");if(i.length>0)this.componentElement.innerHTML="",i.forEach(e=>this.componentElement.appendChild(e));else{this.componentElement.innerHTML="";let e=this.getAttribute("img-url")||"",t=this.getAttribute("min-height")||"100%";this.componentElement.style.backgroundImage=`url("${e}")`,this.componentElement.style.minHeight=t;let n=this._createElement();this.componentElement.appendChild(n)}typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-background-image")}_createElement(){let i=this.getAttribute("caption")||"",e=document.createElement("div");e.classList.add("caption");let t=document.createElement("span");return t.classList.add("border"),t.textContent=i,e.appendChild(t),e}_applyStyle(){let i=`
      wc-background-image {
        display: contents;
      }
      .wc-background-image {
        position: relative;
        opacity: 0.65;
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
      }
      .wc-background-image .caption {
        position: absolute;
        left: 0;
        top: 50%;
        width: 100%;
        text-align: center;
        color: #000;
      }
      .wc-background-image .caption span.border {
        background-color: #111;
        color: #fff;
        padding: 18px;
        font-size: 25px;
        letter-spacing: 10px;
      }
      /* Turn off parallax scrolling for tablets and phones */
      /* @media only screen and (max-device-width: 1024px) { */
      @media (max-device-width: 768px) {
        .wc-background-image {
          background-attachment: scroll;
        }
      }      
    `.trim();this.loadStyle("wc-background-image-style",i)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-background-image",O);if(!customElements.get("wc-breadcrumb-item")){class c extends b{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-breadcrumb-item")}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="breadcrumb-item",this.componentElement.className="wc-breadcrumb-item flex flex-row px-2 gap-4",this.componentElement.innerHTML=`
        <a href="/v/home"
           hx-get="/v/home"
           hx-target="#viewport"
           hx-swap="innerHTML transition:true"
           hx-push-url="true"
           hx-indicator="#content-loader">
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <a href="/v/screen_list/list"
          hx-get="/v/screen_list/list"
          hx-target="#viewport"
          hx-swap="innerHTML transition:true"
          hx-push-url="true"
          hx-indicator="#content-loader">
          Screens
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <span>
          screen
        </span>
      `.trim()}_applyStyle(){let e=`
      wc-breadcrumb-item {
        display: contents;
      }
      wc-breadcrumb-item .wc-breadcrumb-item {
        /* background-color: var(--surface-1); */
      }
      `.trim()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-breadcrumb-item",c)}if(!customElements.get("wc-breadcrumb")){class c extends b{static get observedAttributes(){return["id","class","doc-title"]}constructor(){super();let e=this.querySelector(".wc-breadcrumb");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement)),setTimeout(()=>{let t=[],n=this.getAttribute("doc-title")||"",o=this.querySelectorAll("wc-breadcrumb-item");Array.from(o).forEach(l=>{let r=l.getAttribute("label");r&&t.push(r)});let s=t.join(" > ");s&&(n?document.title=s+" - "+n:document.title=s)},250)}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_getBreadcrumbItems(){let e=[{label:"",link:"/v/home"},{label:"Screens",link:"/v/screen_list/list"},{label:"screen",link:""}],t=[],n=this.querySelectorAll("wc-breadcrumb-item");return Array.from(n).forEach(o=>{let s=o.getAttribute("label")||"",l=o.getAttribute("link")||"";t.push({label:s,link:l})}),t}_createElement(){let e=[],t=this._getBreadcrumbItems();t.forEach((o,s)=>{s==0?e.push(`
            <a href="${o.link}"
              hx-get="${o.link}"
              hx-target="#viewport"
              hx-swap="innerHTML transition:true"
              hx-push-url="true"
              hx-indicator="#content-loader">
              <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
              </svg>
            </a>            
          `):t.length-1==s?e.push(`
            <span id="title-content">
              ${o.label}
            </span>            
          `):e.push(`
            <a href="${o.link}"
              hx-get="${o.link}"
              hx-target="#viewport"
              hx-swap="innerHTML transition:true"
              hx-push-url="true"
              hx-indicator="#content-loader">
              ${o.label}
            </a>
          `)});let n=e.join(`
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
      `);this.componentElement.id="breadcrumb",this.componentElement.className="wc-breadcrumb flex flex-row px-2 gap-3",this.componentElement.innerHTML=n,this.componentElement.innerHTML2=`
        <a href="/v/home"
           hx-get="/v/home"
           hx-target="#viewport"
           hx-swap="innerHTML transition:true"
           hx-push-url="true"
           hx-indicator="#content-loader">
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <a href="/v/screen_list/list"
          hx-get="/v/screen_list/list"
          hx-target="#viewport"
          hx-swap="innerHTML transition:true"
          hx-push-url="true"
          hx-indicator="#content-loader">
          Screens
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <span>
          screen
        </span>
      `.trim()}_applyStyle(){let e=`
      wc-breadcrumb {
        display: contents;
      }
      wc-breadcrumb .wc-breadcrumb {
        /* background-color: var(--surface-1); */
      }
      `.trim()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-breadcrumb",c)}if(!customElements.get("wc-canvas-dot-highlight")){class c extends b{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-canvas-dot-highlight");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-canvas-dot-highlight"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._wireEvents(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){let e=Array.from(this.children).filter(n=>!n.matches("wc-canvas-dot-highlight")&&!n.matches(".wc-canvas-dot-highlight")),t=document.createElement("canvas");t.id="dotCanvas",this.componentElement.appendChild(t),e.forEach(n=>this.componentElement.appendChild(n))}_applyStyle(){let e=`
        wc-canvas-dot-highlight {
          display: contents;
        }
        .wc-canvas-dot-highlight {
          position: relative;
        }
        .wc-canvas-dot-highlight canvas {
          border-radius: 8px;
          border: 1px solid gray;
          border-radius: 10px;
          background-color: #111;
        }
      `.trim();this.loadStyle("wc-canvas-dot-highlight",e)}_wireEvents(){let e=this.componentElement.querySelector("#dotCanvas"),t=e.getContext("2d");e.width=window.innerWidth*.95,e.height=window.innerHeight*.95;let n={dotSpacing:20,dotRadius:1.25,highlightRadius:160,defaultColor:"#444",highlightColor:"#40E0D0",backgroundColor:"#111111",animationSpeed:.15},o=Math.floor(e.width/n.dotSpacing),s=Math.floor(e.height/n.dotSpacing),l=e.width/2,r=e.height/2,a=e.width/2,d=e.height/2,p=!1,u=0,m=0;e.addEventListener("mousemove",g=>{let y=e.getBoundingClientRect();l=g.clientX-y.left,r=g.clientY-y.top,p&&(u=l,m=r)}),e.addEventListener("mouseenter",g=>{p=!0;let y=e.getBoundingClientRect();l=g.clientX-y.left,r=g.clientY-y.top,u=l,m=r}),e.addEventListener("mouseleave",()=>{p=!1,u=0,m=0});function h(){t.fillStyle=n.backgroundColor,t.fillRect(0,0,e.width,e.height),a+=(u-a)*n.animationSpeed,d+=(m-d)*n.animationSpeed;for(let k=0;k<o;k++)for(let x=0;x<s;x++){let v=(k+.5)*n.dotSpacing,C=(x+.5)*n.dotSpacing;t.fillStyle=n.defaultColor,t.beginPath(),t.arc(v,C,n.dotRadius,0,Math.PI*2),t.fill()}let y=Math.sqrt(Math.pow(a-u,2)+Math.pow(d-m,2))<1;if(!p)return requestAnimationFrame(h);for(let k=0;k<o;k++)for(let x=0;x<s;x++){let v=(k+.5)*n.dotSpacing,C=(x+.5)*n.dotSpacing,T=v-a,I=C-d,q=Math.sqrt(T*T+I*I);if(q<n.highlightRadius){let D=Math.pow(1-q/n.highlightRadius,2),R=p?1:Math.max(0,1-(y?1:0));t.fillStyle=n.highlightColor,t.globalAlpha=D*R,t.beginPath(),t.arc(v,C,n.dotRadius,0,Math.PI*2),t.fill()}}t.globalAlpha=1,requestAnimationFrame(h)}window.addEventListener("resize",()=>{e.width=window.innerWidth*.95,e.height=window.innerHeight*.95,p||(u=e.width/2,m=e.height/2)}),h()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-canvas-dot-highlight",c)}if(!customElements.get("wc-code-mirror")){class c extends b{static get observedAttributes(){return["id","class","height","theme","mode","lbl-label","lbl-class","line-numbers","line-wrapping","fold-gutter","tab-size","indent-unit","value","disabled","required","fetch"]}constructor(){super(),this.childComponentName="editor",this._isResizing=!1,this._internals=this.attachInternals(),this.firstContent="",this.innerHTML.trim()!=""?(this.firstContent=this.innerHTML.replaceAll("=&gt;","=>"),this.innerHTML=""):this.firstChild&&this.firstChild.nodeName=="#text"&&(this.firstContent=this.firstChild.textContent,this.removeChild(this.firstChild));let e=this.querySelector(".wc-code-mirror");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-code-mirror"),this.appendChild(this.componentElement)),console.log("ctor:wc-code-mirror")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("conntectedCallback:wc-code-mirror")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}async _handleAttributeChange(e,t,n){if(e==="lbl-class"){let o=this.getAttribute("name");this.querySelector(`label[for="${o}"]`)?.classList.add(t)}else if(e==="theme")await this.loadTheme(t);else if(e==="mode")await this.loadMode(t);else if(e==="height")t&&this.editor.setSize(null,t);else if(e==="line-numbers"){t||t==""?this.editor.setOption("lineNumbers",!0):this.editor.setOption("lineNumbers",!1);let o=await this.getGutters();this.editor.setOption("gutters",o)}else if(e==="line-wrapping")t||t==""?this.editor.setOption("lineWrapping",!0):this.editor.setOption("lineWrapping",!1);else if(e==="fold-gutter"){t||t==""?this.editor.setOption("foldGutter",!0):this.editor.setOption("foldGutter",!1);let o=await this.getGutters();this.editor.setOption("gutters",o)}else if(e==="tab-size")this.editor.setOption("tabSize",parseInt(t,10));else if(e==="indent-unit")this.editor.setOption("indentUnit",parseInt(t,10));else if(e==="value")this.editor.setValue(t);else if(e==="disabled")this.hasAttribute("disabled")?this.editor.setOption("readOnly","nocursor"):this.editor.setOption("readOnly",!1);else if(e==="fetch"){if(!n)return;this.editor&&(this.fetchUrl=t,this.handleFetch(this.fetchUrl))}else super._handleAttributeChange(e,t,n)}_render(){super._render(),this.querySelector(".wc-code-mirror > *")?this.querySelector(".settings-icon").addEventListener("click",this._handleSettingsIconClick.bind(this)):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-code-mirror")}async _createInnerElement(){let e=this.getAttribute("lbl-label")||"",t=this.getAttribute("name")||"";if(!t)throw new Error("Name attribute must be provided.");if(e){let l=document.createElement("label"),r=this.getAttribute("value")||"";l.textContent=e,l.setAttribute("for",t),this.componentElement.appendChild(l)}this.editor=null,this.popoverId=`settings-popover-${this.getAttribute("name")||"wc-code-mirror"}`;let n=document.createElement("button");n.type="button",n.innerHTML=`
        <svg class="h-3 w-3" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512">
          <path d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/>
        </svg>
      `.trim(),n.className="settings-icon",n.setAttribute("popovertarget",this.popoverId),n.addEventListener("click",this._handleSettingsIconClick.bind(this)),this.componentElement.appendChild(n);let o=document.createElement("div");o.classList.add("settings-popover"),o.id=this.popoverId,o.setAttribute("popover","manual"),this.componentElement.appendChild(o);let s=this.getAttribute("value")||this.firstContent||"";await Promise.all([this.loadCSS("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css"),this.loadLibrary("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js","CodeMirror")]),await this.renderEditor(s),this._internals.setFormValue(s)}_handleSettingsIconClick(e){let t=this.querySelector(".settings-popover");this._buildSettingsPopover(t)}_buildSettingsPopover(e){let t=this.hasAttribute("line-numbers"),n=this.hasAttribute("line-wrapper"),o=this.hasAttribute("fold-gutter"),s=["apl","asciiarmor","asn.1","asterisk","brainfuck","clike","clojure","cmake","cobol","coffeescript","commonlisp","crystal","css","cypher","d","dart","diff","django","dockerfile","dtd","dylan","ebnf","ecl","eiffel","elm","erlang","factor","fcl","forth","fortran","gas","gfm","gherkin","go","groovy","haml","handlebars","haskell","haxe","htmlembedded","htmlmixed","http","idl","javascript","jinja2","julia","kotlin","litespec","livescript","lua","markdown","mathematica","mbox","mirc","mllike","modelica","mscgen","mumps","nginx","nsis","ntriples","octave","oz","pascal","perl","php","pig","powershell","properties","protobuf","pug","puppet","python","q","r","rpm","rst","ruby","rust","sas","sass","scheme","shell","sieve","slim","smalltalk","smarty","solr","soy","sparql","spreadsheet","sql","stex","stylus","swift","tcl","textile","tiddlywiki","tiki","toml","tornado","troff","ttcn","ttcn-cfg","turtle","twig","vb","vbscript","velocity","verilog","vhdl","vue","xml","xquery","yaml","yaml-frontmatter","z80"],l=["3024-day","3024-night","abcdef","ambiance","ayu-dark","ayu-mirage","base16-dark","base16-light","bespin","blackboard","cobalt","colorforth","default","darcula","dracula","duotone-dark","duotone-light","eclipse","elegant","erlang-dark","gruvbox-dark","hopscotch","icecoder","idea","isotope","lesser-dark","liquibyte","lucario","material","material-darker","material-palenight","material-ocean","mbo","mdn-like","midnight","monokai","moxer","neat","neo","night","nord","oceanic-next","panda-syntax","paraiso-dark","paraiso-light","pastel-on-dark","railscasts","rubyblue","seti","shadowfox","solarized","ssms","the-matrix","tomorrow-night-bright","tomorrow-night-eighties","ttcn","twilight","vibrant-ink","xq-dark","xq-light","yeti","yonce","zenburn"];e.innerHTML=`
        <div id="popover-form" class="popover-form col gap-3">
          <button id="closeButton" class="close-btn" type="button"
            popovertarget="${this.popoverId}" popovertargetaction="hide"
            >
            <span aria-hidden="true">X</span>
            <span class="sr-only">Close</span>
          </button>
          <div class="row gap-2">
            <wc-select class="col-1" name="theme-select" lbl-label="Theme" autofocus elt-class="w-full">
              ${l.map(r=>`<option value="${r}" ${r==this.getAttribute("theme")?"selected":""}>${r}</option>`).join("")}
            </wc-select>
            <wc-select class="col-1" name="mode-select" lbl-label="Mode" elt-class="w-full">
              ${s.map(r=>`<option value="${r}" ${r==this.getAttribute("mode")?"selected":""}>${r}</option>`).join("")}
            </wc-select>
          </div>
          <div class="row gap-2">
            <wc-input class="col-1" name="line-numbers" lbl-label="Line Numbers" ${t?"checked ":""}type="checkbox"></wc-input>
            <wc-input class="col-1" name="line-wrapper" lbl-label="Line Wrapper" ${n?"checked ":""}type="checkbox"></wc-input>
            <wc-input class="col-1" name="fold-gutter" lbl-label="Fold Gutter" ${o?"checked ":""}type="checkbox"></wc-input>
          </div>
          <div class="row gap-2">
            <wc-input class="col-1" name="tab-size" lbl-label="Tab Size" value="${this.getAttribute("tab-size")}" type="number"></wc-input>
            <wc-input class="col-1" name="indent-unit" lbl-label="Indent Unit" value="${this.getAttribute("indent-unit")}" type="number"></wc-input>
          </div>
          <div class="row gap-2 justify-end gap-x-4">
            <button class="" id="apply-settings" type="submit">
              Apply
            </button>
            <button class="btn-clear" id="cancel-settings" type="button">
              Cancel
            </button>
          </div>
        </div>
      `,e.querySelector("#closeButton").addEventListener("click",this._handleSettingsClose.bind(this),{once:!0}),e.querySelector("#apply-settings").addEventListener("click",this._handleSettingsApply.bind(this),{once:!0}),e.querySelector("#cancel-settings").addEventListener("click",this._handleSettingsClose.bind(this),{once:!0})}_handleSettingsApply(e){let t=this.querySelector(".settings-popover"),n=t.querySelector("#closeButton"),o=t.querySelector("#theme-select").value,s=t.querySelector("#mode-select").value,l=t.querySelector("#line-numbers").checked,r=t.querySelector("#line-wrapper").checked,a=t.querySelector("#fold-gutter").checked,d=t.querySelector("#tab-size").value,p=t.querySelector("#indent-unit").value;this.setAttribute("theme",o),this.setAttribute("mode",s),l?this.setAttribute("line-numbers",""):this.removeAttribute("line-numbers"),r?this.setAttribute("line-wrapper",""):this.removeAttribute("line-wrapper"),a?this.setAttribute("fold-gutter",""):this.removeAttribute("fold-gutter"),this.setAttribute("tab-size",d),this.setAttribute("indent-unit",p),this._handleSettingsClose(e)}_handleSettingsClose(e){e.preventDefault();let t=this.querySelector(".settings-popover");for(t.togglePopover();t.firstChild;)t.removeChild(t.firstChild)}get value(){return this.editor?.getValue()||""}set value(e){this.editor&&(this.editor.setValue(e),this._internals.setFormValue(e))}_applyStyle(){let e=`
        /* Container using flex or grid layout */
        .editor-container-flex {
          display: flex;
          gap: 10px;
          height: calc(100vh - 60px); /* Adjust for the header height */
          width: 100%;
          flex-wrap: wrap;
        }

        .editor-container-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 10px;
          height: calc(100vh - 60px); /* Adjust for the header height */
          width: 100%;
        }

        
        wc-code-mirror {
          display: contents;
        }

        /* Ensure that each editor fills its container */
        .wc-code-mirror {
          position: relative;
          width: 100%;
          display: flex;
          flex-direction: column;
          border: 2px solid transparent;

          overflow: hidden;
          resize: vertical;
    
          min-height: 10em;        
        }
        .wc-code-mirror:focus-within {
          /* border: 2px solid var(--primary-bg-color); */
        }

        .CodeMirror {
          height: auto;
          min-height: 150px;
          width: 100%;
          box-sizing: border-box; /* Avoid overflow caused by padding or borders */
          overflow: auto; /* Scroll within the editor */
        }
        
        .settings-icon {
          background: none;
          border: none;
          position: absolute;
          top: 2px;
          right: 5px;
          padding: 0;
          cursor: pointer;
          color: gray;
          font-size: 1.5em;
          z-index: 1;
        }
        
        .wc-code-mirror > label ~ .settings-icon {
          top: 22px;
        }

        .settings-popover {
          background: transparent;
          position: absolute;
          left: 0;
          right: 0;
          padding: 0;
          margin: 0 auto;
          height: 100%;
          width: 100%;
          border: none;
          display: flex;
          justify-items: center;
          align-items: center;
        }


        .settings-popover::backdrop {
          background: rgb(190 190 190 / 50%);
        }


        #popover-form {
          position: relative;
          padding: 20px;
          margin: 0 auto;
          border-radius: 5px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .close-btn {
          color: gray;
          border: none;
          background: none;
          position: absolute;
          right: 0.5rem;
          top: 0.5rem;
          padding: 0;
          cursor: pointer;
        }

        .sr-only:not(:focus):not(:active) {
          clip: rect(0 0 0 0); 
          clip-path: inset(50%);
          height: 1px;
          overflow: hidden;
          position: absolute;
          white-space: nowrap; 
          width: 1px;
        }

        /* JavaScript highlighting in web components */
        .cm-js-keyword { color: #66d9ef !important; }
        .cm-js-variable { color: #f8f8f2 !important; }
        .cm-js-def { color: #fd971f !important; }
        .cm-js-operator { color: #f92672 !important; }
        .cm-js-string { color: #e6db74 !important; }
        .cm-js-number { color: #ae81ff !important; }
        .cm-js-comment { color: #75715e !important; }
        .cm-js-property { color: #a6e22e !important; }
        .cm-js-atom { color: #ae81ff !important; }
      `.trim();this.loadStyle("wc-code-mirror-style",e)}async renderEditor(e){await Promise.all([this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/search/searchcursor.min.js"),this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/keymap/sublime.min.js"),this.loadScript("https://cdn.jsdelivr.net/npm/cm-show-invisibles@3.1.0/lib/show-invisibles.min.js")]);let t=await this.getGutters();this.editor=CodeMirror(this.componentElement,{mode:this.getAttribute("mode")||"javascript",theme:this.getAttribute("theme")||"default",lineNumbers:this.hasAttribute("line-numbers"),lineWrapper:this.hasAttribute("line-wrapper"),foldGutter:this.hasAttribute("fold-gutter"),gutters:t,extraKeys:{"Ctrl-Q":function(l){l.foldCode(l.getCursor())},Tab:l=>{if(l.somethingSelected())l.indentSelection("add");else{var r=Array(l.getOption("indentUnit")+1).join(" ");l.replaceSelection(r)}}},value:e,tabSize:parseInt(this.getAttribute("tab-size"),10)||4,indentUnit:parseInt(this.getAttribute("indent-unit"),10)||2,matchBrackets:!0,keyMap:"sublime",showInvisibles:!0}),await this.loadAssets(this.getAttribute("theme"),this.getAttribute("mode")),this.addWebComponentsJsHighlighting(),this.editor.on("change",async()=>{let l=this.editor.getValue();this._internals.setFormValue(l);let r=await this.getGutters();this.editor.setOption("gutters",r)});let n={detail:{name:this.getAttribute("name"),editor:this.editor},bubbles:!0,composed:!0},o=new CustomEvent("wc-code-mirror:ready",n);this.dispatchEvent(o),document.body.dispatchEvent(o),console.log("----> broadcasting event: wc-code-mirror:ready");let s=this.getAttribute("fetch");this.handleFetch(s)}static get formAssociated(){return!0}handleFetch(e){try{e&&(console.log("----> wc-code-mirror - fetching from: ",e),fetch(e,{method:"GET"}).then(t=>t.json()).then(t=>{this.editor.setValue(t.result);let n={detail:{name:this.getAttribute("name"),editor:this.editor},bubbles:!0,composed:!0},o=new CustomEvent("fetch-complete",n);this.dispatchEvent(o)}))}catch(t){console.error("Error encountered while trying to fetch wc-code-mirror data!",t)}}formResetCallback(){this.editor.setValue("")}formStateRestoreCallback(e){e&&this.editor.setValue(e)}formDisabledCallback(e){this.editor&&this.editor.setOption("readOnly",e)}async refresh(e=500){await $(e),this.editor.refresh(),this.editor.focus()}async getGutters(){this.hasAttribute("fold-gutter")&&(await this.loadCSS("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/foldgutter.min.css"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/foldcode.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/foldgutter.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/brace-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/comment-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/indent-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/xml-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/matchbrackets.min.js"));let e=[],t=this.hasAttribute("line-numbers"),n=this.hasAttribute("fold-gutter");return t&&n?e=["CodeMirror-linenumbers","CodeMirror-foldgutter"]:n&&(e=["CodeMirror-foldgutter"]),e}async loadAssets(e,t){e&&e!=="default"&&await this.loadTheme(e),t&&await this.loadMode(t)}async loadTheme(e){if(!e||e==="default")return;let t=`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/${e}.min.css`;document.querySelector(`link[href="${t}"]`)||await this.loadCSS(t),this.editor.setOption("theme",e)}async loadMode(e){let n={htmlmixed:["xml","css","javascript"],php:["htmlmixed","xml","css","javascript"],htmlembedded:["xml","javascript"],markdown:["htmlmixed","xml","css","javascript"]}[e];if(n&&n.length>0)for(let s of n)await this.loadScript(`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/${s}/${s}.min.js`);if(e==="litespec"){CodeMirror.registerHelper("fold","litespec",function(a,d){var p=d.line,u=a.getLine(p),m=u.indexOf("{");if(m===-1)return;var h=a.getTokenTypeAt(CodeMirror.Pos(p,m+1));if(h!=="brace")return;var g=a.findMatchingBracket(CodeMirror.Pos(p,m+1));return!g||!g.match||g.to===null?void 0:{from:CodeMirror.Pos(p,m+1),to:g.to}}),this.editor.setOption("foldOptions",{widget:"\u2194"});let l={litespec:["simple"]}[e];if(l&&l.length>0)for(let a of l)await this.loadScript(`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/mode/${a}.min.js`);if(["litespec"].includes(e)){await this.loadScript("https://mattduffield.github.io/lite-spec/dist/highlighters/litespec.mode.cm.js"),this.editor.setOption("mode",e);return}}let o=`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/${e}/${e}.min.js`;document.querySelector(`script[src="${o}"]`)||await this.loadScript(o),this.editor.setOption("mode",e),["htmlmixed","php","markdown","htmlembedded"].includes(e)&&setTimeout(()=>{this.addWebComponentsJsHighlighting()},100)}_unWireEvents(){super._unWireEvents(),this.querySelector(".settings-icon").removeEventListener("click",this._handleSettingsIconClick.bind(this))}addWebComponentsJsHighlighting(){console.log("Adding JS highlighting to web components");let e=()=>{console.log("Applying highlighting to editor content");let t=this.editor.getValue().split(`
`),n=!1,o="",s=[],l=-1,r=-1;for(let a=0;a<t.length;a++){let d=t[a].trim();if(n){if(d.match(new RegExp(`</${o}>`))){if(r=a,n=!1,console.log(`Found closing tag at line ${a}: ${o}`),l!==-1&&r!==-1){let u=t.slice(l+1,r).join(`
`);console.log(`Processing JS content between lines ${l+1} and ${r}`),this.highlightJavaScript(u,l+1,r)}l=-1,r=-1,o=""}}else{let p=d.match(/<(wc-[a-zA-Z0-9-]+)(?:\s|>)/i);p&&(o=p[1],n=!0,l=a,console.log(`Found opening tag at line ${a}: ${o}`))}}};setTimeout(()=>{e(),this.editor.on("change",()=>{clearTimeout(this._highlightTimeout),this._highlightTimeout=setTimeout(()=>{e()},500)}),console.log("Added change listener for highlighting")},100)}highlightJavaScript(e,t,n){console.log("Highlighting JavaScript content");let o=this.editor.getDoc();o.findMarks({line:t,ch:0},{line:n,ch:0}).forEach(a=>a.clear());let l=e.split(`
`),r=[{pattern:/\b(function|var|let|const|return|if|else|endif|for|endfor|while|switch|case|break|continue|this|new|typeof|instanceof|class|async|await|in)\b/g,className:"cm-js-keyword"},{pattern:/\b(true|false|null|undefined)\b/g,className:"cm-js-atom"},{pattern:/\b\d+(\.\d+)?\b/g,className:"cm-js-number"},{pattern:/(["'`])(?:[^\\]|\\.)*?\1/g,className:"cm-js-string"},{pattern:/[+\-*/%=&|^<>!?:;,.]/g,className:"cm-js-operator"},{pattern:/=>/g,className:"cm-js-keyword"},{pattern:/\b\.[A-Za-z]+/g,className:"cm-js-property"}];l.forEach((a,d)=>{o.markText({line:t+d,ch:0},{line:t+d,ch:a.length},{className:"cm-wc-content"}),r.forEach(({pattern:p,className:u})=>{let m;for(p.lastIndex=0;(m=p.exec(a))!==null;){let h=m.index,g=h+m[0].length;o.markText({line:t+d,ch:h},{line:t+d,ch:g},{className:u})}})})}}customElements.define("wc-code-mirror",c)}var F=class extends b{static get observedAttributes(){return["id","class","gender","contact-name","contact-title"]}constructor(){super();let i=this.querySelector(".wc-contact-card");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-contact-card"),this.appendChild(this.componentElement)),console.log("ctor:wc-contact-card")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-contact-card")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){if(i=="gender"){let t=this.querySelector("img");e=="male"?t.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"):t.setAttribute("src","https://www.w3schools.com/howto/img_avatar2.png")}else if(i=="contact-name"){let t=this.querySelector("div.contact-card-name");t.innerHTML=e}else if(i=="contact-title"){let t=this.querySelector("div.contact-card-title");t.innerHTML=e}else super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-contact-card > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-contact-card")}_createInnerElement(){Array.from(this.children).filter(s=>!s.matches("wc-contact-card")&&!s.matches(".wc-contact-card")).forEach(s=>this.componentElement.appendChild(s));let e=document.createElement("img");e.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"),e.setAttribute("alt","Person"),e.setAttribute("width","100%");let t=document.createElement("div");t.classList.add("contact-card-container");let n=document.createElement("div");n.classList.add("contact-card-name","text-2xl","font-bold"),n.innerHTML="John Doe";let o=document.createElement("div");o.classList.add("contact-card-title","text-lg"),o.innerHTML="Boss",t.appendChild(n),t.appendChild(o),this.componentElement.appendChild(e),this.componentElement.appendChild(t)}_applyStyle(){this.loadStyle("wc-contact-card-style",`
      wc-contact-card {
        display: contents;
      }
      .wc-contact-card {
        box-shadow: 0 4px 8px 0 var(--card-border-color);
        transition: 0.3s;
        width: 40%;
        border-radius: 5px;
        background-color: var(--card-bg-color);
        color: var(--card-color);
      }
      .wc-contact-card:hover {
        box-shadow: 0 8px 16px 0 var(--card-border-color);
      }
      /* Add some padding inside the card container */
      .wc-contact-card .contact-card-container {
        padding: 2px 16px;
      }
      .wc-contact-card img {
        border-radius: 5px 5px 0 0;
      }
    `)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-contact-card",F);var N=class extends b{static get observedAttributes(){return["id","class","gender","person-name"]}constructor(){super();let i=this.querySelector(".wc-contact-chip");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-contact-chip"),this.appendChild(this.componentElement)),console.log("ctor:wc-contact-chip")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-contact-chip")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){if(i=="gender"){let t=this.querySelector("img");e=="male"?t.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"):t.setAttribute("src","https://www.w3schools.com/howto/img_avatar2.png")}else if(i=="person-name"){let t=this.querySelector("span.name-content");t.innerHTML=e}else super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-contact-chip > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-contact-chip")}_createInnerElement(){Array.from(this.children).filter(o=>!o.matches("wc-contact-chip")&&!o.matches(".wc-contact-chip")).forEach(o=>this.componentElement.appendChild(o));let e=document.createElement("img");e.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"),e.setAttribute("alt","Person"),e.setAttribute("height","96"),e.setAttribute("width","96");let t=document.createElement("span");t.classList.add("name-content"),t.innerHTML="John Doe";let n=document.createElement("span");n.classList.add("close-btn"),n.innerHTML="&times;",n.setAttribute("onclick",`
      const cnt = this.closest('wc-contact-chip.contents');
      cnt.classList.add('hidden');
    `),this.componentElement.appendChild(e),this.componentElement.appendChild(t),this.componentElement.appendChild(n)}_applyStyle(){this.loadStyle("wc-contact-chip-style",`
      wc-contact-chip {
        display: contents;
      }
      .wc-contact-chip {
        position: relative;
        display: inline-block;
        padding: 0 25px;
        height: 50px;
        font-size: 18px;
        line-height: 50px;
        border-radius: 25px;
        background-color: var(--card-bg-color);
        color: var(--card-color);
      }
      .wc-contact-chip img {
        float: left;
        margin: 0 0 0 -25px;
        height: 50px;
        width: 50px;
        border-radius: 50%;
      }
      .wc-contact-chip .name-content {
        margin: 0 10px;
      }
      .wc-contact-chip .close-btn {
        position: absolute;
        right: 10px;
        margin-left: 10px;
        color: var(--surface-8);
        font-weight: bold;
        font-size: 20px;
        cursor: pointer;
      }
      .wc-contact-chip .close-btn:hover {
        color: var(--surface-6);
      }
    `)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-contact-chip",N);var U=class extends b{static get observedAttributes(){return["id","class"]}constructor(){super();let i=this.querySelector(".wc-div");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-div"),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):i==="caption"||i==="img-url"||i==="min-height"||super._handleAttributeChange(i,e)}_render(){super._render();let i=this.querySelectorAll(".wc-div > *");i.length>0?(this.componentElement.innerHTML="",i.forEach(e=>this.componentElement.appendChild(e))):(this.componentElement.innerHTML="",this._moveDeclarativeInner()),typeof htmx<"u"&&htmx.process(this)}_moveDeclarativeInner(){let i=this.querySelectorAll("wc-div > *:not(.wc-div)");i.length>0&&i.forEach(e=>this.componentElement.appendChild(e))}_applyStyle(){let i=`
      wc-div {
        display: contents;
      }
      .wc-div {
        position: relative;
        display: block;
      }
    `.trim();this.loadStyle("wc-div-style",i)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-div",U);if(!customElements.get("wc-dropdown-item")){class c extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-dropdown-item",c)}var J=class extends b{static get observedAttributes(){return["id","class","label","mode","format"]}constructor(){super(),this.childComponentSelector="a,hr,wc-input",this.clickModes=["search","click"],this.mode=this.getAttribute("mode")||"click";let i=this.querySelector(".wc-dropdown");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-dropdown",this.mode),this.appendChild(this.componentElement)),console.log("ctor:wc-dropdown")}async connectedCallback(){super.connectedCallback(),await this._applyStyle(),this.classList.add("contents"),this.classList.remove("hidden"),this.componentElement.classList.remove("hidden"),this._wireEvents(),console.log("connectedCallback:wc-dropdown")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="label"||super._handleAttributeChange(i,e)}_render(){if(super._render(),this.querySelector(".wc-dropdown > *")){let e=this.querySelector(".dropbtn");if(this.clickModes.includes(this.mode)){e.addEventListener("click",this._handleClick.bind(this)),window.addEventListener("click",this._handleWindowClick.bind(this));let t=this.querySelector(".search");t&&t.addEventListener("input",this._handleInput.bind(this))}}else this.componentElement.innerHTML="",this._createInnerElement();typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-dropdown")}_createInnerElement(){let i=Array.from(this.children).filter(m=>!m.matches("wc-dropdown")&&!m.matches(".wc-dropdown")),e=this.getAttribute("id")||"",t=this.getAttribute("position-area")||"bottom span-left",n=this.getAttribute("position-try-fallbacks")||"--bottom-right, --bottom-left, --top-right, --top-left, --right, --left",o=this.getAttribute("label")||"",s=this.getAttribute("format")||"standard",l=this.getAttribute("dropdown-height")||"",r=document.createElement("button");o&&s==="standard"?(r.classList.add("dropbtn"),r.textContent=o):s==="grid-round"?(r.classList.add("dropbtn"),r.classList.add("grid-round"),r.innerHTML=`
          <svg class="h-5 w-5 align-middle pointer-events-none"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path d="M128 96A64 64 0 1 1 0 96a64 64 0 1 1 128 0zm0 160A64 64 0 1 1 0 256a64 64 0 1 1 128 0zM64 480a64 64 0 1 1 0-128 64 64 0 1 1 0 128zM288 96A64 64 0 1 1 160 96a64 64 0 1 1 128 0zM224 320a64 64 0 1 1 0-128 64 64 0 1 1 0 128zm64 96a64 64 0 1 1 -128 0 64 64 0 1 1 128 0zm96-256a64 64 0 1 1 0-128 64 64 0 1 1 0 128zm64 96a64 64 0 1 1 -128 0 64 64 0 1 1 128 0zM384 480a64 64 0 1 1 0-128 64 64 0 1 1 0 128z"/>
          </svg>
        `):s==="avatar"&&(r.classList.add("dropbtn"),r.classList.add("avatar"),r.innerHTML=`
          <svg class="h-4 w-4 align-middle pointer-events-none" fill="currentColor" viewBox="0 0 24 24">
            <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
        `);let a=document.createElement("div");a.classList.add("dropdown");let d=document.createElement("div");if(d.classList.add("dropdown-content","text-sm"),this.mode==="search"){let m=document.createElement("input");m.classList.add("search","component"),m.type="search",m.setAttribute("placeholder","Search..."),d.appendChild(m);let h="http://www.w3.org/2000/svg",g=document.createElementNS(h,"svg");g.setAttribute("xmlns",h),g.setAttribute("fill","none"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("stroke-width","1.5"),g.setAttribute("stroke","currentColor"),g.classList.add("search-svg","h-4","w-4","component");let y=document.createElementNS(h,"path");y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"),g.appendChild(y),d.appendChild(g),m.addEventListener("input",this._handleInput.bind(this))}i.forEach(m=>d.appendChild(m)),a.appendChild(d),a.append(r),this.componentElement.append(a),l&&(d.style.height=l,d.style.overflow="auto"),this.clickModes.includes(this.mode)&&(r.addEventListener("click",this._handleClick.bind(this)),window.addEventListener("click",this._handleWindowClick.bind(this)));let p=this.querySelector(".wc-dropdown");p.style.anchorName=`--${e}-anchor`;let u=this.querySelector(".wc-dropdown .dropdown-content");u.style.positionAnchor=`--${e}-anchor`,u.style.positionArea=t,u.style.positionTryFallbacks=n,u.style.minWidth=`${p.offsetWidth}px`}_handleHelper(i,e="open"){let{detail:t}=i,{selector:n}=t,o=".wc-dropdown",s=Array.isArray(n);if(typeof n=="string"||s)document.querySelectorAll(n).forEach(r=>{if(r===this){let a=r?.querySelector(o);e==="open"?a?.classList.add("show"):e==="close"?a?.classList.remove("show"):e==="toggle"&&a?.classList.toggle("show")}});else{let l=n?.querySelector(o);e==="open"?l?.classList.add("show"):e==="close"?l?.classList.remove("show"):e==="toggle"&&l?.classList.toggle("show")}}_handleOpen(i){this._handleHelper(i,"open")}_handleClose(i){this._handleHelper(i,"close")}_handleToggle(i){this._handleHelper(i,"toggle")}_handleClick(i){let{target:e}=i;e.closest(".wc-dropdown").classList.toggle("show")}_handleWindowClick(i){let{target:e}=i;if(e.matches(".dropbtn")||e.matches(".search")||e.closest(".halt-event"))return;this.querySelectorAll(".wc-dropdown").forEach(o=>o.classList.remove("show"))}_handleInput(i){let{target:e}=i,t=e.value.toLowerCase();this.querySelectorAll(".dropdown-content > *:not(.component)").forEach(o=>{o.textContent.toLowerCase().includes(t)?o.style.display="block":o.style.display="none"})}async _applyStyle(){let i=`
      wc-dropdown {
        /* display: contents; */
      }

      .wc-dropdown {
        display: flex;
        flex-direction: row;
      }

      /* Dropdown Button */
      .wc-dropdown .dropbtn {
        background-color: var(--button-bg-color);
        color: var(--button-color);
        padding: 16px;
        font-size: 16px;
        border: none;
        border-radius: 0;
      }
      .wc-dropdown .dropbtn.grid-round {
        background-color: transparent;
        padding: 4px;
      }
      .wc-dropdown .dropbtn.avatar {
        padding: 6px;
        border-radius: 50%;
        font-size: 0.825rem;
      }

      /* The container <div> - needed to position the dropdown content */
      .wc-dropdown .dropdown {
      }

      /* Dropdown Content (Hidden by Default) */
      .wc-dropdown .dropdown-content {
        display: none;
        position: absolute;
        background-color: var(--button-hover-bg-color);
        min-width: 160px;
        max-width: 250px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
      }

      .wc-dropdown .search {
        width: 100%;
        box-sizing: border-box;
        font-size: 12px;
        padding: 14px 20px 12px 35px;
        border-radius: 0;
      }
      .wc-dropdown .dropdown-content svg.search-svg {
        position: absolute;
        left: 8px;
        top: 20px;
        transform: translateY(-50%);
        width: 20px;
        height: 20px;
        stroke: var(--component-color);
        pointer-events: none;
      }

      /* Links inside the dropdown */
      /* .wc-dropdown .dropdown-content .wc-input, */
      .wc-dropdown .dropdown-content a {
        color: var(--component-color);
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }

      /* Change color of dropdown links on hover */
      /* .wc-dropdown .dropdown-content .wc-input:hover, */
      .wc-dropdown .dropdown-content a:hover {
        background-color: var(--component-border-color);
      }

      /* Show the dropdown menu on hover */
      .wc-dropdown:hover:not(.click):not(.search) .dropdown .dropdown-content {
        display: block;
      }
      .wc-dropdown.show .dropdown .dropdown-content {
        display: block;
      }

      /* Change the background color of the dropdown button when the dropdown content is shown */
      .wc-dropdown:hover:not(.click):not(.search) .dropdown .dropbtn {
        background-color: var(--button-hover-bg-color);
      }
      .wc-dropdown.show .dropdown .dropbtn {
        background-color: var(--button-hover-bg-color);
      }

      @position-try --bottom-left {
        position-area: bottom span-left;
      }
      @position-try --bottom-right {
        position-area: bottom span-right;
      }
      @position-try --top-left {
        position-area: top span-left;
      }
      @position-try --top-right {
        position-area: top span-right;
      }
      @position-try --right {
        position-area: right;
      }
      @position-try --left {
        position-area: left;
      }
    `.trim();await this.loadStyle("wc-dropdown-style",i)}_wireEvents(){super._wireEvents(),this.clickModes.includes(this.mode)&&(document.body.addEventListener("wc-dropdown:open",this._handleOpen.bind(this)),document.body.addEventListener("wc-dropdown:close",this._handleClose.bind(this)),document.body.addEventListener("wc-dropdown:toggle",this._handleToggle.bind(this)))}_unWireEvents(){if(super._unWireEvents(),this.clickModes.includes(this.mode)){document.body.removeEventListener("wc-dropdown:open",this._handleOpen.bind(this)),document.body.removeEventListener("wc-dropdown:close",this._handleClose.bind(this)),document.body.removeEventListener("wc-dropdown:toggle",this._handleToggle.bind(this)),this.querySelector(".dropbtn").removeEventListener("click",this._handleClick.bind(this)),window.removeEventListener("click",this._handleWindowClick.bind(this));let e=this.querySelector(".search");e&&e.removeEventListener("input",this._handleInput.bind(this))}}};customElements.define("wc-dropdown",J);var V=class extends b{static get observedAttributes(){return["id","class"]}constructor(){super();let i=this.querySelector(".wc-flip-box");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-flip-box"),this.appendChild(this.componentElement)),console.log("ctor:wc-flip-box")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-flip-box")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_render(){if(super._render(),!this.querySelector(".flip-box-inner")){this.componentElement.innerHTML="";let e=this._createInnerElement();this.componentElement.appendChild(e)}typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-flip-box")}_createInnerElement(){let i=document.createElement("div");i.classList.add("flip-box-inner");let e=this.querySelector('[slot="front"]'),t=this.querySelector('[slot="back"]');return e&&(e.classList.add("flip-box-front"),i.appendChild(e)),t&&(t.classList.add("flip-box-back"),i.appendChild(t)),this.componentElement.appendChild(i),i}_applyStyle(){let i=`
      wc-flip-box {
        display: contents;
      }

      /* The flip box container - set the width and height to whatever you want. We have added the border property to demonstrate that the flip itself goes out of the box on hover (remove perspective if you don't want the 3D effect */
      .wc-flip-box {
        background-color: transparent;
        /*
        width: 300px;
        height: 200px;
        */
        border: 1px solid var(--component-border-color);
        perspective: 1000px; /* Remove this if you don't want the 3D effect */
      }

      /* This container is needed to position the front and back side */
      .wc-flip-box .flip-box-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.8s;
        transform-style: preserve-3d;
      }

      /* Do an horizontal flip when you move the mouse over the flip box container */
      .wc-flip-box:hover .flip-box-inner {
        transform: rotateY(180deg);
      }

      /* Position the front and back side */
      .wc-flip-box .flip-box-front,
      .wc-flip-box .flip-box-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden; /* Safari */
        backface-visibility: hidden;
      }

      /* Style the front side */
      .wc-flip-box .flip-box-front {
        background-color: var(--card-bg-color);
        color: var(--text-1);
      }

      /* Style the back side */
      .wc-flip-box .flip-box-back {
        background-color: var(--card-bg-color);
        color: var(--text-1);
        transform: rotateY(180deg);
      }`.trim();this.loadStyle("wc-flip-box-style",i)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-flip-box",V);if(!customElements.get("wc-icon")){let c=new Map,i=new Map;class e extends b{static get observedAttributes(){return["name","icon-style","size","color","primary-color","secondary-color","secondary-opacity","swap-opacity","rotate","flip","base-path","spin","pulse"]}static iconAliases={home:"house",search:"magnifying-glass",edit:"pen-to-square",save:"floppy-disk",undo:"arrow-rotate-left",redo:"arrow-rotate-right","sign-out":"right-from-bracket","sign-in":"right-to-bracket","sign-out-alt":"arrow-right-from-bracket","sign-in-alt":"arrow-right-to-bracket",settings:"gear",cog:"gear",cogs:"gears","trash-alt":"trash-can",delete:"trash",remove:"xmark",clear:"eraser",close:"xmark",times:"xmark","search-plus":"magnifying-glass-plus","search-minus":"magnifying-glass-minus","zoom-in":"magnifying-glass-plus","zoom-out":"magnifying-glass-minus","power-off":"power-off","log-out":"right-from-bracket","log-in":"right-to-bracket","shopping-cart":"cart-shopping","chart-bar":"chart-column","bar-chart":"chart-column","line-chart":"chart-line","area-chart":"chart-area","pie-chart":"chart-pie",refresh:"arrows-rotate",sync:"arrows-rotate",mail:"envelope",email:"envelope",warning:"triangle-exclamation","exclamation-triangle":"triangle-exclamation",error:"circle-xmark","times-circle":"circle-xmark",info:"circle-info","info-circle":"circle-info","question-circle":"circle-question",help:"circle-question",picture:"image",photo:"image"};constructor(){super(),this._basePath=this.getAttribute("base-path")||e.defaultBasePath||"/dist/assets/icons"}static get is(){return"wc-icon"}static defaultBasePath="/dist/assets/icons";static setBasePath(n){e.defaultBasePath=n,window.wc?.iconRegistry&&window.wc.iconRegistry.setBaseUrl(n)}async _render(){if(this.classList.remove("contents"),!document.getElementById("wc-icon-animations")){let n=document.createElement("style");n.id="wc-icon-animations",n.textContent=`
          @keyframes wc-icon-spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
          @keyframes wc-icon-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
          }
          wc-icon[spin] svg {
            animation: wc-icon-spin 1s linear infinite;
          }
          wc-icon[pulse] svg {
            animation: wc-icon-pulse 2s ease-in-out infinite;
          }
        `,document.head.appendChild(n)}this._svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._svg.setAttribute("viewBox","0 0 512 512"),this._svg.setAttribute("fill","currentColor"),this._group=document.createElementNS("http://www.w3.org/2000/svg","g"),this._svg.appendChild(this._group),this.appendChild(this._svg),this._applyStyles(),await this._loadIcon()}_handleAttributeChange(n,o,s){if(n==="name"||n==="icon-style")this._loadIcon();else if(n==="base-path")this._basePath=s||e.defaultBasePath,this._loadIcon();else{if(n==="spin"||n==="pulse")return;this._applyStyles()}}_applyStyles(){if(!this._svg)return;let n=this.getAttribute("size"),o=this.getAttribute("rotate"),s=this.getAttribute("flip"),l=this.getAttribute("icon-style")||"solid";n&&(this._svg.style.width=n,this._svg.style.height=n);let r="";if(o&&!this.hasAttribute("spin")&&(r+=`rotate(${o}deg)`),s==="horizontal"?r+=" scaleX(-1)":s==="vertical"?r+=" scaleY(-1)":s==="both"&&(r+=" scale(-1)"),r?this._svg.style.transform=r.trim():this._svg.style.removeProperty("transform"),l.includes("duotone")){let a=this.getAttribute("primary-color")||this.getAttribute("color")||"currentColor",d=this.getAttribute("secondary-color")||this.getAttribute("color")||"currentColor",p=this.getAttribute("secondary-opacity")||"0.4",u=this.hasAttribute("swap-opacity");this.style.setProperty("--fa-primary-color",a),this.style.setProperty("--fa-secondary-color",d),this.style.setProperty("--fa-primary-opacity",u?p:"1"),this.style.setProperty("--fa-secondary-opacity",u?"1":p),this.style.removeProperty("--fa-color")}else{let a=this.getAttribute("color")||"currentColor";this.style.setProperty("--fa-color",a),this.style.removeProperty("--fa-primary-color"),this.style.removeProperty("--fa-secondary-color"),this.style.removeProperty("--fa-primary-opacity"),this.style.removeProperty("--fa-secondary-opacity")}}async _loadIcon(){let n=this.getAttribute("name");if(!n||!this._group)return;let o=e.iconAliases[n]||n,s=this.getAttribute("icon-style")||"solid",l=this.getAttribute("base-path")||this._basePath,r=`${l}/${s}/${o}`;try{let a=c.get(r);if(!a){let d=i.get(r);if(d)a=await d;else{let p=(async()=>{if(e._globalRegistry?.has(`${s}/${o}`)){let v=e._globalRegistry.get(`${s}/${o}`);return c.set(r,v),v}let u=await fetch(`${l}/${s}/${o}.svg`);if(!u.ok)return console.error(`Icon not found: ${s}/${o}`),null;let m=await u.text(),g=new DOMParser().parseFromString(m,"image/svg+xml"),y=g.querySelector("svg"),k=g.querySelectorAll("path"),x={viewBox:y?.getAttribute("viewBox"),paths:Array.from(k).map(v=>({d:v.getAttribute("d"),opacity:v.getAttribute("opacity"),class:v.getAttribute("class"),fill:v.getAttribute("fill")}))};return c.set(r,x),x})();i.set(r,p);try{a=await p}finally{i.delete(r)}}}if(!a)return;this._group.innerHTML="",a.viewBox&&this._svg.setAttribute("viewBox",a.viewBox),a.paths.forEach(d=>{let p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d",d.d),s.includes("duotone")?d.class&&d.class.includes("fa-secondary")?(p.classList.add("fa-secondary"),p.style.fill="var(--fa-secondary-color)",p.style.opacity="var(--fa-secondary-opacity)"):(p.classList.add("fa-primary"),p.style.fill="var(--fa-primary-color)",p.style.opacity="var(--fa-primary-opacity)"):(p.style.fill="var(--fa-color, currentColor)",d.opacity&&(p.style.opacity=d.opacity)),this._group.appendChild(p)})}catch(a){console.error(`Error loading icon ${r}:`,a)}}static registerIcon(n,o,s="solid"){e._globalRegistry||(e._globalRegistry=new Map);let l=`${s}/${n}`;e._globalRegistry.set(l,o)}static registerIcons(n,o="solid"){Object.entries(n).forEach(([s,l])=>{e.registerIcon(s,l,o)})}static async preloadIcons(n){let o=n.map(async s=>{let{name:l,style:r="solid",basePath:a=e.defaultBasePath}=typeof s=="string"?{name:s}:s,d=e.iconAliases[l]||l,p=`${a}/${r}/${d}`;if(c.has(p))return;if(i.has(p))return i.get(p);let u=(async()=>{if(e._globalRegistry?.has(`${r}/${d}`)){let C=e._globalRegistry.get(`${r}/${d}`);return c.set(p,C),C}let m=await fetch(`${a}/${r}/${d}.svg`);if(!m.ok)return console.error(`Icon not found: ${r}/${d}`),null;let h=await m.text(),y=new DOMParser().parseFromString(h,"image/svg+xml"),k=y.querySelector("svg"),x=y.querySelectorAll("path"),v={viewBox:k?.getAttribute("viewBox"),paths:Array.from(x).map(C=>({d:C.getAttribute("d"),opacity:C.getAttribute("opacity"),class:C.getAttribute("class"),fill:C.getAttribute("fill")}))};return c.set(p,v),v})();i.set(p,u);try{return await u}finally{i.delete(p)}});await Promise.all(o)}static clearCache(){c.clear(),i.clear()}static getCacheStats(){return{cachedIcons:c.size,pendingRequests:i.size,cacheKeys:Array.from(c.keys())}}}customElements.define(e.is,e)}if(!customElements.get("wc-fa-icon")){let c=new Map,i=new Set,e=new Map;class t extends b{static get observedAttributes(){return["name","icon-style","size","color","primary-color","secondary-color","secondary-opacity","swap-opacity","rotate","flip","spin","pulse"]}static iconAliases={home:"house",search:"magnifying-glass",edit:"pen-to-square",save:"floppy-disk",undo:"arrow-rotate-left",redo:"arrow-rotate-right","sign-out":"right-from-bracket","sign-in":"right-to-bracket","sign-out-alt":"arrow-right-from-bracket","sign-in-alt":"arrow-right-to-bracket",settings:"gear",cog:"gear",cogs:"gears","trash-alt":"trash-can",delete:"trash",remove:"xmark",clear:"eraser",close:"xmark",times:"xmark","search-plus":"magnifying-glass-plus","search-minus":"magnifying-glass-minus","zoom-in":"magnifying-glass-plus","zoom-out":"magnifying-glass-minus","power-off":"power-off","log-out":"right-from-bracket","log-in":"right-to-bracket","shopping-cart":"cart-shopping","chart-bar":"chart-column","bar-chart":"chart-column","line-chart":"chart-line","area-chart":"chart-area","pie-chart":"chart-pie",refresh:"arrows-rotate",sync:"arrows-rotate",mail:"envelope",email:"envelope",warning:"triangle-exclamation","exclamation-triangle":"triangle-exclamation",error:"circle-xmark","times-circle":"circle-xmark",info:"circle-info","info-circle":"circle-info","question-circle":"circle-question",help:"circle-question",picture:"image",photo:"image"};constructor(){super()}static get is(){return"wc-fa-icon"}async _render(){if(this.classList.remove("contents"),!document.getElementById("wc-fa-icon-animations")){let o=document.createElement("style");o.id="wc-fa-icon-animations",o.textContent=`
          @keyframes wc-fa-icon-spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
          @keyframes wc-fa-icon-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
          }
          wc-fa-icon[spin] svg {
            animation: wc-fa-icon-spin 1s linear infinite;
          }
          wc-fa-icon[pulse] svg {
            animation: wc-fa-icon-pulse 2s ease-in-out infinite;
          }
        `,document.head.appendChild(o)}this._svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._svg.setAttribute("viewBox","0 0 512 512"),this._svg.setAttribute("fill","currentColor"),this._group=document.createElementNS("http://www.w3.org/2000/svg","g"),this._svg.appendChild(this._group),this.appendChild(this._svg),this._applyStyles(),await this._loadIcon()}_handleAttributeChange(o,s,l){if(o==="name"||o==="icon-style")this._loadIcon();else{if(o==="spin"||o==="pulse")return;this._applyStyles()}}_applyStyles(){if(!this._svg)return;let o=this.getAttribute("size"),s=this.getAttribute("rotate"),l=this.getAttribute("flip"),r=this.getAttribute("icon-style")||"solid";o&&(this._svg.style.width=o,this._svg.style.height=o);let a="";if(s&&!this.hasAttribute("spin")&&(a+=`rotate(${s}deg)`),l==="horizontal"?a+=" scaleX(-1)":l==="vertical"?a+=" scaleY(-1)":l==="both"&&(a+=" scale(-1)"),a?this._svg.style.transform=a.trim():this._svg.style.removeProperty("transform"),r.includes("duotone")){let d=this.getAttribute("primary-color")||this.getAttribute("color")||"currentColor",p=this.getAttribute("secondary-color")||this.getAttribute("color")||"currentColor",u=this.getAttribute("secondary-opacity")||"0.4",m=this.hasAttribute("swap-opacity");this.style.setProperty("--fa-primary-color",d),this.style.setProperty("--fa-secondary-color",p),this.style.setProperty("--fa-primary-opacity",m?u:"1"),this.style.setProperty("--fa-secondary-opacity",m?"1":u),this.style.removeProperty("--fa-color")}else{let d=this.getAttribute("color")||"currentColor";this.style.setProperty("--fa-color",d),this.style.removeProperty("--fa-primary-color"),this.style.removeProperty("--fa-secondary-color"),this.style.removeProperty("--fa-primary-opacity"),this.style.removeProperty("--fa-secondary-opacity")}}async _loadIcon(){let o=this.getAttribute("name");if(!o||!this._group)return;let s=t.iconAliases[o]||o,l=this.getAttribute("icon-style")||"solid";if(!i.has(l)&&!e.has(l)){let r=`/dist/assets/icon-bundles/${l}-icons.json`;console.log(`[wc-fa-icon] Auto-loading bundle for style: ${l}`);let a=t.loadBundle(r).then(d=>(i.add(l),e.delete(l),console.log(`[wc-fa-icon] Auto-loaded ${d} ${l} icons`),d)).catch(d=>(console.error(`[wc-fa-icon] Failed to auto-load ${l} bundle:`,d),e.delete(l),i.add(l),0));e.set(l,a)}e.has(l)&&await e.get(l);try{let r=`${l}/${s}`,a=c.get(r)||c.get(s);if(!a){console.warn(`Icon not found in loaded bundles: ${s} (style: ${l})`),this._group.innerHTML="";let d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("x","256"),d.setAttribute("y","256"),d.setAttribute("text-anchor","middle"),d.setAttribute("dominant-baseline","middle"),d.setAttribute("font-size","200"),d.textContent="?",this._group.appendChild(d);return}this._group.innerHTML="",a.viewBox&&this._svg.setAttribute("viewBox",a.viewBox),a.paths.forEach(d=>{let p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d",d.d),l.includes("duotone")?d.class&&d.class.includes("fa-secondary")?(p.classList.add("fa-secondary"),p.style.fill="var(--fa-secondary-color)",p.style.opacity="var(--fa-secondary-opacity)"):(p.classList.add("fa-primary"),p.style.fill="var(--fa-primary-color)",p.style.opacity="var(--fa-primary-opacity)"):(p.style.fill="var(--fa-color, currentColor)",d.opacity&&(p.style.opacity=d.opacity)),this._group.appendChild(p)})}catch(r){console.error(`Error loading icon ${bundleKey}:`,r)}}static async loadBundle(o){try{let s=await fetch(o);if(!s.ok)throw new Error(`Failed to load icon bundle: ${o}`);let l=await s.json(),r=0;for(let[d,p]of Object.entries(l))c.set(d,p),r++;console.log(`[wc-fa-icon] Loaded ${r} icons from ${o}`);let a=o.match(/\/([^\/]+)-icons\.json$/);if(a){let d=a[1];i.add(d)}return r}catch(s){throw console.error("[wc-fa-icon] Error loading bundle:",s),s}}static async loadBundles(o){let s=await Promise.allSettled(o.map(a=>t.loadBundle(a))),l=s.filter(a=>a.status==="fulfilled").reduce((a,d)=>a+d.value,0),r=s.filter(a=>a.status==="rejected").length;return console.log(`[wc-fa-icon] Bundles loaded: ${l} icons total${r?`, ${r} bundles failed`:""}`),{totalLoaded:l,failed:r}}static registerIcon(o,s,l="solid"){c.set(o,s)}static registerIcons(o,s="solid"){Object.entries(o).forEach(([l,r])=>{t.registerIcon(l,r,s)})}static getBundleStats(){return{loadedIcons:c.size,iconKeys:Array.from(c.keys())}}static clearBundles(){c.clear()}static isIconLoaded(o,s="solid"){let l=t.iconAliases[o]||o;return c.has(l)}}customElements.define(t.is,t),window.WcFaIcon=t}var G=class extends b{static get observedAttributes(){return["id","class","url","caption","modal","hover-overlay","hover-mode"]}constructor(){super();let i=this.querySelector(".wc-image");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-image"),this.appendChild(this.componentElement)),console.log("ctor:wc-image")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-image")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="url"||i==="caption"||i==="modal"||super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-image > *")?this.hasAttribute("modal")&&(this.querySelector(".img").addEventListener("click",this._showModal.bind(this)),this.querySelector(".overlay .closebtn").addEventListener("click",this._hideModal.bind(this))):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-image")}_createInnerElement(){let i=this.getAttribute("caption")||"",e=document.createElement("img");e.classList.add("img"),e.src=this.getAttribute("url")||"",e.alt=i;let t=document.createElement("div");if(t.textContent=i,t.classList.add("img-text"),this.componentElement.appendChild(e),this.componentElement.appendChild(t),this.hasAttribute("hover-overlay")){let r=this.getAttribute("hover-mode")||"bottom",a=document.createElement("div");a.classList.add("hover-overlay",r),this.querySelectorAll("wc-image > *:not(.wc-image").forEach(p=>a.appendChild(p)),this.componentElement.appendChild(a)}let n=document.createElement("div");n.classList.add("overlay","hidden");let o=document.createElement("button");o.classList.add("closebtn"),o.innerHTML="&times;",n.appendChild(o);let s=document.createElement("img");s.classList.add("overlay-img"),s.alt=i,n.appendChild(s);let l=document.createElement("div");l.textContent=i,l.classList.add("overlay-img-text"),n.appendChild(l),this.appendChild(n),this.hasAttribute("modal")&&(e.addEventListener("click",this._showModal.bind(this)),o.addEventListener("click",this._hideModal.bind(this)))}_handleHelper(i,e="show"){let{detail:t}=i,{selector:n}=t,o=Array.isArray(n);typeof n=="string"||o?document.querySelectorAll(n).forEach(l=>{l===this&&(e==="show"?this._showModal({target:this}):e==="hide"&&this._hideModal({target:this}))}):n===this&&(e==="show"?this._showModal({target:this}):e==="hide"&&this._hideModal({target:this}))}_handleShow(i){this._handleHelper(i,"show")}_handleHide(i){this._handleHelper(i,"hide")}_showModal(i){let{target:e}=i,t=this.querySelector(".overlay");if(t){let n=this.querySelector("img:not(.overlay-img)"),o=this.querySelector(".overlay-img");o.src=n.src,t.classList.remove("hidden"),t.classList.add("show")}}_hideModal(i){let{target:e}=i,t=this.querySelector(".overlay");t&&(t.classList.remove("show"),t.classList.add("hidden"))}_applyStyle(){let i=`
      wc-image {
        display: contents;
      }
      wc-image .wc-image {
        position: relative;
      }
      wc-image .wc-image .img {
        max-height: 300px;
        width: 100%;
        height: auto;
        object-fit: cover;
        transition: 0.3s;
      }
      wc-image[modal]:not([hover-overlay]) .wc-image .img {
        cursor: pointer;
      }
      wc-image[modal]:not([hover-overlay]) .wc-image .img:hover {
        opacity: 0.7;
      }
      wc-image .wc-image .img-text {
        color: #f2f2f2;
        font-size: 15px;
        padding: 8px 12px;
        position: absolute;
        bottom: 8px;
        width: 100%;
        text-align: center;
      }
      /* Overlay */
      wc-image .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        padding-top: 100px;
        background-color: transparent;
        transition: background-color 0.5s ease;
      }
      wc-image .overlay.show {
        background-color: rgba(0,0,0,0.8);
        z-index: 1;
      }
      wc-image .overlay .closebtn {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 40px;
        background-color: transparent;
      }
      wc-image .overlay .overlay-img {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 700px;
      }
      wc-image .overlay .overlay-img-text {
        color: #f2f2f2;
        font-size: 36px;
        padding: 8px 12px;
        position: absolute;
        width: 100%;
        text-align: center;
      }
      wc-image .overlay .overlay-img,
      wc-image .overlay .overlay-img-text {
        animation-name: img-zoom;
        animation-duration: 0.6s;
      }
      /* Hover Overlay */
      wc-image[hover-overlay] .hover-overlay.top {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 100%;
        height:0;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.top {
        top: 0;
        height: 100%;
      }
      wc-image[hover-overlay] .hover-overlay.bottom {
        position: absolute;
        bottom: 100%;
        left: 0;
        right: 0;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 100%;
        height:0;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.bottom {
        bottom: 0;
        height: 100%;
      }
      wc-image[hover-overlay] .hover-overlay.left {
        position: absolute;
        bottom: 0;
        left: 100%;
        right: 0;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 0;
        height: 100%;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.left {
        left: 0;
        width: 100%;
      }
      wc-image[hover-overlay] .hover-overlay.right {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 100%;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 0;
        height: 100%;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.right {
        right: 0;
        width: 100%;
      }

      @keyframes img-zoom {
        from { transform: scale(0); }
        to { transform: scale(1); }
      }
    `.trim();this.loadStyle("wc-image-style",i)}_wireEvents(){super._wireEvents(),this.hasAttribute("modal")&&(document.body.addEventListener("wc-image:show",this._handleShow.bind(this)),document.body.addEventListener("wc-image:hide",this._handleHide.bind(this)))}_unWireEvents(){super._unWireEvents(),this.hasAttribute("modal")&&(document.body.removeEventListener("wc-image:show",this._handleShow.bind(this)),document.body.removeEventListener("wc-image:hide",this._handleHide.bind(this)),this.querySelector(".img").removeEventListener("click",this._showModal.bind(this)),this.querySelector(".overlay .closebtn").removeEventListener("click",this._hideModal.bind(this)))}};customElements.define("wc-image",G);var Y=class extends b{static get observedAttributes(){return["id","class","path","wrap"]}constructor(){super(),this._items=[];let i=this.querySelector(".wc-menu");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-menu"),this.appendChild(this.componentElement)),console.log("ctor:wc-menu")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-menu")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):i==="wrap"||super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-menu > *")?(this.querySelectorAll(".menu-link").forEach(n=>n.addEventListener("click",this._handleClick.bind(this))),this.querySelector(".menu-toggle").addEventListener("click",this._handleMenuToggle.bind(this)),this._setActiveLink()):(this.componentElement.innerHTML="",this._createInnerElement(),this._setActiveLink()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-menu")}_createInnerElement(){this._moveDeclarativeOptions();let i=document.createElement("div");i.classList.add("menu-items"),this.hasAttribute("wrap")&&i.classList.add("flex-wrap"),this._items.forEach(n=>{let o=this._createAnchor(n.name,n.label,n.selected);i.appendChild(o)});let e=document.createElement("div");e.classList.add("menu-toggle");let t=document.createElement("a");t.href="javascript:void(0);",t.classList.add("icon","row"),t.id="menuIcon",t.innerHTML=`
        <svg class="h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"/>
        </svg>
    `.trim(),t.addEventListener("click",this._handleMenuToggle.bind(this)),this.componentElement.appendChild(i),e.appendChild(t),this.componentElement.appendChild(e)}_moveDeclarativeOptions(){let i=this.querySelectorAll("option");i.length>0&&(this._items=[]),i.forEach(e=>{let t={name:e.value,label:e.textContent.trim(),selected:e.hasAttribute("selected")||!1};this._items.push(t)}),Array.from(i).forEach(e=>e.remove())}_createAnchor(i,e,t){let n=this.getAttribute("path")||"/static/views/",o=document.createElement("a");return o.classList.add("menu-link"),t&&o.classList.add("active"),o.dataset.name=i,o.textContent=e,o.setAttribute("href",`${n}${i}.html`),o.setAttribute("hx-get",`${n}${i}.html`),o.setAttribute("hx-trigger","click"),o.setAttribute("hx-target","#viewport"),o.setAttribute("hx-swap","innerHTML transition:true"),o.setAttribute("hx-push-url",`${n}${i}.html`),o.setAttribute("hx-select","#page-contents"),o.addEventListener("click",this._handleClick.bind(this)),o}_setActiveLink(){let i=this._getCurrentRoute(),e=this.querySelectorAll(".wc-menu a");i?e.forEach(t=>{t.dataset.name===i?t.classList.add("active"):t.classList.remove("active")}):e.length>0&&(e.forEach(t=>t.classList.remove("active")),e[0].classList.add("active"))}_getCurrentRoute(){return window.location.pathname.split("/").pop().split(".").shift()}_handleHelper(i,e="click"){let{detail:t}=i,{selector:n,subSelector:o}=t,s=Array.isArray(n);typeof n=="string"||s?document.querySelectorAll(n).forEach(r=>{r===this&&e==="click"&&this.querySelector(o)?.click()}):n===this&&e==="click"&&this.querySelector(o)?.click()}_handleOnClick(i){this._handleHelper(i,"click")}_handleClick(i){let{target:e}=i;this.querySelectorAll(".wc-menu a:not(.icon)").forEach(n=>n.classList.remove("active")),e.classList.add("active")}_handleMenuToggle(i){let{target:e}=i;e.classList.toggle("open"),this.querySelector("wc-menu .wc-menu").classList.toggle("open")}_applyStyle(){let i=`
      wc-menu {
        display: contents;
      }
      wc-menu .wc-menu {
        position: relative;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        background-color: var(--card-bg-color);
        overflow: hidden;
      }
      wc-menu .wc-menu .menu-items {
        display: flex;
        flex-direction: row;
      }
      wc-menu .wc-menu a {
        color: var(--primary-color);
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
        opacity: 0.75;
        user-select: none;
      }
      wc-menu .wc-menu a:hover {
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
        opacity: 1;
      }
      wc-menu .wc-menu a.active {
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
        opacity: 1;
      }
      wc-menu .wc-menu a.icon {
        display: none;
      }
      @media (max-width: 600px) {
        wc-menu .wc-menu a:not(.active) {
          display: none;
        }
        wc-menu .wc-menu a.icon {
          display: block;
        }
      }
      @media (max-width: 600px) {
        wc-menu .wc-menu.open {
          position: relative;
        }
        wc-menu .wc-menu.open .menu-items {
          flex-direction: column;
          flex: 1 1 0%;
        }
        wc-menu .wc-menu.open a:active {
          background-color: var(--primary-bg-color);
          color: var(--primary-color);
          opacity: 1;
        }
        wc-menu .wc-menu.open .icon {
          background-color: var(--primary-bg-color);
          color: var(--primary-color);
          opacity: 1;
          position: absolute;
          right: 0;
          top: 0;
        }
        wc-menu .wc-menu.open a {
          float: none;
          display: block;
          text-align: left;
        }
      }
    `.trim();this.loadStyle("wc-menu-style",i)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-menu:click",this._handleOnClick.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-menu:click",this._handleOnClick.bind(this)),this.querySelectorAll(".menu-link").forEach(t=>t.removeEventListener("click",this._handleClick.bind(this))),this.querySelector(".menu-toggle").removeEventListener("click",this._handleMenuToggle.bind(this))}};customElements.define("wc-menu",Y);if(!customElements.get("wc-page-designer")){class c extends HTMLElement{static get observedAttributes(){return["theme","json-layout","json-layout-fetch-url","json-schema-fetch-url"]}theme="theme-royal dark";designerState={elements:[],selectedElement:null,schema:null,rules:[],editingRuleIndex:-1};designerSurface=null;containerElements=null;formElements=null;schemaFields=null;previewButton=null;renderedPreviewButton=null;preRenderedPreviewButton=null;previewFrame=null;generateJsonButton=null;jsonOutput=null;propId=null;propType=null;propLabel=null;propScope=null;propCss=null;propRequired=null;savePropertiesButton=null;noSelectionPanel=null;elementPropertiesPanel=null;schemaJson=null;loadSchemaButton=null;addRuleButton=null;rulesList=null;saveRuleButton=null;loadDesignButton=null;copyDesignButton=null;downloadDesignButton=null;constructor(){super(),this.loadCSS=S.bind(this),this.loadScript=_.bind(this),this.loadLibrary=A.bind(this),this.loadStyle=L.bind(this),this.elementCustomProperties={a:[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"href",label:"Href",type:"string",isSubLabel:!0},{name:"target",label:"Target",type:"string-enum",defaultValue:"_self",enum:["","_blank","_parent","_self","_top"]}],column:[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"}],"data-array":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"has_add_new",label:"Has Add New?",type:"boolean"}],"data-item":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0}],div:[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"}],fieldset:[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Legend",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"}],hr:[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"}],option:[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"},{name:"value",label:"Value",type:"string"},{name:"content",label:"Content",type:"multiline-string"},{name:"is_selected",label:"Is Selected?",type:"boolean"}],row:[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"}],"wc-accordion-option":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"},{name:"value",label:"Value",type:"string",isLabel:!0},{name:"content",label:"Content",type:"multiline-string"},{name:"is_selected",label:"Is Selected?",type:"boolean"}],"wc-accordion":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"},{name:"allow_many",label:"Allow Many?",type:"boolean"}],"wc-article-skeleton":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0}],"wc-breadcrumb":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"title",label:"Title",type:"string",isLabel:!0}],"wc-breadcrumb-item":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Legend",type:"string",isLabel:!0},{name:"link",label:"Link",type:"string"}],"wc-background-image":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"caption",label:"Caption",type:"string",isLabel:!0},{name:"url",label:"URL",type:"string",isSubLabel:!0}],"wc-card-skeleton":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0}],"wc-code-mirror":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"name",label:"Name",type:"string"},{name:"label",label:"Legend",type:"string",isLabel:!0},{name:"theme",label:"Theme",type:"string-enum",defaultValue:"",enum:["","3024-day","3024-night","abcdef","ambiance","ayu-dark","ayu-mirage","base16-dark","base16-light","bespin","blackboard","cobalt","colorforth","default","darcula","dracula","duotone-dark","duotone-light","eclipse","elegant","erlang-dark","gruvbox-dark","hopscotch","icecoder","idea","isotope","lesser-dark","liquibyte","lucario","material","material-darker","material-palenight","material-ocean","mbo","mdn-like","midnight","monokai","moxer","neat","neo","night","nord","oceanic-next","panda-syntax","paraiso-dark","paraiso-light","pastel-on-dark","railscasts","rubyblue","seti","shadowfox","solarized","ssms","the-matrix","tomorrow-night-bright","tomorrow-night-eighties","ttcn","twilight","vibrant-ink","xq-dark","xq-light","yeti","yonce","zenburn"]},{name:"mode",label:"Mode",type:"string-enum",isSubLabel:!0,defaultValue:"",enum:["","apl","asciiarmor","asn.1","asterisk","brainfuck","clike","clojure","cmake","cobol","coffeescript","commonlisp","crystal","css","cypher","d","dart","diff","django","dockerfile","dtd","dylan","ebnf","ecl","eiffel","elm","erlang","factor","fcl","forth","fortran","gas","gfm","gherkin","go","groovy","haml","handlebars","haskell","haxe","htmlembedded","htmlmixed","http","idl","javascript","jinja2","julia","kotlin","litespec","livescript","lua","markdown","mathematica","mbox","mirc","mllike","modelica","mscgen","mumps","nginx","nsis","ntriples","octave","oz","pascal","perl","php","pig","powershell","properties","protobuf","pug","puppet","python","q","r","rpm","rst","ruby","rust","sas","sass","scheme","shell","sieve","slim","smalltalk","smarty","solr","soy","sparql","spreadsheet","sql","stex","stylus","swift","tcl","textile","tiddlywiki","tiki","toml","tornado","troff","ttcn","ttcn-cfg","turtle","twig","vb","vbscript","velocity","verilog","vhdl","vue","xml","xquery","yaml","yaml-frontmatter","z80"]},{name:"height",label:"Height",type:"string"},{name:"has_line_numbers",label:"Has Line Numbers?",type:"boolean"},{name:"has_line_wrapping",label:"Has Line Wrapping?",type:"boolean"},{name:"has_fold_gutter",label:"Has Fold Gutter?",type:"boolean"},{name:"lbl_css",label:"Label Class",type:"string"},{name:"tab_size",label:"Tab Size",type:"number"},{name:"indent_unit",label:"Indent Unit",type:"number"},{name:"value",label:"Value",type:"multiline-string"},{name:"url",label:"Fetch URL",type:"string"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"script",label:"Hyperscript",type:"multiline-string"}],"wc-contact-card":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"contact_name",label:"Name",type:"string",isLabel:!0},{name:"contact_title",label:"Title",type:"string",isSubLabel:!0},{name:"contact_gender",label:"Gender",type:"string-radio-modern",defaultValue:"",enum:["male","female"]}],"wc-contact-chip":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"contact_name",label:"Name",type:"string",isLabel:!0},{name:"contact_gender",label:"Gender",type:"string-radio-modern",defaultValue:"",enum:["male","female"]}],"wc-form":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"},{name:"method",label:"Method",type:"string-radio-modern",isLabel:!0,defaultValue:"",enum:["get","post"]},{name:"action",label:"Action",type:"string",isSubLabel:!0}],"wc-hotkey":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"keys",label:"Keys",type:"string",isLabel:!0},{name:"target",label:"Target",type:"string"}],"wc-image":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"url",label:"URL",type:"string"},{name:"caption",label:"Caption",type:"string"},{name:"hover_overlay",label:"Hover Overlay?",type:"boolean"},{name:"hover_mode",label:"Hover Mode",type:"string-radio-modern",defaultValue:"",enum:["left","top","right","bottom"]},{name:"modal",label:"Modal?",type:"boolean"},{name:"overlay_content",label:"Overlay Content",type:"multiline-string"}],"wc-input":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"minlength",label:"Min Length",type:"string"},{name:"maxlength",label:"Max Length",type:"string"},{name:"placeholder",label:"Placeholder",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-checkbox":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"is_toggle",label:"Is Toggle?",type:"boolean"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-currency":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"step",label:"Step",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-date":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-email":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"minlength",label:"Min Length",type:"string"},{name:"maxlength",label:"Max Length",type:"string"},{name:"placeholder",label:"Placeholder",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-month":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-number":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"step",label:"Step",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-range":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"step",label:"Step",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-tel":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"minlength",label:"Min Length",type:"string"},{name:"maxlength",label:"Max Length",type:"string"},{name:"placeholder",label:"Placeholder",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-time":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-week":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-radio-collection":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"collName",label:"Collection Name",type:"string"},{name:"collCSS",label:"Collection CSS",type:"string"},{name:"collDisplayMember",label:"Display Member",type:"string"},{name:"collValueMember",label:"Value Member",type:"string"},{name:"group_class",label:"Radio Group Class",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-radio-lookup":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"lookupName",label:"Lookup Name",type:"string"},{name:"lookupCSS",label:"Lookup CSS",type:"string"},{name:"group_class",label:"Radio Group Class",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-input-radio":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"group_class",label:"Radio Group Class",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-javascript":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"content",label:"Content",type:"multiline-string"},{name:"has_defer",label:"Defer?",type:"boolean"}],"wc-list-skeleton":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0}],"wc-loader":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"size",label:"Size",type:"string"},{name:"speed",label:"Speed",type:"string"},{name:"thickness",label:"Thickness",type:"string"}],"wc-option":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"value",label:"Value",type:"string"},{name:"is_selected",label:"Is Selected?",type:"boolean"}],"wc-save-button":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"saveUrl",label:"Save URL",type:"string"}],"wc-save-split-button":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"positionArea",label:"Position Area",type:"string-enum",defaultValue:"",enum:["none","top","bottom","left","right","start","end","self-start","self-end","center","top left","top center","top right","top start","top end","top self-start","top self-end","center left","center center","center right","center start","center end","center self-start","center self-end","bottom left","bottom center","bottom right","bottom start","bottom end","bottom self-start","bottom self-end","start left","start center","start right","start start","start end","start self-start","start self-end","end left","end center","end right","end start","end end","end self-start","end self-end","self-start left","self-start center","self-start right","self-start start","self-start end","self-start self-start","self-start self-end","self-end left","self-end center","self-end right","self-end start","self-end end","self-end self-start","self-end self-end","left top","left center","left bottom","left start","left end","left self-start","left self-end","right top","right center","right bottom","right start","right end","right self-start","right self-end"]},{name:"saveUrl",label:"Save URL",type:"string"},{name:"saveNewUrl",label:"Save New URL",type:"string"},{name:"saveReturnUrl",label:"Save Return URL",type:"string"}],"wc-script":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"src",label:"Src",type:"string"}],"wc-select-multiple-collection":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"mode",label:"Mode",type:"string-enum",defaultValue:"",enum:["","chip","multiple"]},{name:"collName",label:"Collection Name",type:"string"},{name:"collCSS",label:"Collection CSS",type:"string"},{name:"collDisplayMember",label:"Display Member",type:"string"},{name:"collValueMember",label:"Value Member",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"},{name:"allow_dynamic",label:"Allow Dynamic?",type:"boolean"}],"wc-select-multiple-lookup":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"mode",label:"Mode",type:"string-enum",defaultValue:"",enum:["","chip","multiple"]},{name:"lookupName",label:"Lookup Name",type:"string"},{name:"lookupCSS",label:"Lookup CSS",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"},{name:"allow_dynamic",label:"Allow Dynamic?",type:"boolean"}],"wc-select-multiple":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"mode",label:"Mode",type:"string-enum",defaultValue:"",enum:["","chip","multiple"]},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"},{name:"allow_dynamic",label:"Allow Dynamic?",type:"boolean"}],"wc-select-collection":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"collName",label:"Collection Name",type:"string"},{name:"collCSS",label:"Collection CSS",type:"string"},{name:"collDisplayMember",label:"Display Member",type:"string"},{name:"collValueMember",label:"Value Member",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-select-lookup":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"lookupName",label:"Lookup Name",type:"string"},{name:"lookupCSS",label:"Lookup CSS",type:"string"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-select":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-sidebar":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"width",label:"Width",type:"string"},{name:"background_color",label:"Background Color",type:"string"},{name:"push_target",label:"Push Target",type:"string"},{name:"is_auto_height",label:"Is Auto Height?",type:"boolean"},{name:"is_right_side",label:"Is Right Side?",type:"boolean"}],"wc-sidenav":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"width",label:"Width",type:"string"},{name:"open_top",label:"Open Top",type:"string"},{name:"open_btn_css",label:"Open Button CSS",type:"string"},{name:"close_btn_css",label:"Close Button CSS",type:"string"},{name:"background_color",label:"Background Color",type:"string"},{name:"is_push",label:"Is Push?",type:"boolean"},{name:"push_target",label:"Push Target",type:"string"},{name:"is_open",label:"Is Open?",type:"boolean"},{name:"is_auto_height",label:"Is Auto Height?",type:"boolean"},{name:"has_open_vertical_text",label:"Has Open Vertical Text?",type:"boolean"},{name:"is_right_side",label:"Is Right Side?",type:"boolean"},{name:"is_overlay",label:"Is Overlay?",type:"boolean"}],"wc-slideshow":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"},{name:"autoplay",label:"Autoplay?",type:"boolean"},{name:"autoplay_interval",label:"Autoplay Interval",type:"number"},{name:"max_image_height",label:"Max Image Height",type:"string"}],"wc-slideshow-image":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"url",label:"URL",type:"string"},{name:"caption",label:"Caption",type:"string"},{name:"numbertext",label:"Number Text",type:"string"}],"wc-split-button":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"positionArea",label:"Position Area",type:"string-enum",defaultValue:"",enum:["none","top","bottom","left","right","start","end","self-start","self-end","center","top left","top center","top right","top start","top end","top self-start","top self-end","center left","center center","center right","center start","center end","center self-start","center self-end","bottom left","bottom center","bottom right","bottom start","bottom end","bottom self-start","bottom self-end","start left","start center","start right","start start","start end","start self-start","start self-end","end left","end center","end right","end start","end end","end self-start","end self-end","self-start left","self-start center","self-start right","self-start start","self-start end","self-start self-start","self-start self-end","self-end left","self-end center","self-end right","self-end start","self-end end","self-end self-start","self-end self-end","left top","left center","left bottom","left start","left end","left self-start","left self-end","right top","right center","right bottom","right start","right end","right self-start","right self-end"]}],"wc-tab":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"}],"wc-tab-item":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"}],"wc-table-skeleton":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0}],"wc-tabulator":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"},{name:"ajax_url",label:"AJAX URL",type:"string"},{name:"ajax_params",label:"AJAX Params",type:"multiline-string"},{name:"ajax_params_map",label:"AJAX Params Map",type:"multiline-string"},{name:"filter_mode",label:"Filter Mode",type:"string-enum",defaultValue:"",enum:["","remote"]},{name:"initial_filter",label:"Initial Filter",type:"multiline-string"},{name:"sort_mode",label:"Sort Mode",type:"string-enum",defaultValue:"",enum:["","remote"]},{name:"initial_sort",label:"Initial Sort",type:"multiline-string"},{name:"data_placeholder",label:"Placeholder",type:"string"},{name:"row_context_menu",label:"Row Context Menu",type:"string"},{name:"row_header",label:"Row Header",type:"multiline-string"},{name:"row_height",label:"Row Height",type:"number"},{name:"row_formatter",label:"Row Formatter",type:"multiline-string"},{name:"row_click",label:"Row Click",type:"multiline-string"},{name:"row_selected",label:"Row Selected",type:"multiline-string"},{name:"row_deselected",label:"Row Deselected",type:"multiline-string"},{name:"frozen_rows",label:"Frozen Rows",type:"number"},{name:"pagination",label:"Pagination?",type:"boolean"},{name:"pagination_size",label:"Pagination Size",type:"number"},{name:"pagination_counter",label:"Pagination Counter",type:"string"},{name:"header_visible",label:"Header Visible?",type:"boolean"},{name:"movable_columns",label:"Movable Columns?",type:"boolean"},{name:"resizable_columns",label:"Resizable Columns?",type:"boolean"},{name:"resizable_column_guide",label:"Resizable Column Guide?",type:"boolean"},{name:"movable_rows",label:"Movable Rows?",type:"boolean"},{name:"resizable_rows",label:"Resizable Rows?",type:"boolean"},{name:"resizable_row_guide",label:"Resizable Row Guide?",type:"boolean"},{name:"selectable_rows",label:"Selectable Rows",type:"string"},{name:"persistence",label:"Persistence?",type:"boolean"},{name:"layout",label:"Layout",type:"string-enum",defaultValue:"",enum:["","fitData","fitDataFill","fitDataStretch","fitDataTable","fitColumns"]},{name:"col_field_formatter",label:"Col Field Formatter",type:"multiline-string"},{name:"group_by",label:"Group By",type:"string"},{name:"responsive_layout",label:"Responsive Layout",type:"string"},{name:"record_size",label:"Record Size",type:"number"}],"wc-tabulator-column":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"},{name:"field",label:"Field",type:"string"},{name:"title",label:"Title",type:"string"},{name:"title_formatter",label:"Title Formatter",type:"string-datalist",defaultValue:"",enum:["plaintext","textarea","html","money","image","link","datetime","datetimediff","tickCross","color","star","traffic","progress","array","lookup","json","toggle","buttonTick","buttonCross","adaptable","rownum","handle","rowSelection","responsiveCollapse","pageRowNum","urlFormatter","linkFormatter","localdatetime","linklocaldatetime"]},{name:"header_filter",label:"Header Filter",type:"string",defaultValue:""},{name:"header_filter_params",label:"Header Filter Params",type:"multiline-string"},{name:"header_filter_placeholder",label:"Header Filter Placeholder",type:"string"},{name:"header_filter_func",label:"Header Filter Func",type:"string-datalist",defaultValue:"",enum:["=","!=","like","keywords","starts","ends","<","<=",">",">=","in","regex"]},{name:"header_hoz_align",label:"Header Horizontal Alignment",type:"string-radio-modern",defaultValue:"",enum:["left","center","right"]},{name:"header_menu",label:"Header Menu",type:"string"},{name:"header_sort",label:"Header Sort?",type:"boolean"},{name:"header_sort_starting_dir",label:"Header Sort Starting Dir",type:"string"},{name:"header_sort_tristate",label:"Header Sort Tristate?",type:"boolean"},{name:"formatter",label:"Formatter",type:"string-datalist",defaultValue:"",enum:["plaintext","textarea","html","money","image","link","datetime","datetimediff","tickCross","color","star","traffic","progress","array","lookup","json","toggle","buttonTick","buttonCross","adaptable","rownum","handle","rowSelection","responsiveCollapse","pageRowNum","urlFormatter","linkFormatter","localdatetime","linklocaldatetime"]},{name:"formatter_params",label:"Formatter Params",type:"multiline-string"},{name:"visible",label:"Visible?",type:"boolean"},{name:"resizable",label:"Resizable?",type:"boolean"},{name:"editable",label:"Editable?",type:"boolean"},{name:"frozen",label:"Frozen?",type:"boolean"},{name:"responsive",label:"Responsive?",type:"boolean"},{name:"tooltip",label:"Tooltip",type:"string"},{name:"row_handle",label:"Row Handle?",type:"boolean"},{name:"html_output",label:"HTML Output",type:"multiline-string"},{name:"print",label:"Print?",type:"boolean"},{name:"clipboard",label:"Clipboard?",type:"boolean"},{name:"width",label:"Width",type:"string"},{name:"width_grow",label:"Width Grow",type:"number"},{name:"width_shrink",label:"Width Shrink",type:"number"},{name:"min_width",label:"Min Width",type:"string"},{name:"max_width",label:"Max Width",type:"string"},{name:"max_initial_width",label:"Max Initial Width",type:"string"},{name:"top_calc",label:"Top Calc",type:"string"},{name:"top_calc_params",label:"Top Calc Params",type:"multiline-string"},{name:"bottom_calc",label:"Bottom Calc",type:"string"},{name:"bottom_cal_params",label:"Bottom Calc Params",type:"multiline-string"},{name:"editor",label:"Editor",type:"string-enum",defaultValue:"",enum:["","input","textarea","number","range","tickCross","star","progress","date","time","datetime","list"]},{name:"editor_params",label:"Editor Params",type:"multiline-string"},{name:"sorter",label:"Sorter",type:"string"},{name:"sorter_params",label:"Sorter Params",type:"multiline-string"},{name:"hoz_align",label:"Horizontal Alignment",type:"string-radio-modern",defaultValue:"",enum:["left","center","right"]},{name:"vert_align",label:"Vertical Alignment",type:"string-radio-modern",defaultValue:"",enum:["top","middle","bottom"]},{name:"cell_click",label:"Cell Click",type:"multiline-string"}],"wc-tabulator-func":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"name",label:"Name",type:"string"},{name:"value",label:"Value",type:"multiline-string"}],"wc-tabulator-row-menu":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"order",label:"Order",type:"number"},{name:"icon",label:"Icon",type:"string"},{name:"value",label:"Value",type:"multiline-string"}],"wc-textarea":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"label",label:"Label",type:"string",isLabel:!0},{name:"css",label:"CSS",type:"string"},{name:"scope",label:"Scope",type:"string",isSubLabel:!0},{name:"placeholder",label:"Placeholder",type:"string"},{name:"rows",label:"Rows",type:"number"},{name:"is_readonly",label:"Is Readonly?",type:"boolean"},{name:"is_disabled",label:"Is Disabled?",type:"boolean"},{name:"is_required",label:"Is Required?",type:"boolean"}],"wc-theme-selector":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"theme",label:"Theme",type:"string-datalist",defaultValue:"",enum:["theme-rose","theme-petal","theme-sunset","theme-peach","theme-fire","theme-desert","theme-golden","theme-honey","theme-amber","theme-olive","theme-moss","theme-avocado","theme-lime","theme-fern","theme-yellow","theme-meadow","theme-cornsilk","theme-sage","theme-forest","theme-jungle","theme-emerald","theme-mint","theme-turquoise","theme-aqua","theme-lagoon","theme-ice","theme-ocean","theme-azure","theme-sky","theme-midsky","theme-deepsky","theme-royal","theme-twilight","theme-lavender","theme-violet","theme-grape","theme-plum","theme-fuchsia","theme-cottoncandy","theme-blush","theme-bubblegum"]},{name:"mode",label:"Mode",type:"string-radio-modern",defaultValue:"",enum:["light","dark"]}],"wc-timeline":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"}],"wc-timeline-option":[{name:"id",label:"ID",type:"string",isReadonly:!0},{name:"type",label:"Type",type:"string",isReadonly:!0},{name:"css",label:"CSS",type:"string"},{name:"value",label:"Value",type:"string"},{name:"content",label:"Content",type:"multiline-string"}]},this.floatingToolbar=null,this.currentHoveredElement=null,this.toolbarVisible=!1;let e=this.querySelector(".wc-page-designer");e?this.componentElement=e:this.createElement(),console.log("ctor:wc-page-designer")}async connectedCallback(){await this.render(),this._applyStyle(),this.wireEvents(),setTimeout(()=>{this.setup()},250),console.log("conntectedCallback:wc-page-designer")}disconnectedCallback(){this.unWireEvents()}attributeChangedCallback(e,t,n){if(e==="theme"){let o=this.theme;this.theme=n;let s=this.querySelector(".wc-page-designer");s.className=s.className.replace(o,n),console.log("wc-page-designer:attributeChangedCallback - designer",s.className)}else e==="json-layout"?(this.jsonLayout=n,console.log("wc-page-designer:attributeChangedCallback - json-layout",this.jsonLayout)):e==="json-layout-fetch-url"?(this.jsonLayoutFetchUrl=n,this.querySelector('wc-code-mirror[name="jsonLayout"]').setAttribute("fetch",this.jsonLayoutFetchUrl),console.log("wc-page-designer:attributeChangedCallback - json-layout-fetch-url",this.jsonLayoutFetchUrl)):e==="json-schema-fetch-url"&&(this.jsonSchemaFetchUrl=n,this.querySelector('wc-code-mirror[name="jsonSchema"]').setAttribute("fetch",this.jsonSchemaFetchUrl),console.log("wc-page-designer:attributeChangedCallback - json-schema-fetch-url",this.jsonSchemaFetchUrl))}async render(){await Promise.all([this.loadLibrary("https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js","Sortable"),this.loadLibrary("https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js","uuid")]),wc.EventHub.broadcast("wc-page-designer:ready","","")}createElement(){let e=`
  <div class="wc-page-designer ${this.theme} flex flex-row flex-1 min-h-0 h-screen">
    <!-- Left Panel - Elements -->
    <div class="left-panel flex flex-col min-h-0 overflow-scroll p-2">
      <wc-tab class="flex flex-col flex-1 min-h-0" animate>
        <wc-tab-item class="active" label="Containers">
          <input class="sticky mx-2 mt-2 mb-2" type="search" id="element_filter" placeholder="Containers..."
            oninput="
            const query = this.value.trim().toLowerCase();
            const elements = this.parentElement.querySelectorAll('.element-list .element-item');
            elements.forEach(el => {
              const text = el.textContent.trim().toLowerCase();
              if (query === '' || text.startsWith(query)) {
                el.classList.remove('hidden');
              } else {
                el.classList.add('hidden');
              }
            });
          ">
          <div class="element-list p-2 flex flex-col min-h-0 overflow-scroll" id="container-elements">
            <div class="element-item" data-element-type="div" draggable="true">Div</div>
            <div class="element-item" data-element-type="column" draggable="true">Column</div>
            <div class="element-item" data-element-type="row" draggable="true">Row</div>
            <div class="element-item" data-element-type="data-array" draggable="true">Data Array</div>
            <div class="element-item" data-element-type="data-item" draggable="true">Data Item</div>
            <div class="element-item" data-element-type="fieldset" draggable="true">Fieldset</div>
            <div class="element-item" data-element-type="wc-accordion" draggable="true">WC Accordion</div>
            <div class="element-item" data-element-type="wc-breadcrumb" draggable="true">WC Breadcrumb</div>
            <div class="element-item" data-element-type="wc-form" draggable="true">WC Form</div>
            <div class="element-item" data-element-type="wc-input-radio" draggable="true">WC Input Radio</div>
            <div class="element-item" data-element-type="wc-select-multiple" draggable="true">WC Select Multiple</div>
            <div class="element-item" data-element-type="wc-select" draggable="true">WC Select</div>
            <div class="element-item" data-element-type="wc-sidebar" draggable="true">WC Sidebar</div>
            <div class="element-item" data-element-type="wc-sidenav" draggable="true">WC Sidenav</div>
            <div class="element-item" data-element-type="wc-slideshow" draggable="true">WC Slideshow</div>
            <div class="element-item" data-element-type="wc-split-button" draggable="true">WC Split Button</div>
            <div class="element-item" data-element-type="wc-tab" draggable="true">WC Tab Container</div>
            <div class="element-item" data-element-type="wc-tab-item" draggable="true">WC Tab Item</div>
            <div class="element-item" data-element-type="wc-tabulator" draggable="true">WC Tabulator</div>
            <div class="element-item" data-element-type="wc-timeline" draggable="true">WC Timeline</div>
          </div>
        </wc-tab-item>
        <wc-tab-item class="" label="Elements">
          <input class="sticky mx-2 mt-2 mb-2" type="search" id="element_filter" placeholder="Elements..."
            oninput="
            const query = this.value.trim().toLowerCase();
            const elements = this.parentElement.querySelectorAll('.element-list .element-item');
            elements.forEach(el => {
              const text = el.textContent.trim().toLowerCase();
              if (query === '' || text.startsWith(query)) {
                el.classList.remove('hidden');
              } else {
                el.classList.add('hidden');
              }
            });
          ">
          <div class="element-list p-2 flex flex-col min-h-0 overflow-scroll" id="form-elements">
            <div class="element-item" data-element-type="a" draggable="true">Anchor</div>
            <div class="element-item" data-element-type="hr" draggable="true">Horizontal Line</div>
            <div class="element-item" data-element-type="wc-article-skeleton" draggable="true">WC Article Skeleton</div>
            <div class="element-item" data-element-type="wc-card-skeleton" draggable="true">WC Card Skeleton</div>
            <div class="element-item" data-element-type="wc-list-skeleton" draggable="true">WC List Skeleton</div>
            <div class="element-item" data-element-type="wc-table-skeleton" draggable="true">WC Table Skeleton</div>
            <div class="element-item" data-element-type="wc-accordion-option" draggable="true">WC Accordion Option</div>
            <div class="element-item" data-element-type="wc-background-image" draggable="true">WC Backgruond Image</div>
            <div class="element-item" data-element-type="wc-breadcrumb-item" draggable="true">WC Breadcrumb Item</div>
            <div class="element-item" data-element-type="wc-code-mirror" draggable="true">WC Code Mirror</div>
            <div class="element-item" data-element-type="wc-contact-card" draggable="true">WC Contact Card</div>
            <div class="element-item" data-element-type="wc-contact-chip" draggable="true">WC Contact Chip</div>
            <div class="element-item" data-element-type="wc-hotkey" draggable="true">WC Hotkey</div>
            <div class="element-item" data-element-type="wc-image" draggable="true">WC Image</div>
            <div class="element-item" data-element-type="wc-input" draggable="true">WC Input</div>
            <div class="element-item" data-element-type="wc-input-checkbox" draggable="true">WC Input Checkbox</div>
            <div class="element-item" data-element-type="wc-input-currency" draggable="true">WC Input Currency</div>
            <div class="element-item" data-element-type="wc-input-date" draggable="true">WC Input Date</div>
            <div class="element-item" data-element-type="wc-input-email" draggable="true">WC Input Email</div>
            <div class="element-item" data-element-type="wc-input-month" draggable="true">WC Input Month</div>
            <div class="element-item" data-element-type="wc-input-number" draggable="true">WC Input Number</div>
            <div class="element-item" data-element-type="wc-input-radio-collection" draggable="true">WC Input Radio Collection</div>
            <div class="element-item" data-element-type="wc-input-radio-lookup" draggable="true">WC Input Radio Lookup</div>
            <div class="element-item" data-element-type="wc-input-range" draggable="true">WC Input Range</div>
            <div class="element-item" data-element-type="wc-input-tel" draggable="true">WC Input Phone</div>
            <div class="element-item" data-element-type="wc-input-time" draggable="true">WC Input Time</div>
            <div class="element-item" data-element-type="wc-input-week" draggable="true">WC Input Week</div>
            <div class="element-item" data-element-type="wc-loader" draggable="true">WC Loader</div>
            <div class="element-item" data-element-type="wc-option" draggable="true">WC Option</div>
            <div class="element-item" data-element-type="wc-save-button" draggable="true">WC Save Button</div>
            <div class="element-item" data-element-type="wc-save-split-button" draggable="true">WC Save Split Button</div>
            <div class="element-item" data-element-type="wc-script" draggable="true">WC Script</div>
            <div class="element-item" data-element-type="wc-select-multiple-collection" draggable="true">WC Select Multiple Collection</div>
            <div class="element-item" data-element-type="wc-select-multiple-lookup" draggable="true">WC Select Multiple Lookup</div>
            <div class="element-item" data-element-type="wc-select-collection" draggable="true">WC Select Collection</div>
            <div class="element-item" data-element-type="wc-select-lookup" draggable="true">WC Select Lookup</div>
            <div class="element-item" data-element-type="wc-slideshow-image" draggable="true">WC Slideshow Image</div>
            <div class="element-item" data-element-type="wc-tabulator-column" draggable="true">WC Tabulator Column</div>
            <div class="element-item" data-element-type="wc-tabulator-func" draggable="true">WC Tabulator Func</div>
            <div class="element-item" data-element-type="wc-tabulator-row-menu" draggable="true">WC Tabulator Row Menu</div>
            <div class="element-item" data-element-type="wc-textarea" draggable="true">WC Textarea</div>
            <div class="element-item" data-element-type="wc-theme-selector" draggable="true">WC Theme Selector</div>
            <div class="element-item" data-element-type="wc-timeline-option" draggable="true">WC Timeline Option</div>
          </div>
        </wc-tab-item>
        <wc-tab-item class="" label="Fields">
          <input class="sticky mx-2 mt-2 mb-2" type="search" id="element_filter" placeholder="Fields..."
            oninput="
            const query = this.value.trim().toLowerCase();
            const elements = this.parentElement.querySelectorAll('.element-list .element-item');
            elements.forEach(el => {
              const text = el.textContent.trim().toLowerCase();
              if (query === '' || text.startsWith(query)) {
                el.classList.remove('hidden');
              } else {
                el.classList.add('hidden');
              }
            });
          ">
          <div class="element-list p-2 flex flex-col min-h-0 overflow-scroll" id="schema-fields">
            <!-- Will be populated dynamically -->
          </div>
        </wc-tab-item>
      </wc-tab>      
    </div>

    <!-- Center Panel - Designer Surface -->
    <div id="center-panel" class="flex flex-col flex-1 min-h-0 min-w-0">
      <wc-tab id="center-tab-control" class="flex flex-col flex-1 min-h-0 min-w-0 p-2" animate>
        <wc-tab-item class="active" label="Canvas">
          <div class="designer-surface flex flex-col flex-1 min-h-0 overflow-scroll" id="designer-surface"></div>
        </wc-tab-item>
        <wc-tab-item label="Schema">
          <div class="flex flex-col flex-1 min-h-0 overflow-scroll gap-2">
            <wc-code-mirror class="flex flex-col flex-1 min-h-0"
              _="install HandleCodeMirrorTabChange end"
              name="jsonSchema"
              line-numbers
              line-wrapper
              fold-gutter
              mode="javascript"
              theme="monokai"
              tab-size="2"
              indent-unit="2">
            </wc-code-mirror>
            <div class="flex flex-row justify-end gap-2 p-2">
              <button id="load-schema" class="btn btn-primary">Load Schema</button>
            </div>
          </div>
        </wc-tab-item>
        <wc-tab-item label="Layout JSON">
          <div class="flex flex-col flex-1 min-h-0 min-w-0 overflow-scroll">
            <wc-code-mirror class="flex flex-col flex-1 min-h-0 min-w-0 w-full max-w-full box-border"
              _="install HandleCodeMirrorTabChange end"
              name="jsonLayout"
              line-numbers
              line-wrapper
              fold-gutter
              mode="javascript"
              theme="monokai"
              tab-size="2"
              indent-unit="2"
              >
            </wc-code-mirror>
            <div class="flex flex-row justify-end gap-2 p-2">
              <button id="copy-design" class="btn btn-secondary">Copy to Clipboard</button>
              <button id="download-design" class="btn btn-primary">Download Design</button>
              <button id="load-design" class="btn btn-info">Apply Design</button>
            </div>
          </div>
        </wc-tab-item>
        <wc-tab-item label="Raw Preview">
          <iframe id="pre-rendered-preview" name="pre-rendered-preview" class="border-none flex flex-col flex-1 min-h-0 overflow-scroll">
          </iframe>
        </wc-tab-item>
        <wc-tab-item label="Preview">
          <iframe id="rendered-preview" name="rendered-preview" class="border-none flex flex-col flex-1 min-h-0 overflow-scroll">
          </iframe>
        </wc-tab-item>
      </wc-tab>
    </div>
    <!-- Right Panel - Properties -->
    <div class="right-panel flex flex-col min-h-0 overflow-scroll p-2">
      <wc-tab id="right-panel" class="flex flex-col flex-1 min-h-0" animate>
        <wc-tab-item class="active" label="Properties">
          <div class="flex flex-col flex-1 min-h-0 min-w-0 overflow-scroll gap-2 py-2 px-4">
            <div id="no-selection" class="col-1 text-center text-muted py-4">
              <p>Select an element to view and edit its properties</p>
            </div>
            <div id="element-properties" class="col-1 gap-2 hidden">
              <!-- Custom properties will be dynamically added here -->
              <div id="custom-properties-container" class="mt-3">
                <div id="custom-properties" class="col-1 gap-2"></div>
              </div>
              <div class="row">
                <button id="save-properties" class="col-1 btn btn-primary">Apply</button>
              </div>
            </div>
          </div>
        </wc-tab-item>
        <wc-tab-item class="" label="Rules">
          <div class="col-1 gap-2 py-2 px-4">
            <div id="rules-no-selection" class="text-center text-muted py-4">
              <p>Select an element to view and edit its rules</p>
            </div>
            <div id="element-rules" class="d-none">
              <div id="rules-list" class="flex flex-col gap-2">
                <!-- Rules will be added here -->
              </div>
              <div class="flex flex-row justify-end mt-2">
                <button id="add-rule" class="">Add Rule</button>
              </div>
            </div>
          </div>
        </wc-tab-item>
      </wc-tab>
    </div>
  </div>
  
  <template id="rule-template">
    <swal-title class="text-sm">
      Edit Rule
    </swal-title>
    <swal-html>
      <div class="flex flex-col flex-1 gap-2 text-sm">
        <div class="flex flex-row flex-1">
          <wc-select name="rule-effect" lbl-label="Effect" class="flex-1">
            <option value="COPY">Copy Value</option>
            <option value="COPY-TOLOWER">Copy to Lowercase</option>
            <option value="COPY-TOLOWER-UNDERSCORE">Copy to Lowercase with Underscores</option>
            <option value="SHOW">Show Element</option>
            <option value="HIDE">Hide Element</option>
            <option value="ENABLE">Enable Element</option>
            <option value="DISABLE">Disable Element</option>
            <option value="REQUIRE">Make Required</option>
            <option value="UN-REQUIRE">Make Optional</option>
          </wc-select>
        </div>
        <fieldset class="flex flex-col flex-1 p-2 gap-2">
          <legend>Condition</legend>
          <div class="flex flex-row flex-1">
            <wc-input name="rule-condition-scope" lbl-label="Scope" class="flex-1">
            </wc-input>
          </div>
          <div class="flex flex-row flex-1 gap-2">
            <wc-select name="rule-schema-type" lbl-label="Rule Type" class="flex-1">
              <option value="">Choose...</option>
              <option value="minLength">Min Length</option>
              <option value="maxLength">Max Length</option>
              <option value="pattern">Pattern</option>
              <option value="minimum">Minimum</option>
              <option value="maximum">Maximum</option>
              <option value="const">Constant</option>
              <option value="enum">Enum</option>
            </wc-select>
            <wc-input name="rule-schema-value" lbl-label="Value" class="flex-1">
            </wc-input>            
          </div>
          <div class="flex flex-row flex-1">
            <wc-input name="rule-src-data-id" lbl-label="Source Element ID" class="flex-1">
            </wc-input>
          </div>
          <div class="flex flex-row flex-1 gap-2">
            <wc-input name="rule-src-selector" lbl-label="Source Selector (optional)" class="flex-1">
            </wc-input>
            <wc-input name="rule-src-property" lbl-label="Source Property (optional)" class="flex-1">
            </wc-input>
          </div>
        </fieldset>
        <fieldset class="flex flex-col flex-1 p-2 gap-2">
          <legend>Target</legend>
          <div class="flex flex-row flex-1">
            <!--
            <wc-input name="rule-tgt-data-id" lbl-label="Target Element ID" class="flex-1">
            </wc-input>
            -->
            <wc-select name="rule-tgt-data-id" lbl-label="Target Element ID" class="flex-1">
            </wc-select>
          </div>
          <div class="flex flex-row flex-1 gap-2">
            <wc-input name="rule-tgt-selector" lbl-label="Target Selector (optional)" class="flex-1">
            </wc-input>
            <wc-input name="rule-tgt-property" lbl-label="Target Property (optional)" class="flex-1">
            </wc-input>
          </div>
        </fieldset>
      </div>
    </swal-html>
    <swal-button type="cancel">
      Cancel
    </swal-button>
    <swal-button type="confirm">
      Save Rule
    </swal-button>
    <swal-param name="allowEscapeKey" value="false" />
    <swal-param name="allowOutsideClick" value="false" />
  </template>
      
      `;this.innerHTML=e}_applyStyle(){this.loadStyle("wc-page-designer-style",`
        wc-page-designer {
          display: contents;
        }
        wc-page-designer .left-panel {
          width: 275px;
          border-right: 1px solid #dee2e6;
        }
        wc-page-designer .center-panel {
          flex: 1;
          background-color: #f8f9fa;
          position: relative;
        }
        wc-page-designer .right-panel {
          width: 300px;
          border-left: 1px solid #dee2e6;
        }
        wc-page-designer .element-list {
          margin-bottom: 20px;
        }
        wc-page-designer .element-item {
          padding: 8px 12px;
          margin-bottom: 5px;
          border: 1px solid var(--button-bg-color);
          border-radius: 4px;
          color: var(--button-color);
          cursor: move;
          user-select: none;
        }
        wc-page-designer .element-item:hover {
          background-color: var(--button-hover-bg-color);
        }
        wc-page-designer .designer-surface {
          padding: 20px;
          background-color: white;
        }
        /* Designer element styling */
        wc-page-designer .designer-element {
          padding: 10px;
          margin: 5px 0;
          border: 2px solid #dee2e6;
          border-radius: 4px;
          position: relative;
        }
        wc-page-designer .designer-element.selected {
          border: 2px solid var(--swatch-9);
        }
        wc-page-designer .designer-element-container {
          min-height: 50px;
          padding: 10px;
          border: 2px dashed #6c757d;
          margin: 8px 0;
          position: relative;
        }
        wc-page-designer .designer-element-container.drag-over {
          background-color: rgba(13, 110, 253, 0.1);
          border: 1px dashed #0d6efd;
        }
        wc-page-designer .designer-element-placeholder {
          height: 50px;
          margin: 8px 0;
          background-color: #f1f1f1;
          text-align: center;
          line-height: 50px;
          color: #6c757d;
        }
        wc-page-designer .container-drop-indicator {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: -1;
        }
        wc-page-designer .element-actions {
          position: absolute;
          top: 5px;
          right: 5px;
          display: flex;
          gap: 5px;
        }
        wc-page-designer .element-actions button {
          padding: 2px 5px;
          font-size: 12px;
        }
        wc-page-designer .element-type-header {
          font-size: 12px;
          font-weight: bold;
          color: #6c757d;
          margin-bottom: 5px;
          display: block;
        }
        wc-page-designer .element-label {
          font-weight: bold;
          color: var(--text-9);
        }
        wc-page-designer .preview-container {
          height: 100%;
          width: 100%;
          position: absolute;
          top: 0;
          left: 0;
          background-color: white;
          z-index: 1000;
          padding: 20px;
          overflow-y: auto;
        }
        wc-page-designer .preview-container.hidden {
          display: none;
        }
        wc-page-designer .invisible-placeholder {
          visibility: hidden;
          height: 0;
          padding: 0;
          margin: 0;
        }


        /* Floating toolbar styles */
        wc-page-designer .floating-element-toolbar {
          position: absolute;
          background: var(--surface-1, white);
          border: 1px solid var(--surface-4, #dee2e6);
          border-radius: 4px;
          display: flex;
          gap: 1px;
          padding: 2px;
          z-index: 9999;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
          opacity: 0;
          visibility: hidden;
          transition: opacity 0.2s ease, visibility 0.2s ease;
          pointer-events: none;
        }
        
        wc-page-designer .floating-element-toolbar.visible {
          opacity: 1;
          visibility: visible;
          pointer-events: auto;
        }
        
        wc-page-designer .floating-element-toolbar .toolbar-btn {
          width: 18px;
          height: 18px;
          border: none;
          border-radius: 2px;
          background: var(--button-bg-color, #f8f9fa);
          color: var(--button-color, #495057);
          font-size: 10px;
          font-weight: bold;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color 0.2s ease;
          line-height: 1;
        }
        
        wc-page-designer .floating-element-toolbar .toolbar-btn:hover {
          background: var(--button-hover-bg-color, #e9ecef);
        }
        
        wc-page-designer .floating-element-toolbar .toolbar-btn.delete-element {
          background: #dc3545;
          color: white;
        }
        
        wc-page-designer .floating-element-toolbar .toolbar-btn.delete-element:hover {
          background: #c82333;
        }
        
        wc-page-designer .floating-element-toolbar .toolbar-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        wc-page-designer .floating-element-toolbar .toolbar-btn.clone-element {
          background: #17a2b8;
          color: white;
        }

        wc-page-designer .floating-element-toolbar .toolbar-btn.clone-element:hover {
          background: #138496;
        }
        
        /* Dark mode support */
        wc-page-designer .dark .floating-element-toolbar {
          background: var(--surface-2);
          border-color: var(--surface-5);
        }
        
        wc-page-designer .dark .floating-element-toolbar .toolbar-btn {
          background: var(--surface-3);
          color: var(--text-1);
        }
        
        wc-page-designer .dark .floating-element-toolbar .toolbar-btn:hover {
          background: var(--surface-4);
        }




        wc-page-designer .dark .designer-surface {
          background-color: var(--surface-1);
        }
        wc-page-designer .dark .left-panel {
          border-right: 1px solid var(--surface-1);
        }
        wc-page-designer .dark .right-panel {
          border-left: 1px solid var(--surface-1);
        }
        wc-page-designer .dark .designer-element {
          border: 2px solid var(--surface-4);
        }
        wc-page-designer .dark .designer-element.selected {
          border: 2px solid var(--surface-6);
        }
        wc-page-designer .dark .designer-element-container {
          border: 2px dashed var(--surface-5);
        }
        wc-page-designer .dark .designer-element-container.drag-over {
          background-color: rgba(13, 110, 253, 0.1);
          background-color: color-mix(in oklch, var(--surface-2) 50%, transparent);
          border: 1px dashed var(--surface-5);
        }
        wc-page-designer .dark .designer-element-placeholder {
          background-color: var(--surface-3);
          color: var(--text-7);
        }          
        wc-page-designer .dark .element-type-header {
          color: var(--text-3);
        }
        wc-page-designer .dark .element-label {
          color: var(--text-5);
        }
        wc-page-designer .dark .preview-container {
          background-color: white;
        }
      `)}wireEvents(){}unWireEvents(){console.log("unWireEvents:wc-page-designer")}setup(){this.hasAttribute("data-wired")||(this.designerSurface=document.getElementById("designer-surface"),this.containerElements=document.getElementById("container-elements"),this.formElements=document.getElementById("form-elements"),this.schemaFields=document.getElementById("schema-fields"),this.previewButton=document.querySelector('button[data-label="Preview"]'),this.renderedPreviewButton=document.querySelector('button[data-label="Preview"]'),this.preRenderedPreviewButton=document.querySelector('button[data-label="Raw Preview"]'),this.generateJsonButton=document.querySelector('button[data-label="Layout JSON"]'),this.jsonOutput=document.querySelector('wc-code-mirror[name="jsonLayout"]'),this.propId=document.getElementById("prop-id"),this.propType=document.getElementById("prop-type"),this.propLabel=document.getElementById("prop-label"),this.propScope=document.getElementById("prop-scope"),this.propCss=document.getElementById("prop-css"),this.propRequired=document.getElementById("prop-required"),this.savePropertiesButton=document.getElementById("save-properties"),this.noSelectionPanel=document.getElementById("no-selection"),this.elementPropertiesPanel=document.getElementById("element-properties"),this.schemaJson=document.querySelector('wc-code-mirror[name="jsonSchema"]'),this.loadSchemaButton=document.getElementById("load-schema"),this.addRuleButton=document.getElementById("add-rule"),this.rulesList=document.getElementById("rules-list"),this.saveRuleButton=document.getElementById("save-rule"),this.loadDesignButton=document.getElementById("load-design"),this.copyDesignButton=document.getElementById("copy-design"),this.downloadDesignButton=document.getElementById("download-design"),this.init(),this.createFloatingToolbar(),this.setupFloatingToolbar(),this.setAttribute("data-wired",!0))}init(){this.initDragAndDrop(),this.initDropZone(this.designerSurface,null),new Sortable(this.designerSurface,{group:"elements",animation:150,onEnd:e=>{this.updateTopLevelElementsOrder()}}),this.initEventListeners()}updateTopLevelElementsOrder(){let e=[];this.designerSurface.querySelectorAll(":scope > .designer-element").forEach(n=>{let o=n.getAttribute("data-id"),s=this.findElementById(o);s&&e.push(s)}),this.designerState.elements=e}initDragAndDrop(){document.querySelectorAll(".element-item").forEach(t=>{t.addEventListener("dragstart",n=>{n.dataTransfer.setData("element-type",t.getAttribute("data-element-type")),n.dataTransfer.setData("schema-field",t.getAttribute("data-schema-field")||""),n.dataTransfer.effectAllowed="copy"})})}initDropZone(e,t=null){e.setAttribute("data-drop-zone","true"),e.addEventListener("dragover",n=>{n.preventDefault(),n.dataTransfer.dropEffect="copy",e.classList.add("drag-over")}),e.addEventListener("dragleave",n=>{e.classList.remove("drag-over")}),e.addEventListener("drop",n=>{n.preventDefault(),n.stopPropagation(),e.classList.remove("drag-over");let o=n.dataTransfer.getData("element-type"),s=n.dataTransfer.getData("schema-field");if(o){let l=this.generateUniqueId(),r={id:l,"data-id":l,type:o,elements:[]},a=this.elementCustomProperties[o];if(a&&a.length>0&&a.forEach(u=>{if(u.type==="boolean")r[u.name]=!1;else if(u.type==="number")r[u.name]=null;else if(u.name==="id")r[u.name]=l;else if(u.name==="type")r[u.name]=o;else if(u.name==="label"&&s){let m=s.split("/"),h=m[m.length-1];if(s.includes("$defs")){let g=m[2],y=m[m.length-1];g&&y&&(h=g+"."+y)}r[u.name]=h}else u.name==="scope"&&s?r[u.name]=s:u.defaultValue!==void 0?r[u.name]=u.defaultValue:r[u.name]=""}),t){let u=this.findElementById(t);u&&(u.elements||(u.elements=[]),u.elements.push(r))}else this.designerState.elements.push(r);let d=e.querySelector(".designer-element-placeholder");if(d&&d.parentNode===e)try{e.removeChild(d)}catch(u){console.log("Could not remove placeholder:",u)}let p=this.createElementNode(r);e.appendChild(p),e.classList.contains("designer-element-container")&&setTimeout(()=>{if(!e.querySelector(".designer-element-placeholder")){let u=document.createElement("div");u.className="designer-element-placeholder",u.textContent="Drop more elements here",e.appendChild(u)}},100),this.isContainerElement(o)&&document.querySelectorAll(".designer-element-container:not([data-drop-zone])").forEach(m=>{let h=m.getAttribute("data-container-for");h&&this.initDropZone(m,h)})}}),e.addEventListener("drop2",n=>{n.preventDefault(),n.stopPropagation(),e.classList.remove("drag-over");let o=n.dataTransfer.getData("element-type"),s=n.dataTransfer.getData("schema-field");if(o){let l="",r="";if(s){l=s;let h=s.split("/");if(h.length>0&&(r=h[h.length-1],s.includes("$defs"))){let g=h[2],y=h[h.length-1];g&&y&&(r=g+"."+y)}}else r=this.getDefaultLabel(o);let a=this.generateUniqueId(),d={id:a,"data-id":a,type:o,label:r,scope:l,css:"",required:!1,rules:[],elements:[]},p=this.elementCustomProperties[o];if(p&&p.length>0&&p.forEach(h=>{h.type==="boolean"?d[h.name]=!1:h.type==="number"?d[h.name]=null:h.name==="id"?d[h.name]=a:h.name==="type"?d[h.name]=o:h.name==="label"?d[h.name]=r:h.name==="scope"?d[h.name]=l:h.defaultValue?d[h.name]=h.defaultValue:d[h.name]=""}),t){let h=this.findElementById(t);h&&(h.elements||(h.elements=[]),h.elements.push(d))}else this.designerState.elements.push(d);let u=e.querySelector(".designer-element-placeholder");if(u&&u.parentNode===e)try{e.removeChild(u)}catch(h){console.log("Could not remove placeholder:",h)}let m=this.createElementNode(d);e.appendChild(m),e.classList.contains("designer-element-container")&&setTimeout(()=>{if(!e.querySelector(".designer-element-placeholder")){let h=document.createElement("div");h.className="designer-element-placeholder",h.textContent="Drop more elements here",e.appendChild(h)}},100),this.isContainerElement(o)&&document.querySelectorAll(".designer-element-container:not([data-drop-zone])").forEach(g=>{let y=g.getAttribute("data-container-for");y&&this.initDropZone(g,y)})}})}initEventListeners(){this.renderedPreviewButton.addEventListener("click",this.renderPreview.bind(this)),this.preRenderedPreviewButton.addEventListener("click",this.preRenderPreview.bind(this)),this.generateJsonButton.addEventListener("click",this.generateJson.bind(this)),this.savePropertiesButton.addEventListener("click",this.saveProperties.bind(this)),this.loadSchemaButton.addEventListener("click",()=>{try{let e=JSON.parse(this.schemaJson.editor.getValue());this.loadSchema(e)}catch{alert("Invalid JSON schema")}}),this.schemaJson.addEventListener("fetch-complete",e=>{try{let t=JSON.parse(this.schemaJson.editor.getValue());this.loadSchema(t),console.log("wc-page-designer:schemaJson - fetch-complete")}catch{alert("Invalid JSON schema")}}),this.addRuleButton.addEventListener("click",()=>{this.designerState.editingRuleIndex=-1;let e={focusConfirm:!1,template:"template#rule-template",didOpen:()=>{let t=document.querySelector(".swal2-container");if(t){if(this.designerState.selectedElement){let n=document.getElementById("rule-src-data-id");n.value=this.designerState.selectedElement.id;let o=JSON.parse(this.jsonOutput.editor.getValue()),s=WaveHelpers.extractSrcElements(o),l=document.getElementById("rule-tgt-data-id");l.innerHTML="";let r=document.createElement("option");r.value="",r.textContent="Choose...",l.appendChild(r),s.forEach(a=>{r=document.createElement("option"),r.value=a.dataId,r.textContent=a.label,l.appendChild(r)})}htmx.process(t),_hyperscript.processNode(t)}},preConfirm:()=>{let t=document.getElementById("rule-effect").value,n=document.getElementById("rule-condition-scope").value,o=document.getElementById("rule-schema-type").value,s=document.getElementById("rule-schema-value").value,l=document.getElementById("rule-src-data-id").value,r=document.getElementById("rule-src-selector").value||"",a=document.getElementById("rule-src-property").value||"",d=document.getElementById("rule-tgt-data-id").value,p=document.getElementById("rule-tgt-selector").value||"",u=document.getElementById("rule-tgt-property").value||"",m={effect:t,condition:{scope:n,schema:{[o]:s},srcDataId:l,srcSelector:r,srcProperty:a},tgtDataId:d,tgtSelector:p,tgtProperty:u};if(o&&s)switch(o){case"minLength":case"maxLength":case"minimum":case"maximum":m.condition.schema[o]=parseInt(s);break;case"pattern":m.condition.schema[o]=s;break;case"const":m.condition.schema[o]=s;break;case"enum":m.condition.schema[o]=s.split(",").map(h=>h.trim());break}return m},callback:t=>{console.log("rule-template - result:",t),this.saveRule(t)}};wc.Prompt.notifyTemplate(e)}),this.jsonOutput.addEventListener("wc-code-mirror:ready",()=>{this.jsonOutput.editor.on("change2",async()=>{try{let e=this.jsonOutput.editor.getValue().trim(),t=JSON.parse(e);this.loadDesign(t)}catch(e){alert("Invalid JSON format: "+e.message)}})}),this.jsonOutput.addEventListener("fetch-complete",e=>{let t=this.jsonOutput.editor.getValue().trim(),n=JSON.parse(t);this.loadDesign(n)}),this.loadDesignButton.addEventListener("click",()=>{try{let e=this.jsonOutput.editor.getValue().trim();if(!e){alert("Please paste a valid JSON layout");return}let t=JSON.parse(e);this.loadDesign(t),wc.Prompt.toast({title:"Load Succeeded!"})}catch(e){alert("Invalid JSON format: "+e.message)}}),this.copyDesignButton.addEventListener("click",this.copyDesign.bind(this)),this.downloadDesignButton.addEventListener("click",()=>{let e=this.jsonOutput.editor.getValue(),n="layout-ui-design.json",o=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(o),l=document.createElement("a");l.href=s,l.download=n,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)})}createElementObject({type:e,label:t="",scope:n="",parentElement:o=null,css:s="",id:l=null}){let r=l||this.generateUniqueId(),a={id:r,"data-id":r,type:e,elements:[]},d=this.elementCustomProperties[e];if(d&&d.length>0&&d.forEach(p=>{p.type==="boolean"?a[p.name]=!1:p.type==="number"?a[p.name]=null:p.defaultValue!==void 0?a[p.name]=p.defaultValue:a[p.name]=""}),o){let p=this.findElementById(o);return p&&p.elements.push(a),a}else return this.designerState.elements.push(a),a}addElementToDesigner(e,t){let n=this.createElementNode(e);t.appendChild(n)}createElementNode(e){let t=document.createElement("div");t.className="designer-element",t.setAttribute("data-id",e.id),t.setAttribute("data-type",e.type);let n=document.createElement("span");n.className="element-type-header",n.textContent=e.type,t.appendChild(n);let o=document.createElement("span");o.className="element-label",t.appendChild(o);let s=document.createElement("small");s.className="ms-2 text-muted";let l=this.elementCustomProperties[e.type];if(l&&l.length>0){let r=!1,a="";l.forEach(d=>{if(d.isLabel&&e[d.name])o.textContent=e[d.name],r=!0;else if(d.isSubLabel){let p=e[d.name];p&&p.trim()!==""&&(a=`(${p})`)}}),r||(o.textContent=e.type),a&&(s.textContent=a,o.appendChild(s))}else o.textContent=e.type;if(this.isContainerElement(e.type)){let r=document.createElement("div");if(r.className="designer-element-container",r.setAttribute("data-container-for",e.id),!e.elements||e.elements.length===0){let a=document.createElement("div");a.className="designer-element-placeholder",a.textContent="Drop elements here",r.appendChild(a)}else e.elements.forEach(a=>{let d=this.createElementNode(a);r.appendChild(d)});this.initDropZone(r,e.id),new Sortable(r,{group:"elements",animation:150,onEnd:a=>{this.updateElementsOrder(r,e.id)}}),t.appendChild(r)}return t}updateElementsOrder(e,t){let n=this.findElementById(t);if(!n)return;let o=[];e.querySelectorAll(":scope > .designer-element").forEach(l=>{let r=l.getAttribute("data-id"),a=this.findElementById(r);a&&o.push(a)}),n.elements=o}selectElement(e){document.querySelectorAll(".designer-element.selected").forEach(s=>s.classList.remove("selected"));let n=this.findElementById(e);if(!n)return;this.designerState.selectedElement=n;let o=document.querySelector(`.designer-element[data-id="${e}"]`);o&&o.classList.add("selected"),this.updateProperties(n),this.updateRulesPanel(n),this.noSelectionPanel.classList.add("hidden"),this.elementPropertiesPanel.classList.remove("hidden"),document.getElementById("rules-no-selection").classList.add("hidden"),document.getElementById("element-rules").classList.remove("hidden")}updateProperties(e){let t=document.getElementById("custom-properties");t.innerHTML="",document.getElementById("custom-properties-container").style.display="block";let n=this.elementCustomProperties[e.type];if(n&&n.length>0)n.forEach(o=>{let s=e[o.name]!==void 0?e[o.name]:o.type==="boolean"?!1:o.type==="number"?null:o.defaultValue||"",l=this.createCustomPropertyInput(o,s);t.appendChild(l)});else{let o=document.createElement("p");o.className="text-muted text-center",o.textContent="No custom properties defined for this element type",t.appendChild(o)}}updateRulesPanel(e){if(this.rulesList.innerHTML="",!e.rules||e.rules.length===0){let t=document.createElement("p");t.className="text-muted text-center",t.textContent="No rules defined",this.rulesList.appendChild(t);return}e.rules.forEach((t,n)=>{let o=document.createElement("div");o.className="rule-item flex flex-col rounded border-1 border-solid gap-2 p-2";let s=document.createElement("div");s.className="flex flex-col gap-2";let l=document.createElement("h6");l.textContent=`Rule: ${t.effect}`,s.appendChild(l);let r=document.createElement("div");r.className="flex flex-row justify-between align-center";let a=document.createElement("button");a.className="theme-azure dark",a.textContent="Edit",a.addEventListener("click",()=>this.editRule(n)),r.appendChild(a);let d=document.createElement("button");d.className="theme-fire dark",d.textContent="Delete",d.addEventListener("click",async()=>this.deleteRule(n)),r.appendChild(d),s.appendChild(r),o.appendChild(s);let p=document.createElement("div");p.className="text-sm";let u=document.createElement("div");u.textContent=`When ${t.condition.scope} ${this.getSchemaDescription(t.condition.schema)}`,p.appendChild(u);let m=document.createElement("div");m.textContent=`${t.effect} on ${t.tgtDataId}`,p.appendChild(m),o.appendChild(p),this.rulesList.appendChild(o)})}getSchemaDescription(e){if(!e)return"";let t=[];return e.const!==void 0&&t.push(`equals "${e.const}"`),e.enum&&t.push(`is one of [${e.enum.join(", ")}]`),e.minimum!==void 0&&t.push(`>= ${e.minimum}`),e.maximum!==void 0&&t.push(`<= ${e.maximum}`),e.minLength!==void 0&&t.push(`length >= ${e.minLength}`),e.maxLength!==void 0&&t.push(`length <= ${e.maxLength}`),e.pattern&&t.push(`matches "${e.pattern}"`),t.join(" AND ")}editRule(e){if(!this.designerState.selectedElement||!this.designerState.selectedElement.rules)return;let t=this.designerState.selectedElement.rules[e];if(!t)return;this.designerState.editingRuleIndex=e;let n={focusConfirm:!1,template:"template#rule-template",didOpen:()=>{let o=document.querySelector(".swal2-container");if(o){if(document.getElementById("rule-effect").value=t.effect,document.getElementById("rule-condition-scope").value=t.condition.scope||"",t.condition.schema){let s=t.condition.schema,l="",r="";s.minLength!==void 0?(l="minLength",r=s.minLength):s.maxLength!==void 0?(l="maxLength",r=s.maxLength):s.pattern!==void 0?(l="pattern",r=s.pattern):s.minimum!==void 0?(l="minimum",r=s.minimum):s.maximum!==void 0?(l="maximum",r=s.maximum):s.const!==void 0?(l="const",r=s.const):s.enum!==void 0&&(l="enum",r=s.enum.join(",")),document.getElementById("rule-schema-type").value=l,document.getElementById("rule-schema-value").value=r}document.getElementById("rule-src-data-id").value=t.condition.srcDataId||"",document.getElementById("rule-src-selector").value=t.condition.srcSelector||"",document.getElementById("rule-src-property").value=t.condition.srcProperty||"",document.getElementById("rule-tgt-data-id").value=t.tgtDataId||"",document.getElementById("rule-tgt-selector").value=t.tgtSelector||"",document.getElementById("rule-tgt-property").value=t.tgtProperty||"",htmx.process(o),_hyperscript.processNode(o)}},preConfirm:()=>{let o=document.getElementById("rule-effect").value,s=document.getElementById("rule-condition-scope").value,l=document.getElementById("rule-schema-type").value,r=document.getElementById("rule-schema-value").value,a=document.getElementById("rule-src-data-id").value,d=document.getElementById("rule-src-selector").value||"",p=document.getElementById("rule-src-property").value||"",u=document.getElementById("rule-tgt-data-id").value,m=document.getElementById("rule-tgt-selector").value||"",h=document.getElementById("rule-tgt-property").value||"",g={effect:o,condition:{scope:s,schema:{[l]:r},srcDataId:a,srcSelector:d,srcProperty:p},tgtDataId:u,tgtSelector:m,tgtProperty:h};if(l&&r)switch(l){case"minLength":case"maxLength":case"minimum":case"maximum":g.condition.schema[l]=parseInt(r);break;case"pattern":g.condition.schema[l]=r;break;case"const":g.condition.schema[l]=r;break;case"enum":g.condition.schema[l]=r.split(",").map(y=>y.trim());break}return g},callback:o=>{console.log("rule-template - result:",o),this.saveRule(o)}};wc.Prompt.notifyTemplate(n)}async deleteRule(e){if(!this.designerState.selectedElement||!this.designerState.selectedElement.rules)return;await wc.Prompt.question({title:"Confirm Delete",text:"Are you are you want to delete this rule?",showCancelButton:!0})&&(this.designerState.selectedElement.rules.splice(e,1),this.updateRulesPanel(this.designerState.selectedElement))}saveRule(e){this.designerState.selectedElement&&(this.designerState.editingRuleIndex>=0?this.designerState.selectedElement.rules[this.designerState.editingRuleIndex]=e:(this.designerState.selectedElement.rules||(this.designerState.selectedElement.rules=[]),this.designerState.selectedElement.rules.push(e)),this.updateRulesPanel(this.designerState.selectedElement))}clearRuleForm(){document.getElementById("rule-effect").value="SHOW",document.getElementById("rule-condition-scope").value="",document.getElementById("rule-schema-type").value="minLength",document.getElementById("rule-schema-value").value="",document.getElementById("rule-src-data-id").value="",document.getElementById("rule-src-selector").value="input",document.getElementById("rule-src-property").value="value",document.getElementById("rule-tgt-data-id").value="",document.getElementById("rule-tgt-selector").value="",document.getElementById("rule-tgt-property").value="value"}saveProperties(){if(!this.designerState.selectedElement)return;let e=this.elementCustomProperties[this.designerState.selectedElement.type];e&&e.length>0&&e.forEach(t=>{if(t.isReadonly)return;let n,o=document.querySelector(`input[type="radio"][name="prop-custom-${t.name}"]:checked`);if(o)n=o.value,this.designerState.selectedElement[t.name]=n;else{let s=document.getElementById(`prop-custom-${t.name}`);s&&(t.type==="boolean"?n=s.checked:t.type==="number"?n=s.value!==""?Number(s.value):null:n=s.value,this.designerState.selectedElement[t.name]=n)}}),this.generateJson(),this.refreshDesigner(),wc.Prompt.toast({title:"Properties Updated!"})}refreshDesigner(){let e=this.designerState.selectedElement?this.designerState.selectedElement.id:null,t=this.toolbarVisible,n=this.currentHoveredElementData?this.currentHoveredElementData.id:null;this.hideToolbar(),this.designerSurface.innerHTML="",this.floatingToolbar=null,this.createFloatingToolbar(),this.designerState.elements.forEach(o=>{this.addElementToDesigner(o,this.designerSurface)}),e&&this.selectElement(e),t&&n&&setTimeout(()=>{let o=document.querySelector(`.designer-element[data-id="${n}"]`);o&&this.showToolbarForElement(o)},100)}removeElement(e){if(!confirm("Are you sure you want to delete this element?")||!this.findElementById(e))return;let n=this.findParentElement(e);n?n.elements=n.elements.filter(o=>o.id!==e):this.designerState.elements=this.designerState.elements.filter(o=>o.id!==e),this.designerState.selectedElement&&this.designerState.selectedElement.id===e&&(this.designerState.selectedElement=null,this.noSelectionPanel.classList.remove("hidden"),this.elementPropertiesPanel.classList.add("hidden"),document.getElementById("rules-no-selection").classList.remove("hidden"),document.getElementById("element-rules").classList.add("hidden")),this.refreshDesigner()}findElementById(e){let t=this.designerState.elements.find(o=>o.id===e);if(t)return t;let n=o=>{if(!o)return null;for(let s of o){if(s.id===e)return s;if(s.elements&&s.elements.length>0){let l=n(s.elements);if(l)return l}}return null};return n(this.designerState.elements)}findParentElement(e){let t=n=>{if(!n)return null;for(let o of n){if(o.elements&&o.elements.some(s=>s.id===e))return o;if(o.elements&&o.elements.length>0){let s=t(o.elements);if(s)return s}}return null};return t(this.designerState.elements)}loadSchema(e){this.designerState.schema=e,this.schemaFields.innerHTML="",e.properties&&Object.entries(e.properties).forEach(([t,n])=>{this.addSchemaField(`#/properties/${t}`,n,e.required)}),e.$defs&&Object.entries(e.$defs).forEach(([t,n])=>{n.properties&&Object.entries(n.properties).forEach(([o,s])=>{this.addSchemaField(`#/$defs/${t}/${o}`,s,n.required)})})}addSchemaField(e,t,n){let o=document.createElement("div");o.className="element-item",o.setAttribute("draggable","true"),o.setAttribute("data-schema-field",e);let s="wc-input";t.type==="boolean"?s="wc-input-checkbox":t.type==="array"&&(s="array"),o.setAttribute("data-element-type",s);let l=e.split("/").pop(),r=l;if(e.includes("$defs")){let d=e.split("/");d.length>=3&&(r=d[2]+"."+l)}if(o.textContent=r,n&&n.includes(l)){let d=document.createElement("span");d.className="ms-1 text-danger",d.textContent="*",o.appendChild(d)}let a=document.createElement("span");a.className="ms-2 text-muted small",a.textContent=`(${t.type})`,o.appendChild(a),o.addEventListener("dragstart",d=>{d.dataTransfer.setData("element-type",s),d.dataTransfer.setData("schema-field",e),d.dataTransfer.effectAllowed="copy"}),this.schemaFields.appendChild(o)}renderPreview(){this.generateJson(),document.getElementById("rendered-preview").addEventListener("load",()=>{WaveHelpers.toggleIndicator("#content-loader",!1)},{once:!0}),WaveHelpers.toggleIndicator("#content-loader",!0);let t=document.createElement("form"),n=document.querySelector('input[name="_id"]').value;t.method="GET",t.action=`/view/${n}`,t.target="rendered-preview",document.body.appendChild(t),t.submit(),t.remove()}preRenderPreview(){this.generateJson(),document.getElementById("pre-rendered-preview").addEventListener("load",()=>{WaveHelpers.toggleIndicator("#content-loader",!1)},{once:!0}),WaveHelpers.toggleIndicator("#content-loader",!0);let t=document.createElement("form"),n=document.querySelector('input[name="_id"]').value;t.method="GET",t.action=`/view/pre/${n}`,t.target="pre-rendered-preview",document.body.appendChild(t),t.submit(),t.remove()}generateJson(){let e={elements:this.designerState.elements},t=JSON.parse(JSON.stringify(e)),n=o=>{o&&o.forEach(s=>{delete s.id,s.elements&&n(s.elements)})};return n(t.elements),this.jsonOutput.editor.setValue(JSON.stringify(t.elements,null,2)),t.elements}copyDesign(){let e=this.jsonOutput.editor.getValue();navigator.clipboard.writeText(e).then(()=>{let t=this.copyDesignButton.textContent;this.copyDesignButton.textContent="Copied!",setTimeout(()=>{this.copyDesignButton.textContent=t},2e3)}).catch(t=>{console.error("Failed to copy: ",t),alert("Failed to copy JSON to clipboard")})}isContainerElement(e){return["div","column","row","data-array","data-item","fieldset","option","wc-accordion","wc-breadcrumb","wc-form","wc-input-radio","wc-select","wc-select-multiple","wc-sidebar","wc-sidenav","wc-slideshow","wc-split-button","wc-timeline","wc-tab","wc-tab-item","wc-tabulator"].includes(e)}generateUniqueId(){return uuid.v4().substring(0,12)}getDefaultLabel(e){switch(e){case"wc-tab":return"Tab Container";case"wc-tab-item":return"Tab Item";case"column":return"Column";case"row":return"Row";case"fieldset":return"Group";case"array":return"Array";case"wc-card":return"Card";case"wc-input":return"Input Field";case"wc-input-checkbox":return"Checkbox";case"hr":return"";default:return e}}createCustomPropertyInput(e,t){let n=document.createElement("div");n.className="row mb-2";let o,s=`prop-custom-${e.name}`;if(e.type==="boolean")o=new(customElements.get("wc-input")),o.setAttribute("name",s),o.setAttribute("lbl-label",e.label),o.setAttribute("class","col"),o.setAttribute("type","checkbox"),o.setAttribute("toggle-switch",""),t===!0&&(o.setAttribute("checked",""),setTimeout(()=>{o.checked=!0},10)),e.isReadonly&&o.setAttribute("disabled","");else if(e.type==="number")o=new(customElements.get("wc-input")),o.setAttribute("name",s),o.setAttribute("lbl-label",e.label),o.setAttribute("class","col-1"),o.setAttribute("type","number"),o.setAttribute("value",t!==void 0?t:0),e.isReadonly&&o.setAttribute("readonly","");else if(e.type==="multiline-string")o=new(customElements.get("wc-textarea")),o.setAttribute("name",s),o.setAttribute("lbl-label",e.label),o.setAttribute("class","col-1"),o.setAttribute("value",t!==void 0?t:""),e.isReadonly&&o.setAttribute("readonly","");else if(e.type==="string-datalist"){o=new(customElements.get("wc-input")),o.setAttribute("name",s),o.setAttribute("lbl-label",e.label),o.setAttribute("class","col-1"),o.setAttribute("value",t!==void 0?t:""),o.setAttribute("list",`${s}_list`),e.isReadonly&&o.setAttribute("readonly","");let l=document.createElement("datalist");l.id=`${s}_list`,e.enum.forEach(r=>{let a=document.createElement("option");a.value=r,a.textContent=r,l.appendChild(a)}),n.appendChild(l)}else if(e.type==="string-enum"){o=new(customElements.get("wc-select")),o.setAttribute("name",s),o.setAttribute("lbl-label",e.label),o.setAttribute("class","col-1"),o.setAttribute("value",t!==void 0?t:"");let l=e.enum.map(r=>`{"key": "${r}", "value": "${r}"}`);o.setAttribute("items",`[${l}]`),e.isReadonly&&o.setAttribute("disabled","")}else if(e.type==="string-radio-modern"){o=new(customElements.get("wc-input")),o.setAttribute("name",s),o.setAttribute("lbl-label",e.label),o.setAttribute("type","radio"),o.setAttribute("class","col-1"),o.setAttribute("radio-group-class","row modern"),o.setAttribute("value",t!==void 0?t:"");let l=e.enum.map(r=>`{"key": "${r}", "value": "${r}"}`);o.setAttribute("options",`[${l}]`),e.isReadonly&&o.setAttribute("disabled","")}else if(e.type==="string-radio"){o=new(customElements.get("wc-input")),o.setAttribute("name",s),o.setAttribute("lbl-label",e.label),o.setAttribute("type","radio"),o.setAttribute("class","col-1"),o.setAttribute("radio-group-class","row"),o.setAttribute("value",t!==void 0?t:"");let l=e.enum.map(r=>`{"key": "${r}", "value": "${r}"}`);o.setAttribute("options",`[${l}]`),e.isReadonly&&o.setAttribute("disabled","")}else o=new(customElements.get("wc-input")),o.setAttribute("name",s),o.setAttribute("lbl-label",e.label),o.setAttribute("class","col-1"),o.setAttribute("value",t!==void 0?t:""),e.isReadonly&&o.setAttribute("readonly","");return o.dataset.propertyName=e.name,o.dataset.propertyType=e.type,o.dataset.isReadonly=e.isReadonly?"true":"false",n.appendChild(o),n}saveDesignToLocalStorage(){let e="layout-ui-design",t=this.jsonOutput.editor.getValue();try{let n=JSON.parse(localStorage.getItem("savedDesigns")||"{}");n[e]=t,localStorage.setItem("savedDesigns",JSON.stringify(n)),alert(`Design "${e}" saved successfully`)}catch(n){console.error("Error saving design to localStorage:",n),alert("Failed to save design to localStorage")}}loadDesign(e){try{let t=Array.isArray(e)?e:e.elements?e.elements:null;if(!t)throw new Error("Invalid layout structure. Expected an array or an object with an elements property.");this.designerState.elements=[];let n=o=>{o&&o.forEach(s=>{s["data-id"]?s.id=s["data-id"]:s.id=generateUniqueId(),s.elements&&n(s.elements)})};return n(t),this.designerState.elements=t,this.refreshDesigner(),!0}catch(t){return console.error("Error loading design:",t),alert("Failed to load design: "+t.message),!1}}createFloatingToolbar(){this.floatingToolbar&&(this.floatingToolbar.remove(),this.floatingToolbar=null);let e=document.createElement("div");e.className="floating-element-toolbar",e.innerHTML=`
        <button class="toolbar-btn move-up" title="Move Up">\u2191</button>
        <button class="toolbar-btn move-down" title="Move Down">\u2193</button>
        <button class="toolbar-btn move-out" title="Move Out">\u2190</button>
        <button class="toolbar-btn clone-element" title="Clone">\u29C9</button>
        <button class="toolbar-btn delete-element" title="Delete">\xD7</button>
      `,e.querySelector(".move-up").addEventListener("click",t=>{t.stopPropagation(),this.moveElementUp()}),e.querySelector(".move-down").addEventListener("click",t=>{t.stopPropagation(),this.moveElementDown()}),e.querySelector(".move-out").addEventListener("click",t=>{t.stopPropagation(),this.moveElementOut()}),e.querySelector(".clone-element").addEventListener("click",t=>{t.stopPropagation(),this.cloneCurrentElement()}),e.querySelector(".delete-element").addEventListener("click",t=>{t.stopPropagation(),this.deleteCurrentElement()}),this.designerSurface.appendChild(e),this.floatingToolbar=e}setupFloatingToolbar(){this.designerSurface.addEventListener("click",e=>{let t=e.target.closest(".designer-element");if(t){if(e.stopPropagation(),this.currentHoveredElement===t&&this.toolbarVisible){this.hideToolbar();return}this.showToolbarForElement(t);let n=t.getAttribute("data-id");this.selectElement(n)}}),document.addEventListener("click",e=>{!this.floatingToolbar?.contains(e.target)&&!e.target.closest(".designer-element")&&!e.target.closest(".designer-surface")&&this.hideToolbar()})}showToolbarForElement(e){let t=e.getAttribute("data-id"),n=this.findElementById(t);n&&(this.currentHoveredElement=e,this.currentHoveredElementData=n,this.updateToolbarButtonStates(n),this.positionToolbarOnElement(e),this.floatingToolbar.classList.add("visible"),this.toolbarVisible=!0)}hideToolbar(){this.floatingToolbar&&(this.floatingToolbar.classList.remove("visible"),this.toolbarVisible=!1,this.currentHoveredElement=null,this.currentHoveredElementData=null)}positionToolbarOnElement(e){if(!this.floatingToolbar||!e)return;let t=e.getBoundingClientRect(),n=this.designerSurface.getBoundingClientRect(),o=t.right-n.left-207,s=t.top-n.top+5;this.floatingToolbar.style.left=`${o}px`,this.floatingToolbar.style.top=`${s}px`}updateToolbarButtonStates(e){if(!this.floatingToolbar||!e)return;let t=this.floatingToolbar.querySelector(".move-up"),n=this.floatingToolbar.querySelector(".move-down"),o=this.floatingToolbar.querySelector(".move-out"),s=this.canMoveElementUp(e);t.disabled=!s;let l=this.canMoveElementDown(e);n.disabled=!l;let r=this.canMoveElementOut(e);o.disabled=!r}canMoveElementUp(e){let t=this.findParentElement(e.id);return(t?t.elements:this.designerState.elements).findIndex(s=>s.id===e.id)>0}canMoveElementDown(e){let t=this.findParentElement(e.id),n=t?t.elements:this.designerState.elements;return n.findIndex(s=>s.id===e.id)<n.length-1}canMoveElementOut(e){return this.findParentElement(e.id)!==null}moveElementUp(){if(!this.currentHoveredElementData)return;let e=this.currentHoveredElementData,t=this.findParentElement(e.id),n=t?t.elements:this.designerState.elements,o=n.findIndex(s=>s.id===e.id);o>0&&([n[o-1],n[o]]=[n[o],n[o-1]],this.refreshDesigner(),this.hideToolbar())}moveElementDown(){if(!this.currentHoveredElementData)return;let e=this.currentHoveredElementData,t=this.findParentElement(e.id),n=t?t.elements:this.designerState.elements,o=n.findIndex(s=>s.id===e.id);o<n.length-1&&([n[o],n[o+1]]=[n[o+1],n[o]],this.refreshDesigner(),this.hideToolbar())}moveElementOut(){if(!this.currentHoveredElementData)return;let e=this.currentHoveredElementData,t=this.findParentElement(e.id);if(!t)return;let n=this.findParentElement(t.id),o=n?n.elements:this.designerState.elements,s=o.findIndex(l=>l.id===t.id);t.elements=t.elements.filter(l=>l.id!==e.id),o.splice(s+1,0,e),this.refreshDesigner(),this.hideToolbar()}cloneCurrentElement(){if(!this.currentHoveredElementData)return;let e=this.currentHoveredElementData,t=this.deepCloneElement(e),n=this.findParentElement(e.id),o=n?n.elements:this.designerState.elements,s=o.findIndex(l=>l.id===e.id);o.splice(s+1,0,t),this.refreshDesigner(),this.hideToolbar(),setTimeout(()=>{this.selectElement(t.id)},100)}deepCloneElement(e){let t=JSON.parse(JSON.stringify(e));return this.regenerateIds(t),t}regenerateIds(e){let t=this.generateUniqueId();e.id=t,e["data-id"]=t,e.elements&&e.elements.length>0&&e.elements.forEach(n=>{this.regenerateIds(n)})}deleteCurrentElement(){this.currentHoveredElementData&&(this.removeElement(this.currentHoveredElementData.id),this.hideToolbar())}}customElements.define("wc-page-designer",c)}if(!customElements.get("wc-save-button")){class c extends b{static get observedAttributes(){return[]}constructor(){super(),this._items=[];let e=this.querySelector(".wc-save-button");if(e)this.componentElement=e;else{let t=this.getAttribute("id")||"",n=this.getAttribute("save-url")||"",o=this.getAttribute("label")||"Save";this.componentElement=document.createElement("button"),this.componentElement.id=t,this.removeAttribute("id"),this.componentElement.textContent=o,this.componentElement.classList.add("wc-save-button"),this.componentElement.setAttribute("hx-target","#viewport"),this.componentElement.setAttribute("hx-swap","innerHTML transition:true"),this.componentElement.setAttribute("hx-indicator","#content-loader"),this.componentElement.setAttribute("hx-post",n),this.removeAttribute("save-url"),this.componentElement.setAttribute("hx-push-url","true"),this.appendChild(this.componentElement)}console.log("ctor:wc-save-button")}async connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-save-button")}disconnectedCallback(){this._unWireEvents()}_handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_applyStyle(){let e=`
        wc-save-button {
          display: contents;
        }
        .wc-save-button {
        }
        .wc-save-button:hover  {
        }
      `.trim();this.loadStyle("wc-save-button-style",e)}_wireEvents(){super._wireEvents()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-save-button",c)}if(!customElements.get("wc-save-split-button")){class c extends b{static get observedAttributes(){return[]}constructor(){super(),this._items=[];let e=this.querySelector(".wc-save-split-button");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-save-split-button"),this.componentElement.setAttribute("hx-target","#viewport"),this.componentElement.setAttribute("hx-swap","innerHTML transition:true"),this.componentElement.setAttribute("hx-indicator","#content-loader"),this.componentElement.setAttribute("hx-push-url","true"),this.componentElement.setAttribute("hx-boost","true"),this.appendChild(this.componentElement),this._createElement()),console.log("ctor:wc-save-split-button")}async connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-save-split-button")}disconnectedCallback(){this._unWireEvents()}_createElement(){let e=this.getAttribute("id")||"",t=this.getAttribute("method")||"post",n=this.getAttribute("save-url")||"",o=this.getAttribute("save-new-url")||"",s=this.getAttribute("save-return-url")||"",l=this.getAttribute("position-area")||"bottom span-left",r=this.getAttribute("position-try-fallbacks")||"--bottom-right, --bottom-left, --top-right, --top-left, --right, --left",a=this.getAttribute("before-send")||"";a&&(a=`hx-on::before-send="${a}"`);let d=`
        <button type="button" class="save-btn btn"
          hx-${t}="${n}" ${a||""}
          data-url="${n}">Save</button>
        <div class="dropdown">
          <div class="dropdown-content text-sm">
            <a class="save-new-btn btn w-full"
              hx-${t}="${n}" ${a||""}
              data-url="${o}">
              Save and Add New
            </a>
            <a class="save-return-btn btn w-full"
              hx-${t}="${n}" ${a||""}
              data-url="${s}">
              Save and Return
            </a>
          </div>
          <button type="button" class="btn" style="border-left:1px solid var(--component-border-color);">
            <svg class="h-3 w-3 pointer-events-none"
              xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
              stroke="currentColor" fill="currentColor">
              <path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/>
            </svg>
          </button>
        </div>
      `.trim();this.componentElement.innerHTML=d;let p=this.querySelector(".wc-save-split-button");p.style.anchorName=`--${e}-anchor`;let u=this.querySelector(".dropdown-content");u.style.positionAnchor=`--${e}-anchor`,u.style.positionArea=l,u.style.positionTryFallbacks=r,u.style.minWidth=`${p.offsetWidth}px`}_handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_handleClick(e){let t=this.getAttribute("method")||"post",n=e.target.classList.contains("save-btn"),o=e.target.dataset.url,s=window.location.hash;t=="post"&&n&&(o=o.replace("create","__id__")),document.body.addEventListener("htmx:configRequest",l=>{l.detail.headers["Wc-Save-Redirect"]=o,s&&n&&sessionStorage.setItem("hash",s)},{once:!0}),document.body.addEventListener("htmx:afterSwap",l=>{let r=sessionStorage.getItem("hash");r&&(window.location.hash=r,sessionStorage.removeItem("hash"))},{once:!0})}_applyStyle(){let e=`
        wc-save-split-button {
          display: contents;
        }
        .wc-save-split-button {
          /* anchor-name: --save-anchor; */
          display: flex;
          flex-direction: row;
        }
        /* Dropdown Button */
        .wc-save-split-button .btn {
          border-right: none;
          outline: none;
          border-radius: 0;
        }

        /* The container <div> - needed to position the dropdown content */
        .wc-save-split-button .dropdown {
          /* display: inline-block; */
        }

        /* Dropdown Content (Hidden by Default) */
        .wc-save-split-button .dropdown-content {
          display: none;
          background-color: var(--button-bg-color);
          border: 1px solid var(--button-border-color);
          border-top: none;
          min-width: 160px;
          z-index: 1;

          position: absolute;
          position-try-fallbacks: --bottom-right, --bottom-left, --top-right, --top-left, --right, --left;
          /*
          position-anchor: --save-anchor;
          position-area: bottom span-left;
          */
        }

        @position-try --bottom-left {
          position-area: bottom span-left;
        }
        @position-try --bottom-right {
          position-area: bottom span-right;
        }
        @position-try --top-left {
          position-area: top span-left;
        }
        @position-try --top-right {
          position-area: top span-right;
        }
        @position-try --right {
          position-area: right;
        }
        @position-try --left {
          position-area: left;
        }

        /* Links inside the dropdown */
        .wc-save-split-button .dropdown-content a {
          color: var(--button-color);
          padding: 12px 16px;
          text-decoration: none;
          display: block;
          cursor: pointer;
        }

        /* Change color of dropdown links on hover */
        .wc-save-split-button .dropdown-content a:hover {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }

        /* Show the dropdown menu on hover */
        .wc-save-split-button .dropdown:hover > .dropdown-content {
          display: block;
        }
        .wc-save-split-button .dropdown-content:hover ~ button {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }
      `.trim();this.loadStyle("wc-save-split-button-style",e)}_wireEvents(){super._wireEvents(),this.querySelector("button.save-btn").addEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-new-btn").addEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-return-btn").addEventListener("click",this._handleClick.bind(this))}_unWireEvents(){super._unWireEvents(),this.querySelector("button.save-btn").removeEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-new-btn").removeEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-return-btn").removeEventListener("click",this._handleClick.bind(this))}}customElements.define("wc-save-split-button",c)}if(!customElements.get("wc-split-button")){class c extends b{static get observedAttributes(){return["btn-id","btn-class","btn-label","split-class"]}constructor(){super(),this._items=[],this.parts=Array.from(this.children);let e=this.querySelector(".wc-split-button");if(e)this.componentElement=e;else{this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-split-button");let t=this.getAttribute("split-class");t&&t.split(" ").forEach(o=>this.componentElement.classList.add(o)),this.appendChild(this.componentElement),this._createElement()}console.log("ctor:wc-split-button")}async connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-split-button")}disconnectedCallback(){this._unWireEvents()}_createElement(){let e=this.getAttribute("id")||"",t=this.getAttribute("label")||"",n=this.getAttribute("position-area")||"bottom span-right",o=this.getAttribute("position-try-fallbacks")||"--bottom-right, --bottom-left, --top-right, --top-left, --right, --left",s=`
        <button id="${e}" type="button" class="btn">${t}</button>
        <div class="dropdown">
          <div class="dropdown-content text-sm">
          </div>
          <button type="button" class="btn" style="border-left:1px solid var(--component-border-color);">
            <svg class="h-3 w-3 pointer-events-none"
              xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
              stroke="currentColor" fill="currentColor">
              <path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/>
            </svg>
          </button>
        </div>
      `.trim();this.componentElement.innerHTML=s;let l=this.querySelector(".wc-split-button");l.style.anchorName=`--${e}-anchor`;let r=this.querySelector(".dropdown-content");r.style.positionAnchor=`--${e}-anchor`,r.style.positionArea=n,r.style.positionTryFallbacks=o,r.style.minWidth="calc(100% - 20px",this.parts.forEach(p=>{r.appendChild(p)});let a=this.querySelector(`button#${e}`),d=this.getAttribute("onclick");if(d){let p=new Function(d);a.onclick=p,this.removeAttribute("onclick")}this.removeAttribute("id"),this.removeAttribute("label")}_handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_applyStyle(){let e=`
        wc-split-button {
          display: contents;
        }
        .wc-split-button {
          display: flex;
          flex-direction: row;
        }
        /* Dropdown Button */
        .wc-split-button .btn {
          border-right: none;
          outline: none;
          border-radius: 0;
        }

        /* The container <div> - needed to position the dropdown content */
        .wc-split-button .dropdown {
          /* display: inline-block; */
        }

        /* Dropdown Content (Hidden by Default) */
        .wc-split-button .dropdown-content {
          display: none;
          background-color: var(--button-bg-color);
          border: 1px solid var(--button-border-color);
          border-top: none;
          min-width: 160px;
          z-index: 1;

          position: absolute;
          position-try-fallbacks: --bottom-right, --bottom-left, --top-right, --top-left, --right, --left;
        }

        @position-try --bottom-left {
          position-area: bottom span-left;
        }
        @position-try --bottom-right {
          position-area: bottom span-right;
        }
        @position-try --top-left {
          position-area: top span-left;
        }
        @position-try --top-right {
          position-area: top span-right;
        }
        @position-try --right {
          position-area: right;
        }
        @position-try --left {
          position-area: left;
        }

        /* Links inside the dropdown */
        .wc-split-button .dropdown-content a {
          color: var(--button-color);
          padding: 12px 16px;
          text-decoration: none;
          display: block;
          cursor: pointer;
        }

        /* Change color of dropdown links on hover */
        .wc-split-button .dropdown-content a:hover {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }

        /* Show the dropdown menu on hover */
        .wc-split-button .dropdown:hover > .dropdown-content {
          display: block;
        }

        /* Change the background color of the dropdown button when the dropdown content is shown */
        .wc-split-button .dropdown-content:hover ~ button {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }
      `.trim();this.loadStyle("wc-split-button-style",e)}_wireEvents(){super._wireEvents()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-split-button",c)}var K=class extends b{static get observedAttributes(){return["id","class","width","push-target","right-side","auto-height","background-color"]}constructor(){super(),this.hasAttribute("right-side")||this.setAttribute("left-side","");let i=this.querySelector(".wc-sidebar");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-sidebar"),this.appendChild(this.componentElement)),console.log("ctor:wc-sidebar")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-sidebar")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="label"||i==="auto-height"||i==="background-color"||i==="push-target"||i==="right-side"||i==="width"||super._handleAttributeChange(i,e)}_render(){if(super._render(),this.querySelector(".wc-sidebar > *")){let e=this.getAttribute("push-target")||"body",t=document.querySelector(e),n=this.hasAttribute("right-side"),o=this.getAttribute("width")||"150px";t&&(n?t.style.marginRight=o:t.style.marginLeft=o)}else this.componentElement.innerHTML="",this._createInnerElement();typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-sidebar")}_createInnerElement(){this.querySelectorAll("wc-sidebar > *:not(.wc-sidebar").forEach(s=>this.componentElement.appendChild(s)),this.hasAttribute("auto-height")?this.componentElement.style.height="auto":this.componentElement.style.height="100%";let t=this.getAttribute("push-target")||"body",n=this.hasAttribute("right-side"),o=this.getAttribute("width")||"150px";if(this.hasAttribute("background-color")){let s=this.getAttribute("background-color");this.componentElement.style.setProperty("--background-color",s)}if(this.componentElement.style.width=o,t){let s=document.querySelector(t);s&&(s.style.setProperty("transition","margin-left 0.5s ease, margin-right 0.5s ease"),n?s.style.marginRight=o:s.style.marginLeft=o)}}_applyStyle(){this.loadStyle("wc-sidebar-style",`
      wc-sidebar {
        --background-color: var(--primary-bg-color);
        display: contents;
      }
      wc-sidebar .wc-sidebar {
        /* height: 100%; */
        position: fixed;
        z-index: 1;
        top: 0;
        background-color: var(--background-color);
        overflow-x: hidden;
        padding-top: 20px;
        padding-bottom: 20px;
      }
      wc-sidebar[left-side] .wc-sidebar {
        left: 0;
      }
      wc-sidebar[right-side] .wc-sidebar {
        right: 0;
      }

      wc-sidebar .wc-sidebar a {
        padding: 6px 8px 6px 16px;
        text-decoration: none;
        font-size: 25px;
        color: var(--text-5);
        display: block;
      }

      wc-sidebar .wc-sidebar a:hover {
        color: var(--text-1);
      }
    `)}_unWireEvents(){super._unWireEvents();let i=this.getAttribute("push-target")||"body",e=document.querySelector(i),t=this.hasAttribute("right-side");e&&(t?e.style.marginRight="0":e.style.marginLeft="0")}};customElements.define("wc-sidebar",K);if(!customElements.get("wc-sidenav")){class c extends b{static get observedAttributes(){return["id","class","label","width","open-btn-class","open","open-top","open-vertical-text","push","push-target","overlay","background-color","auto-height"]}constructor(){super(),this.hasAttribute("right-side")||this.setAttribute("left-side","");let e=this.querySelector(".wc-sidenav");if(e)this.componentElement=e;else{let t=this.hasAttribute("open");this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-sidenav","sidenav"),this.appendChild(this.componentElement),t&&this._openNav({target:null})}console.log("ctor:wc-sidenav")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-sidenav")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="label"||e==="auto-height"||e==="background-color"||e==="open-vertical-text"||e==="open-btn-class"||e==="open-top"||e==="open"||e==="overlay"||e==="push-target"||e==="push"||e==="width"||super._handleAttributeChange(e,t)}_render(){super._render(),this.querySelector(".wc-sidenav > *")?(this.querySelector(".closebtn").addEventListener("click",this._closeNav.bind(this)),this.querySelector(".openbtn").addEventListener("click",this._openNav.bind(this))):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-sidenav")}_createInnerElement(){let e=this.querySelectorAll("wc-sidenav > *:not(.wc-sidenav");this.hasAttribute("auto-height")?this.componentElement.style.height="auto":this.componentElement.style.height="100%";let n=document.createElement("div");if(n.classList.add("overlay","hidden"),this.appendChild(n),this.hasAttribute("background-color")){let u=this.getAttribute("background-color");this.componentElement.style.setProperty("--background-color",u)}let o=this.getAttribute("label")||"Sidenav",s=document.createElement("div"),l=this.getAttribute("close-btn-css")||"primary-bg-color text-xs p-2";s.setAttribute("class",`closebtn cursor-pointer ${l}`),s.innerHTML="&times;",s.addEventListener("click",this._closeNav.bind(this)),this.componentElement.appendChild(s);let r=document.createElement("div"),a=this.getAttribute("open-btn-css")||"primary-bg-color text-xs px-2 py-3";r.setAttribute("class",`openbtn cursor-pointer ${a}`),r.style.top=this.getAttribute("open-top")||"0",r.addEventListener("click",this._openNav.bind(this));let d=document.createElement("span");d.textContent=o,r.appendChild(d),this.appendChild(r),e.forEach(u=>this.componentElement.appendChild(u));let p=this.getAttribute("push-target")||"#viewport";if(p){let u=document.querySelector(p);u&&u.style.setProperty("transition","margin-left 0.5s ease, margin-right 0.5s ease")}}_handleHelper(e,t){let{detail:n}=e,{selector:o}=n,s=Array.isArray(o);typeof o=="string"||s?document.querySelectorAll(o).forEach(r=>{r===this&&(t==="toggle"&&(this.querySelector(".wc-sidenav").classList.contains("open")?t=".closebtn":t=".openbtn"),r?.querySelector(t)?.click())}):o?.querySelector(t)?.click()}_handleOpen(e){this._handleHelper(e,".openbtn")}_handleClose(e){this._handleHelper(e,".closebtn")}_handleToggle(e){this._handleHelper(e,"toggle")}_openNav(e){let{target:t}=e,n=this.getAttribute("width")||"250px",o=this.getAttribute("push-target")||"#viewport",s=this.querySelector(".wc-sidenav");if(s.classList.add("open"),s.style.width=n,this.hasAttribute("overlay")){let l=this.querySelector(".overlay");l&&(l.classList.add("open"),l.classList.remove("hidden"))}if(this.hasAttribute("push")){let l=this.hasAttribute("right-side");if(o){let r=document.querySelector(o);r&&(l?r.style.marginRight=n:r.style.marginLeft=n)}}}_closeNav(e){let{target:t}=e,n=this.getAttribute("push-target")||"#viewport",o=t.closest(".wc-sidenav");if(o.classList.remove("open"),o.style.width="0",this.hasAttribute("overlay")){let s=this.querySelector(".overlay");s&&(s.classList.remove("open"),s.classList.add("hidden"))}if(this.hasAttribute("push")){let s=this.hasAttribute("right-side");if(n){let l=document.querySelector(n);l&&(s?l.style.marginRight="0":l.style.marginLeft="0")}}}_applyStyle(){this.loadStyle("wc-sidenav-style",`
        wc-sidenav {
          --background-color: var(--primary-bg-color);
          display: contents;
        }
        wc-sidenav .wc-sidenav.sidenav {
          /* height: 100%; */
          width: 0;
          position: fixed;
          z-index: 2;
          top: 0;
          background-color: var(--background-color);
          overflow-x: hidden;
          padding-top: 60px;
          padding-bottom: 20px;
          text-align: center;
          transition: 0.5s;
        }
        wc-sidenav[left-side] .wc-sidenav.sidenav {
          left: 0;
        }
        wc-sidenav[right-side] .wc-sidenav.sidenav {
          right: 0;
        }
        wc-sidenav .wc-sidenav.sidenav a {
          text-decoration: none;
          font-size: 25px;
          color: var(--button-color);
          display: block;
          transition: 0.3s;
        }
        wc-sidenav[left-side] .wc-sidenav.sidenav a {
          padding: 8px 8px 8px 32px;
        }
        wc-sidenav[right-side] .wc-sidenav.sidenav a {
          padding: 8px 32px 8px 8px;
        }
        wc-sidenav .wc-sidenav.sidenav.open a {
          padding: 8px 8px;
        }
        wc-sidenav .wc-sidenav.sidenav a:hover {
          color: var(--button-hover-color);
        }
        wc-sidenav .wc-sidenav.sidenav .closebtn {
          position: absolute;
          top: 0;
          font-size: 36px;
          background-color: transparent;
        }
        wc-sidenav[left-side] .wc-sidenav.sidenav .closebtn {
          right: 0;
        }
        wc-sidenav[right-side] .wc-sidenav.sidenav .closebtn {
          left: 0;
        }
        wc-sidenav .openbtn {
          position: absolute;
          z-index: 1;
        }
        wc-sidenav[left-side] .openbtn {
          left: 0;
          border-radius: 0 0.375rem 0.375rem 0;
        }
        wc-sidenav[right-side] .openbtn {
          right: 0;
          border-radius: 0.375rem 0 0 0.375rem;
        }
        wc-sidenav .openbtn span {
          writing-mode: vertical-rl;
          display: inline-block;
          /* line-height: 2; */
        }
        wc-sidenav[open-vertical-text] .openbtn span {
          text-orientation: upright;
          letter-spacing: 2px;
        }
        wc-sidenav:not([open-vertical-text]) .openbtn span {
          text-orientation: sideways;
          letter-spacing: 4px;
        }
        wc-sidenav .openbtn:hover {
          background-color: var(--button-hover-bg-color);
        }

        .overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background-color: transparent;
          transition: background-color 0.5s ease;
        }
        .overlay.open {
          background-color: rgba(0,0,0,0.6);
          z-index: 1;
        }
      `)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-sidenav:open",this._handleOpen.bind(this)),document.body.addEventListener("wc-sidenav:close",this._handleClose.bind(this)),document.body.addEventListener("wc-sidenav:toggle",this._handleToggle.bind(this))}_unWireEvents(){super._unWireEvents(),this.querySelector(".closebtn").removeEventListener("click",this._closeNav.bind(this)),this.querySelector(".openbtn").removeEventListener("click",this._openNav.bind(this)),document.body.removeEventListener("wc-sidenav-open",this._handleOpen.bind(this)),document.body.removeEventListener("wc-sidenav-close",this._handleClose.bind(this)),document.body.removeEventListener("wc-sidenav:toggle",this._handleToggle.bind(this))}}customElements.define("wc-sidenav",c)}if(!customElements.get("wc-slideshow-image")){class c extends b{static get observedAttributes(){return["id","class","url","caption","numbertext"]}constructor(){super();let e=this.querySelector(".wc-slideshow-image");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-slideshow-image","slide","fade"),this.appendChild(this.componentElement)),console.log("ctor:wc-slideshow-image")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-slideshow-image")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){if(e==="numbertext"){let n=this.querySelector(".numbertext");n&&(n.textContent=t)}else super._handleAttributeChange(e,t)}_render(){super._render(),this.querySelector(".wc-slideshow-image > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-slideshow-image")}_createInnerElement(){let e=document.createElement("div");e.textContent=this.getAttribute("numbertext")||"",e.classList.add("numbertext");let t=document.createElement("img");t.src=this.getAttribute("url")||"";let n=document.createElement("div");n.textContent=this.getAttribute("caption")||"",n.classList.add("text"),this.componentElement.appendChild(e),this.componentElement.appendChild(t),this.componentElement.appendChild(n)}_applyStyle(){let e=`
        wc-slideshow-image {
          display: contents;
        }

        .wc-slideshow-image {
          position: relative;
        }

        .wc-slideshow-image img {
          max-height: 300px;
          width: 100%;
          height: auto;
          object-fit: cover;
        }
        
        /* Caption text */
        .wc-slideshow-image .text {
          color: #f2f2f2;
          font-size: 15px;
          padding: 8px 12px;
          position: absolute;
          bottom: 8px;
          width: 100%;
          text-align: center;
        }

        /* Number text (1/3 etc) */
        .wc-slideshow-image .numbertext {
          color: #f2f2f2;
          font-size: 12px;
          padding: 8px 12px;
          position: absolute;
          top: 0;
        }      
  `.trim();this.loadStyle("wc-slideshow-image-style",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-slideshow-image",c)}if(!customElements.get("wc-slideshow")){class c extends b{static get observedAttributes(){return["id","class","max-image-height","autoplay","autoplay-interval"]}constructor(){super(),this.slides=[],this.slideshowInterval=null,this.isPaused=!1,this.slideIndex=1,this.childComponentSelector="wc-slideshow-image";let e=this.querySelector(".wc-slideshow");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-slideshow","container"),this.appendChild(this.componentElement)),console.log("ctor:wc-slideshow")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-slideshow")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_render(){super._render();let e=this.querySelectorAll("wc-slideshow-image");e.forEach((n,o)=>{n.setAttribute("numbertext",`${o+1} / ${e.length}`),n.querySelectorAll("img").forEach(l=>l.style.maxHeight=this.getAttribute("max-image-height")||"300px")}),this.slides=this.querySelectorAll(".wc-slideshow-image.slide"),this.querySelector(".wc-slideshow > *")?this.slideIndex=parseInt(this.dataset.slideIndex||1):(this.componentElement.innerHTML="",this._createInnerElement()),console.log("_render:wc-slideshow")}_createInnerElement(){this.querySelectorAll("wc-slideshow > *:not(.wc-slideshow)").forEach(l=>{this.componentElement.appendChild(l)});let t=document.createElement("a");t.classList.add("prev"),t.textContent="\u276E";let n=document.createElement("a");n.textContent="\u276F",n.classList.add("next");let o=document.createElement("a");o.classList.add("play"),o.textContent="\u25B6";let s=document.createElement("a");s.classList.add("pause"),s.textContent="\u23F8",this.componentElement.appendChild(t),this.componentElement.appendChild(n),this.componentElement.appendChild(o),this.componentElement.appendChild(s)}_handleHelper(e,t="next"){let{detail:n}=e,{selector:o=this}=n,s=Array.isArray(o);typeof o=="string"||s?document.querySelectorAll(o).forEach(r=>{r===this&&(t==="next"?this._nextSlide({target:this}):t==="prev"?this._prevSlide({target:this}):t==="start"?(this.setAttribute("autoplay",""),this.isPaused=!1,this.componentElement.classList.add("is-playing"),this._startSlideshow()):t==="stop"&&(this.removeAttribute("autoplay"),this.isPaused=!0,this.componentElement.classList.remove("is-playing"),clearInterval(this.slideshowInterval)))}):o===this&&(t==="next"?this._nextSlide({target:this}):t==="prev"?this._prevSlide({target:this}):t==="start"?(this.setAttribute("autoplay",""),this.isPaused=!1,this.componentElement.classList.add("is-playing"),this._startSlideshow()):t==="stop"&&(this.removeAttribute("autoplay"),this.isPaused=!0,this.componentElement.classList.remove("is-playing"),clearInterval(this.slideshowInterval)))}_handleNext(e){this._handleHelper(e,"next")}_handlePrev(e){this._handleHelper(e,"prev")}_handleStart(e){this._handleHelper(e,"start")}_handleStop(e){this._handleHelper(e,"stop")}_prevSlide(e){e?.target&&(this.isPaused=!0,this.componentElement.classList.remove("is-playing"),clearInterval(this.slideshowInterval)),this.slideIndex-=1,this._showSlide()}_nextSlide(e){e?.target&&(this.isPaused=!0,this.componentElement.classList.remove("is-playing"),clearInterval(this.slideshowInterval)),this.slideIndex+=1,this._showSlide()}_showSlide(){this.slideIndex>this.slides.length&&(this.slideIndex=1),this.slideIndex<1&&(this.slideIndex=this.slides.length),this.slides.forEach(e=>e.style.display="none"),this.slides[this.slideIndex-1].style.display="block",this.dataset.slideIndex=this.slideIndex}_startSlideshow(){if(this.hasAttribute("autoplay")&&!this.isPaused){let e=parseInt(this.getAttribute("autoplay-interval"))||5e3;this.slideshowInterval=setInterval(()=>this._nextSlide(),e),this.componentElement.classList.add("is-playing")}this._showSlide()}_handleVisibilityChange(){document.hidden?(this.isPaused=!0,this.componentElement.classList.remove("is-playing"),clearInterval(this.slideshowInterval)):(this.isPaused=!1,this._startSlideshow())}_applyStyle(){let e=`
        wc-slideshow {
          display: contents;
        }
        .wc-slideshow {

        }
        .wc-slideshow .play,
        .wc-slideshow .pause {
          cursor: pointer;
          position: absolute;
          top: calc(50% - 36px);
          left: calc(50% - 30px);
          width: auto;
          padding: 16px;
          color: white;
          font-weight: bold;
          font-size: 36px;
          transition: 0.6s ease;
          border-radius: 0 3px 3px 0;
          user-select: none;

          display: none;
        }
        .wc-slideshow.is-playing:hover .pause {
          display: block;
        }
        .wc-slideshow:not(.is-playing):hover .play {
          display: block;
        }
        /* Slideshow container */
        .wc-slideshow.container {
          max-width: 1000px;
          position: relative;
          margin: auto;
        }

        /* Hide the images by default */
        .wc-slideshow .slide {
          display: none;
        }

        /* Next & previous buttons */
        .wc-slideshow .prev,
        .wc-slideshow .next {
          cursor: pointer;
          position: absolute;
          top: 50%;
          width: auto;
          margin-top: -22px;
          padding: 16px;
          color: white;
          font-weight: bold;
          font-size: 18px;
          transition: 0.6s ease;
          border-radius: 0 3px 3px 0;
          user-select: none;
        }

        /* Position the "next button" to the right */
        .wc-slideshow .next {
          right: 16px;
          border-radius: 3px 0 0 3px;
        }

        /* On hover, add a black background color with a little bit see-through */
        .wc-slideshow .prev:hover,
        .wc-slideshow .next:hover {
          background-color: rgba(0,0,0,0.8);
        }

        .wc-slideshow .active {
          background-color: #717171;
        }

        /* Fading animation */
        .wc-slideshow .fade {
          animation-name: slideshow-fade;
          animation-duration: 1.5s;
        }

        @keyframes slideshow-fade {
          from {
            opacity: .4;
          }
          to {
            opacity: 1;
          }
        }
  `.trim();this.loadStyle("wc-slideshow-style",e)}_wireEvents(){super._wireEvents(),!this.hasAttribute("data-wired")&&(this.setAttribute("data-wired",!0),setTimeout(()=>{let t=this.querySelector(".prev"),n=this.querySelector(".next"),o=this.querySelector(".play"),s=this.querySelector(".pause");t.addEventListener("click",this._prevSlide.bind(this)),n.addEventListener("click",this._nextSlide.bind(this)),o.addEventListener("click",this._handleStart.bind(this)),s.addEventListener("click",this._handleStop.bind(this)),this._startSlideshow()},50),document.addEventListener("visibilitychange",this._handleVisibilityChange.bind(this)),document.body.addEventListener("wc-slideshow:next",this._handleNext.bind(this)),document.body.addEventListener("wc-slideshow:prev",this._handlePrev.bind(this)),document.body.addEventListener("wc-slideshow:start",this._handleStart.bind(this)),document.body.addEventListener("wc-slideshow:stop",this._handleStop.bind(this)))}_unWireEvents(){super._unWireEvents(),document.removeEventListener("visibilitychange",this._handleVisibilityChange.bind(this)),document.body.removeEventListener("wc-slideshow:next",this._handleNext.bind(this)),document.body.removeEventListener("wc-slideshow:prev",this._handlePrev.bind(this)),document.body.removeEventListener("wc-slideshow:start",this._handleStart.bind(this)),document.body.removeEventListener("wc-slideshow:stop",this._handleStop.bind(this));let e=this.querySelector(".prev"),t=this.querySelector(".next"),n=this.querySelector(".play"),o=this.querySelector(".pause");e?.removeEventListener("click",this._prevSlide.bind(this)),t?.removeEventListener("click",this._nextSlide.bind(this)),n?.removeEventListener("click",this._handleStart.bind(this)),o?.removeEventListener("click",this._handleStop.bind(this))}}customElements.define("wc-slideshow",c)}var X=class extends b{static get observedAttributes(){return["id","class","label","active"]}constructor(){super();let i=this.querySelector(".wc-tab-item");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-tab-item"),this.appendChild(this.componentElement)),console.log("ctor:wc-tab-item")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-tab-item")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="test"||super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-tab-item > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-tab-item")}_createInnerElement(){Array.from(this.children).filter(e=>!e.matches("wc-tab-item")&&!e.matches(".wc-tab-item")).forEach(e=>{this.componentElement.appendChild(e)})}_applyStyle(){let i=`
      wc-tab-item {
        display: contents;
      }
      .wc-tab-item {
        display: flex;
        flex-direction: column;
        flex: 1 1 0%;
        min-height: 0;
        min-width: 0;
        
        position: relative;
      }
    `.trim();this.loadStyle("wc-tab-item-style",i)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-tab-item",X);var Z=class extends b{static get observedAttributes(){return["id","class","animate","vertical"]}constructor(){super(),this.childComponentSelector="wc-tab-item";let i=this.querySelector(".wc-tab");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-tab"),this.appendChild(this.componentElement)),console.log("ctor:wc-tab")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-tab")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="animate"||i==="vertical"||super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-tab > *")?this.querySelectorAll(".tab-link").forEach(t=>t.addEventListener("click",this._handleClick.bind(this))):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),setTimeout(()=>{location.hash.slice(1).split("+").forEach(t=>{this.querySelector(`button[data-label="${decodeURI(t)}"]`)?.click()})},100),console.log("_render:wc-tab")}_createInnerElement(){let i=document.createElement("div");i.classList.add("tab-nav");let e=document.createElement("div");e.classList.add("tab-body");let t=Array.from(this.children).filter(n=>!n.matches("wc-tab")&&!n.matches(".wc-tab"));t.forEach((n,o)=>{let s=n.querySelector(".wc-tab-item"),l=document.createElement("button");l.type="button",l.classList.add("tab-link"),l.addEventListener("click",this._handleClick.bind(this)),s?.classList.contains("active")&&l.classList.add("active"),l.textContent=n.getAttribute("label")||`Label ${o+1}`,l.dataset.label=n.getAttribute("label")||`Label ${o+1}`,i.appendChild(l)}),t.forEach(n=>{e.appendChild(n)}),this.componentElement.appendChild(i),this.componentElement.appendChild(e)}_handleHelper(i,e="click"){let{detail:t}=i,{selector:n,subSelector:o}=t,s=Array.isArray(n);typeof n=="string"||s?document.querySelectorAll(n).forEach(r=>{r===this&&e==="click"&&this.querySelector(o)?.click()}):n===this&&e==="click"&&this.querySelector(o)?.click()}_handleOnClick(i){this._handleHelper(i,"click")}_handleClick(i){i.stopPropagation(),i.preventDefault();let{target:e}=i;e.closest(".wc-tab").querySelectorAll(".active").forEach(a=>{a.closest("wc-tab")==this&&a.classList.remove("active")}),e.classList.add("active");let o=e.textContent,s=this.querySelector(`.wc-tab-item[label='${o}']`);s.classList.add("active");let l={detail:{label:o}},r=new CustomEvent("tabchange",l);s.dispatchEvent(r),location.hash=this._buildActiveTabStringFromRoot(e)}_buildActiveTabStringFromRoot(i){function e(s){let l=s.closest("wc-tab"),r=l;for(;l;){let a=l.parentElement?.closest("wc-tab");if(!a){r=l;break}l=a}return r}function t(s){let l=[],r=s.querySelector(":scope > .wc-tab > .tab-nav");if(r){let d=Array.from(r.querySelectorAll(":scope > button.active"));for(let p of d)l.push(p.textContent.trim())}let a=Array.from(s.querySelectorAll(":scope > .wc-tab > .tab-body > wc-tab-item > .wc-tab-item.active > wc-tab"));for(let d of a)l=l.concat(t(d));return l}let n=e(i);return n?t(n).join("+"):""}_applyStyle(){let i=`
      wc-tab {
        display: contents;
      }
      wc-tab .wc-tab {
        position: relative;
        overflow: hidden;
      }
      wc-tab[vertical] .wc-tab {
        display: flex;
        flex-direction: row;
      }
      wc-tab .wc-tab .tab-nav {
        position: relative;
        display: flex;
        flex-direction: row;
        overflow: hidden;
      }
      wc-tab[vertical] .wc-tab .tab-nav {
        flex-direction: column;
        overflow: initial;
        border-right: none;
      }
      wc-tab .wc-tab .tab-nav .tab-link {
        background-color: transparent;
        border: none;
        border-bottom: 1px solid var(--card-bg-color);
        border-radius: 0;
        outline: none;
        cursor: pointer;
        padding: 10px 16px;
        user-select: none;
        transition: 0.3s;
      }
      wc-tab .wc-tab .tab-nav .tab-link.active,
      wc-tab .wc-tab .tab-nav .tab-link:hover {
        border-top-left-radius: .5rem;
        border-top-right-radius: .5rem;
        border-bottom: 1px solid var(--card-bg-color);
        background-color: var(--card-bg-color);
      }

      wc-tab .wc-tab .tab-body {
        display: flex;
        flex-direction: column;
        flex: 1 1 0%;
        min-height: 0;
        background-color: var(--card-bg-color);
      }
      wc-tab[vertical] .wc-tab .tab-body {
        border-top: 1px solid var(--card-border-color);
      }
      wc-tab .wc-tab .tab-body wc-tab-item .wc-tab-item {
        display: none;
      }
      wc-tab[animate] .wc-tab .tab-body wc-tab-item .wc-tab-item {
        animation: tab-fade 1s;
      }
      wc-tab .wc-tab .tab-body wc-tab-item .wc-tab-item.active {
        display: flex;
      }

      /* Add styling for nested tabs */
      wc-tab .wc-tab .tab-body wc-tab {
        margin-top: 1rem;
      }
      
      @keyframes tab-fade {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    `.trim();this.loadStyle("wc-tab-style",i)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-tab:click",this._handleOnClick.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-tab:click",this._handleOnClick.bind(this)),this.querySelectorAll(".tab-link").forEach(e=>e.removeEventListener("click",this._handleClick.bind(this)))}};customElements.define("wc-tab",Z);if(!customElements.get("wc-tabulator-column")){class c extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-tabulator-column",c)}if(!customElements.get("wc-tabulator-func")){class c extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-tabulator-func",c)}if(!customElements.get("wc-tabulator-row-menu")){class c extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-tabulator-row-menu",c)}if(!customElements.get("wc-tabulator")){class c extends b{static get observedAttributes(){return["id","class"]}icons={eye:{viewport:"0 0 640 512",d:"M117.2 136C160.3 96 217.6 64 288 64s127.7 32 170.8 72c43.1 40 71.9 88 85.2 120c-13.3 32-42.1 80-85.2 120c-43.1 40-100.4 72-170.8 72s-127.7-32-170.8-72C74.1 336 45.3 288 32 256c13.3-32 42.1-80 85.2-120zM288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM192 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"},eyeSlash:{viewport:"0 0 640 512",d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},square:{viewport:"0 0 448 512",d:"M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"},squareCheck:{viewport:"0 0 448 512",d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"},remove:{viewport:"0 0 448 512",d:"M177.1 48l93.7 0c2.7 0 5.2 1.3 6.7 3.6l19 28.4-145 0 19-28.4c1.5-2.2 4-3.6 6.7-3.6zM354.2 80L317.5 24.9C307.1 9.4 289.6 0 270.9 0L177.1 0c-18.7 0-36.2 9.4-46.6 24.9L93.8 80 80.1 80 32 80l-8 0C10.7 80 0 90.7 0 104s10.7 24 24 24l11.6 0L59.6 452.7c2.5 33.4 30.3 59.3 63.8 59.3l201.1 0c33.5 0 61.3-25.9 63.8-59.3L412.4 128l11.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-8 0-48.1 0-13.7 0zm10.1 48L340.5 449.2c-.6 8.4-7.6 14.8-16 14.8l-201.1 0c-8.4 0-15.3-6.5-16-14.8L83.7 128l280.6 0z"},clone:{viewport:"0 0 512 512",d:"M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z"},check:{viewport:"0 0 448 512",d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},checkDouble:{viewport:"0 0 448 512",d:"M337 81c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-143 143L97 127c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l80 80c9.4 9.4 24.6 9.4 33.9 0L337 81zM441 201c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-247 247L41 295c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L143 465c9.4 9.4 24.6 9.4 33.9 0L441 201z"},listCheck:{viewport:"0 0 512 512",d:"M156.3 58.2c5.7-6.8 4.7-16.9-2-22.5s-16.9-4.7-22.5 2L62.9 120.3 27.3 84.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l48 48c3.2 3.2 7.5 4.9 12 4.7s8.7-2.3 11.6-5.7l80-96zm0 160c5.7-6.8 4.7-16.9-2-22.5s-16.9-4.7-22.5 2L62.9 280.3 27.3 244.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l48 48c3.2 3.2 7.5 4.9 12 4.7s8.7-2.3 11.6-5.7l80-96zM192 96c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L208 80c-8.8 0-16 7.2-16 16zm0 160c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-288 0c-8.8 0-16 7.2-16 16zM160 416c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-320 0c-8.8 0-16 7.2-16 16zm-64 0a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"},list:{viewport:"0 0 512 512",d:"M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM184 72c-13.3 0-24 10.7-24 24s10.7 24 24 24l304 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L184 72zm0 160c-13.3 0-24 10.7-24 24s10.7 24 24 24l304 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-304 0zm0 160c-13.3 0-24 10.7-24 24s10.7 24 24 24l304 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-304 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"},xmark:{viewport:"0 0 384 512",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},download:{viewport:"0 0 512 512",d:"M280 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 270.1-95-95c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L239 369c9.4 9.4 24.6 9.4 33.9 0L409 233c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95L280 24zM128.8 304L64 304c-35.3 0-64 28.7-64 64l0 80c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-80c0-35.3-28.7-64-64-64l-64.8 0-48 48L448 352c8.8 0 16 7.2 16 16l0 80c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-80c0-8.8 7.2-16 16-16l112.8 0-48-48zM432 408a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"}};funcs={};rowMenus=[];rowMenu=[{label:this.createMenuLabel("Select All Rows",this.icons.listCheck),action:(e,t)=>{t.getTable().selectRow()}},{label:this.createMenuLabel("Un-Select Rows",this.icons.list),action:(e,t)=>{t.getTable().deselectRow()}},{label:this.createMenuLabel("Select Row",this.icons.check),action:(e,t)=>{t.select()}},{label:this.createMenuLabel("Un-Select Row",this.icons.xmark),action:(e,t)=>{t.deselect()}},{separator:!0},{label:this.createMenuLabel("Delete Row",this.icons.remove),action:(e,t)=>{console.log("Deleting row..."),wc.Prompt.question({title:"Are you sure?",text:"This record will be deleted. Are you sure?",callback:n=>{this.funcs.onDelete&&this.funcs.onDelete(t,n)}})}},{label:this.createMenuLabel("Clone Row",this.icons.clone),action:(e,t)=>{let n={title:"Clone Record(s)",icon:"info",focusConfirm:!1,template:"template#clone-template",didOpen:()=>{let o=document.querySelector(".swal2-container");o&&(htmx.process(o),_hyperscript.processNode(o))},callback:o=>{this.funcs.onClone&&this.funcs.onClone(t,o)}};wc.Prompt.fire(n)}},{separator:!0},{label:this.createMenuLabel("Download Table",this.icons.download),action:(e,t)=>{console.log("Download row..."),wc.Prompt.notify({icon:"info",title:"Download Format?",text:"Please select the format:",input:"select",inputPlaceholder:"Select a format",inputOptions:{csv:"CSV",json:"JSON",html:"HTML",pdf:"PDF",xlsx:"XLSX"},callback:n=>{let o=t.getTable();switch(n){case"csv":o.download("csv","data.csv");break;case"json":o.download("json","data.json");break;case"html":o.download("html","data.html");break;case"pdf":o.download("pdf","data.pdf");break;case"xlsx":o.download("xlsx","data.xlsx",{});break}wc.Prompt.toast({title:"Download in progress...",type:"success"})}})}}];constructor(){super(),this.table=null,this._internals=this.attachInternals();let e=this.querySelector(".wc-tabulator");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-tabulator"),this.componentElement.id=this.getAttribute("id")||"wc-tabulator",this.appendChild(this.componentElement)),console.log("ctor:wc-tabulator")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("conntectedCallback:wc-tabulator")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}async _handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_render(){super._render(),this.querySelector(".wc-tabulator > *")||(this.componentElement.innerHTML="",this._createInnerElement()),console.log("_render:wc-tabulator")}async _createInnerElement(){let e=this.hasAttribute("pagination"),t=this.getAttribute("pagination-size"),n=this.getAttribute("pagination-counter"),o=this.getAttribute("movable-columns"),s=this.getAttribute("resizable-columns"),l=this.getAttribute("resizable-column-guide"),r=this.getAttribute("movable-rows"),a=this.getAttribute("row-header"),d=this.getAttribute("row-height"),p=this.getAttribute("row-formatter"),u=this.getAttribute("resizable-rows"),m=this.getAttribute("resizable-row-guide"),h=this.getAttribute("frozen-rows"),g=this.getAttribute("persistence"),y=this.getAttribute("header-visible"),k=this.getAttribute("row-context-menu"),x=this.getAttribute("placeholder"),v=this.getAttribute("selectable-rows"),C=this.getAttribute("col-field-formatter")||"{}",T=this.getAttribute("responsive-layout"),I=this.getAttribute("group-by"),q=this.getAttribute("initial-filter"),D=this.getAttribute("initial-sort"),R=this.getAttribute("row-click"),H=this.getAttribute("row-selected"),B=this.getAttribute("row-deselected");if(C){let E=JSON.parse(C);E&&E.params&&E.params.url&&(E.params.url=this.resolveFormatter(E.params,E.params.url)),E&&E.formatter&&E.params&&(E.formatter=this.resolveFormatter(E.params,E.formatter)),this.colFieldFormatter=E}this.getFuncs(),this.getRowMenu();let w={columns:this.getColumnsConfig(),layout:this.getAttribute("layout")||"fitData",filterMode:"remote",sortMode:"remote",ajaxURL:this.getAttribute("ajax-url")||"",ajaxURLGenerator:this.getAjaxURLGenerator.bind(this),ajaxConfig:this.getAjaxConfig(),ajaxResponse:this.handleAjaxResponse.bind(this)};if(e&&(w.pagination=e),w.pagination&&(w.paginationMode="remote",t?w.paginationSize=parseInt(t)||10:w.paginationSize=10),n&&(w.paginationCounter=n),o&&(w.movableColumns=o.toLowerCase()=="true"),s&&(w.resizableColumns=s.toLowerCase()=="true"),l&&(w.resizableColumnGuide=l.toLowerCase()=="true"),r&&(w.movableRows=r.toLowerCase()=="true"),a){let E=JSON.parse(a);E.cellClick&&(E.cellClick=this.resolveFunc(E.cellClick),w.rowHeader=E)}p&&(w.rowFormatter=this.resolveRowFormatter(p)),d&&(w.rowHeight=parseInt(d)),u&&(w.resizableRows=u.toLowerCase()=="true"),m&&(w.resizableRowGuide=m.toLowerCase()=="true"),h&&(w.frozenRows=parseInt(h)),g&&(w.persistence=g.toLowerCase()=="true"),w.persistence&&(w.persistenceID=container.id),y&&(w.headerVisible=y.toLowerCase()=="true"),k&&k=="rowContextMenu"&&(w.rowContextMenu=this.rowMenu),x&&(w.placeholder=x),v&&(isNaN(parseInt(v))?w.selectableRows=v.toLowerCase()=="true":w.selectableRows=parseInt(v)),I&&(w.groupBy=I),T&&(w.responsiveLayout=T),q&&(w.initialFilter=JSON.parse(q),this.initialFilter=w.initialFilter),D&&(w.initialSort=JSON.parse(D),this.initialSort=w.initialSort),R&&(this.rowClick=this.resolveFunc(R)),H&&(this.rowSelected=this.resolveFunc(H)),B&&(this.rowDeselected=this.resolveFunc(B)),await this.renderTabulator(w)}async renderTabulator(e){await Promise.all([this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"),this.loadScript("https://unpkg.com/jspdf-autotable@3.8.4/dist/jspdf.plugin.autotable.js"),this.loadScript("https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js"),this.loadScript("https://cdn.jsdelivr.net/npm/luxon@2.3.1/build/global/luxon.min.js"),this.loadCSS("https://unpkg.com/tabulator-tables@6.3.0/dist/css/tabulator.min.css"),this.loadLibrary("https://unpkg.com/tabulator-tables@6.3.0/dist/js/tabulator.min.js","Tabulator")]),this.table=new Tabulator(this.componentElement,e),this.table.on("tableBuilt",async()=>{console.log("wc-tabulator:tableBuilt - broadcasting wc-tabulator:ready"),"onInit"in this.funcs&&this.funcs.onInit(this.table),wc.EventHub.broadcast("wc-tabulator:ready",[],""),wc.EventHub.broadcast("wc-tabulator-ready",[],""),typeof htmx<"u"&&(await $(1e3),htmx.process(this))}),"onCellEdited"in this.funcs&&this.table.on("cellEdited",this.funcs.onCellEdited.bind(this)),"onCellDblClick"in this.funcs&&this.table.on("cellDblClick",this.funcs.onCellDblClick.bind(this)),this.rowClick&&this.table.on("rowClick",this.rowClick.bind(this)),this.rowSelected&&this.table.on("rowSelected",this.rowSelected.bind(this)),this.rowDeselected&&this.table.on("rowDeselected",this.rowDeselected.bind(this)),this.table.on("pageLoaded",n=>{typeof htmx<"u"&&setTimeout(()=>{htmx.process(this)},10)});let t=!1;this.table.on("dataFiltering",n=>{console.log("dataFiltering",n)})}getFuncs(){this.querySelectorAll("wc-tabulator-func").forEach(t=>{let n=t.getAttribute("name"),o=t.textContent,s=new Function(`return (${o})`)();this.funcs[n]=s,t.innerHTML=""})}getRowMenu(){this.querySelectorAll("wc-tabulator-row-menu").forEach(t=>{let n=t.getAttribute("order"),o=t.hasAttribute("separator"),s={};if(o)s={separator:!0,order:n};else{let l=t.getAttribute("label"),r=t.getAttribute("icon"),a=t.textContent,d=new Function(`return (${a})`)();s={label:this.createMenuLabel(l,this.icons[r]),action:d,order:n}}t.innerHTML="",this.rowMenus.push(s)}),this.rowMenus.forEach(t=>{t.order!==null&&!isNaN(t.order)&&t.order>=0?this.rowMenu.splice(t.order,0,t):this.rowMenu.push(t)})}getColumnsConfig(){let e=[];return this.querySelectorAll("wc-tabulator-column").forEach(n=>{let o=n.getAttribute("field"),s=n.getAttribute("title")||o,l=n.getAttribute("width"),r=n.getAttribute("width-grow"),a=n.getAttribute("width-shrink"),d=n.getAttribute("min-width"),p=n.getAttribute("max-width"),u=n.getAttribute("max-initial-width"),m=n.getAttribute("resizable"),h=n.getAttribute("editable"),g=n.getAttribute("frozen"),y=n.getAttribute("responsive"),k=n.getAttribute("tooltip"),x=n.getAttribute("css-class"),v=n.getAttribute("row-handle"),C=n.getAttribute("html-output"),T=n.getAttribute("print"),I=n.getAttribute("clipboard"),q=n.getAttribute("title-formatter"),D=n.getAttribute("formatter"),R=n.getAttribute("formatter-params"),H=n.getAttribute("hoz-align"),B=n.getAttribute("vert-align")||"middle",w=n.getAttribute("header-hoz-align"),E=n.getAttribute("visible"),ae=n.getAttribute("header-sort"),ce=n.getAttribute("header-sort-starting-dir"),de=n.getAttribute("header-sort-tristate"),pe=n.getAttribute("sorter"),ue=n.getAttribute("sorter-params"),me=n.getAttribute("header-filter"),he=n.getAttribute("header-filter-params"),be=n.getAttribute("header-filter-placeholder"),ge=n.getAttribute("header-filter-func"),fe=n.getAttribute("header-menu"),W=n.getAttribute("editor"),ye=n.getAttribute("editor-params"),we=n.getAttribute("cell-click"),ve=n.getAttribute("bottom-calc"),Ee=n.getAttribute("bottom-calc-params"),xe=n.getAttribute("top-calc"),Ce=n.getAttribute("top-calc-params"),f={field:o,title:s};if(l&&(f.width=l),r&&(f.widthGrow=parseInt(r)),a&&(f.widthShrink=parseInt(a)),d&&(f.minWidth=d),p&&(f.maxWidth=p),u&&(f.maxInitialWidth=u),m&&(f.resizable=m.toLowerCase()=="true"),h&&(f.editable=h.toLowerCase()=="true"),h&&(h.toLowerCase()=="true"||h.toLowerCase()=="false"?f.editable=h.toLowerCase()=="true":f.editable=this.resolveFunc(h)),g&&(f.frozen=g.toLowerCase()=="true"),y&&(f.responsive=parseInt(y)),k&&(f.tooltip=k),x&&(f.cssClass=x),v&&(f.rowHandle=v.toLowerCase()=="true"),C&&(f.htmlOutput=C),T&&(f.print=T.toLowerCase()=="true"),I&&(f.clipboard=I.toLowerCase()=="true"),ae&&(f.headerSort=ae.toLowerCase()=="true"),ce&&(f.headerSortStartingDir=ce),de&&(f.headerSortTristate=de.toLowerCase()=="true"),me&&(f.headerFilter=me),he&&(f.headerFilterParams=JSON.parse(he)),be&&(f.headerFilterPlaceholder=be),ge&&(f.headerFilterFunc=ge),fe&&fe=="headerMenu"&&(f.headerMenu=this.headerMenu.bind(this)),W&&(W=="dateEditor"?f.editor=this.dateEditor.bind(this):f.editor=W),ye&&(f.editorParams=JSON.parse(ye)),we&&(f.cellClick=this.resolveFunc(we)),q&&(f.titleFormatter=q),D?f.formatter=this.resolveCellFormatter(D):o&&this.colFieldFormatter?.cols?.includes(o)&&(f.formatter=this.colFieldFormatter.formatter),R){let P=JSON.parse(R);P&&P.url&&(P.url=this.resolveFormatter(P,P.url)),f.formatterParams=P}else o&&this.colFieldFormatter?.cols?.includes(o)&&(f.formatterParams=this.colFieldFormatter.params);H&&(f.hozAlign=H),B&&(f.vertAlign=B),w&&(f.headerHozAlign=w),E&&(f.visible=E.toLowerCase()=="true"),pe&&(f.sorter=pe),ue&&(f.sorterParams=JSON.parse(ue)),ve&&(f.bottomCalc=ve),Ee&&(f.bottomCalcParams=JSON.parse(Ee)),xe&&(f.topCalc=xe),Ce&&(f.topCalcParams=JSON.parse(Ce)),e.push(f)}),e}resolveRowFormatter(e){try{if(e)return e.startsWith("function")?new Function("row",`return (${e})(row);`):this[e]?this[e].bind(this):window[e]?window[e]:e}catch(t){return console.error(`Error resolving row formatter: ${t.message}`),null}}resolveFunc(e){try{return e.startsWith("function")?new Function(`return (${e})`)():e.includes("=>")?new Function(`return (${e})`)():this[e]?this[e]:window[e]?window[e]:(console.warn(`Func "${e}" not found.`),null)}catch(t){return console.error(`Error resolving func: ${t.message}`),null}}resolveFormatter(e,t){try{return t.startsWith("function")?new Function(`return (${t})`)(e):this[t]?this[t].bind(this):window[t]?window[t]:(console.warn(`Formatter "${t}" not found.`),null)}catch(n){return console.error(`Error resolving formatter: ${n.message}`),null}}pageRowNum=function(e,t,n){var o=e.getRow(),s=e.getTable(),l=s.getPage()||1,r=s.getPageSize(),a=o.getPosition(!0);return(l-1)*r+a};resolveCellFormatter(e){try{if(e)return e.startsWith("function")?new Function("cell",`return (${e})(cell);`):this[e]?this[e].bind(this):window[e]?window[e]:e}catch(t){return console.error(`Error resolving formatter: ${t.message}`),null}}urlFormatter(e,t,n){let o=e.getColumn().getDefinition().formatterParams.routePrefix||"screen",s=e.getColumn().getDefinition().formatterParams.screen,l=e.getColumn().getDefinition().formatterParams.screen_id,r=e.getColumn().getDefinition().formatterParams.id_name,d=e.getData()._id,p="";return s?p=`/${o}/${s}/${d}`:p=`/${o}/${l}?${r}=${d}`,p}pageFormatter(e,t,n){let o=e.getColumn().getDefinition().formatterParams.page_id,l=e.getData()._id;return`/view/${o}?record_id=${l}`}linkFormatter(e,t,n){var o=e.getValue(),s=document.createElement("a");let l=e.getColumn().getDefinition().formatterParams.routePrefix||"screen",r=e.getColumn().getDefinition().formatterParams.screen,a=e.getColumn().getDefinition().formatterParams.screen_id,d=e.getColumn().getDefinition().formatterParams.id_name,u=e.getData()._id,m="";return r?m=`/${l}/${r}/${u}`:m=`/${l}/${a}?${d}=${u}`,s.setAttribute("href",m),t.target&&s.setAttribute("target",t.target),s.innerText=t.labelField?e.getData()[t.labelField]:o,t.attributes&&typeof t.attributes=="object"&&Object.entries(t.attributes).forEach(([h,g])=>{s.setAttribute(h,g)}),s}toggleSelect(e,t){t.getRow().toggleSelect()}headerMenu(){var e=[],t=this.table.getColumns();let n=this.createMenuLabel("Hide Filter",this.icons.eyeSlash);e.push({label:n,action:async s=>{let l=[],r=this.table.getColumns();s.stopPropagation();for(let a of r)await a.updateDefinition({headerFilter:!1})}});let o=this.createMenuLabel("Show Filter",this.icons.eye);e.push({label:o,action:s=>{let l=this.getColumnsConfig();s.stopPropagation(),this.table.setColumns(l)}}),e.push({separator:!0});for(let s of t){let l=this.createHeaderMenuIcon(s,this.icons.square,this.icons.squareCheck),r=document.createElement("span");r.classList.add("flex"),r.classList.add("flex-row"),r.classList.add("gap-2");let a=document.createElement("span");a.textContent=" "+s.getDefinition().title,a.textContent=a.textContent.replace("null","").replace("undefined",""),a.classList.add("pointer-events-none"),r.appendChild(l),r.appendChild(a),e.push({label:r,action:d=>{let{target:p}=d;d.stopPropagation(),s.toggle();let u=p.querySelector("path");u.setAttribute("d",s.isVisible()?this.icons.squareCheck.d:this.icons.square.d),u.classList.add("pointer-events-none"),this.table.redraw()}})}return e}createHeaderMenuIcon(e){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("aria-hidden","true"),t.setAttribute("focusable","false"),t.setAttribute("fill","currentColor"),t.classList.add("h-4"),t.classList.add("w-4"),t.classList.add("align-text-top"),t.classList.add("pointer-events-none"),t.setAttribute("viewBox",this.icons.square.viewport);let n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e.isVisible()?this.icons.squareCheck.d:this.icons.square.d),n.classList.add("pointer-events-none"),t.appendChild(n),t}createMenuLabel(e,t){let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("aria-hidden","true"),n.setAttribute("focusable","false"),n.setAttribute("fill","currentColor"),n.classList.add("h-4"),n.classList.add("w-4"),n.classList.add("align-text-top"),n.classList.add("pointer-events-none"),n.setAttribute("viewBox",t.viewport);let o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",t.d),o.classList.add("pointer-events-none"),n.appendChild(o);let s=document.createElement("span");s.classList.add("flex"),s.classList.add("flex-row"),s.classList.add("gap-2");let l=document.createElement("span");return l.textContent=" "+e,l.classList.add("pointer-events-none"),s.appendChild(n),s.appendChild(l),s}localdatetime(e,t,n){let{format:o}=t,s=e.getValue();if(!s)return"";let l=luxon.DateTime.DATETIME_MED;switch(o){case"DATE_SHORT":l=luxon.DateTime.DATE_SHORT;break;case"DATE_MED":l=luxon.DateTime.DATE_MED;break;case"DATE_MED_WITH_WEEKDAY":l=luxon.DateTime.DATE_MED_WITH_WEEKDAY;break;case"DATE_FULL":l=luxon.DateTime.DATE_FULL;break;case"DATE_HUGE":l=luxon.DateTime.DATE_HUGE;break;case"DATETIME_SHORT":l=luxon.DateTime.DATETIME_SHORT;break;case"DATETIME_STANDARD":l={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};break;case"DATETIME_SHORT_WITH_SECONDS":l=luxon.DateTime.DATETIME_SHORT_WITH_SECONDS;break;case"DATETIME_MED":l=luxon.DateTime.DATETIME_MED;break;case"DATETIME_MED_WITH_SECONDS":l=luxon.DateTime.DATETIME_MED_WITH_SECONDS;break;case"DATETIME_MED_WITH_WEEKDAY":l=luxon.DateTime.DATETIME_MED_WITH_WEEKDAY;break;case"DATETIME_FULL":l=luxon.DateTime.DATETIME_FULL;break;case"DATETIME_FULL_WITH_SECONDS":l=luxon.DateTime.DATETIME_FULL_WITH_SECONDS;break;case"DATETIME_HUGE":l=luxon.DateTime.DATETIME_HUGE;break;case"DATETIME_HUGE_WITH_SECONDS":l=luxon.DateTime.DATETIME_HUGE_WITH_SECONDS;break}let r=new Date(s);return isNaN(r)?"(Invalid Date)":luxon.DateTime.fromISO(s,{zone:"utc"}).setZone("America/New_York").toLocaleString(l)}linklocaldatetime(e,t,n){let o=this.urlFormatter(e,t,n),s=this.localdatetime(e,t,n);return`<a href="${o}">${s}</a>`}dateEditor(e,t,n,o){var s=luxon.DateTime.fromFormat(e.getValue(),"dd/MM/yyyy").toFormat("yyyy-MM-dd");input=document.createElement("input"),input.setAttribute("type","date"),input.style.padding="4px",input.style.width="100%",input.style.boxSizing="border-box",input.value=s,t(function(){input.focus(),input.style.height="100%"});function l(){input.value!=s?n(luxon.DateTime.fromFormat(input.value,"yyyy-MM-dd").toFormat("dd/MM/yyyy")):o()}return input.addEventListener("blur",l),input.addEventListener("keydown",function(r){r.keyCode==13&&l(),r.keyCode==27&&o()}),input}getAjaxConfig(){return{method:"GET",headers:{"Content-Type":"application/json"}}}getAjaxURLGenerator(e,t,n){let o=[],s=JSON.parse(this.getAttribute("ajax-params-map")||"{}");for(let[p,u]of Object.entries(s))o.push(`${u}=${n[p]}`);if(o.length===0){let{page:p,size:u}=n;if(p&&u)o.push(`page=${p}`),o.push(`size=${u}`);else{let m=this.getAttribute("record-size");m&&o.push(`size=${m}`)}}let l=JSON.parse(this.getAttribute("ajax-params")||"{}");for(let[p,u]of Object.entries(l))o.push(`${p}=${u}`);let{filter:r}=n;if(r&&r.length>0){let p=this.dedupeByField(r);o.push(`filter=${JSON.stringify(p)}`)}let{sort:a}=n;a&&a.length>0&&o.push(`sort=${JSON.stringify(a)}`);let d=o.join("&");return e.includes("?")?e+`&${d}`:e+`?${d}`}dedupeByField(e){let t=new Set;return e.filter(n=>t.has(n.field)?!1:(t.add(n.field),!0))}handleAjaxResponse(e,t,n){let{results:o}=n;if(this.hasAttribute("pagination")){let{data:s,last_page:l,last_row:r}=n;return s==null&&l===0?{last_page:0,last_row:0,data:[]}:s&&l&&r?{last_page:l,last_row:r,data:s}:{last_page:10,data:o}}else return o}_applyStyle(){this.loadStyle("wc-tabulator-style",`
  /* Tabulator */
  wc-tabulator {
    display: contents;
  }
  .wc-tabulator.tabulator {
    background-color: var(--card-bg-color);
    border: 1px solid var(--card-border-color);
  }
  .wc-tabulator.tabulator.rounded {
    border-radius: 10px;
  }

  /* Table Header */
  .wc-tabulator.tabulator .tabulator-header {
    border-bottom: none;
  }
  .wc-tabulator.tabulator .tabulator-header,
  .wc-tabulator.tabulator .tabulator-header .tabulator-col {
    color: var(--card-color);
    background-color: var(--card-border-color);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-col:not(:last-of-type) {
    border-right: 1px solid var(--text-3);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-col:last-of-type {
    border-right: 1px solid transparent;
  }
  /*Allow column header names to wrap lines*/
  .wc-tabulator.tabulator .tabulator-header .tabulator-col,
  .wc-tabulator.tabulator .tabulator-header .tabulator-col-row-handle {
    white-space: normal;
  }
  .wc-tabulator.tabulator .tabulator-header input,
  .wc-tabulator.tabulator .tabulator-row .tabulator-cell input {
    accent-color: var(--accent-color);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers .tabulator-col:hover {
    background-color: var(--primary-bg-color);
    color: var(--surface-1);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers .tabulator-col:hover input {
    color: var(--component-color);
  }

  /* Table Rows */
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd .tabulator-cell.tabulator-row-header.tabulator-row-handle,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd {
    color: var(--text-1);
    background-color: var(--card-bg-color);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even .tabulator-cell.tabulator-row-header.tabulator-row-handle,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even {
    color: var(--text-1);
    background-color: var(--surface-5);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd .tabulator-cell.tabulator-row-header.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even .tabulator-cell.tabulator-row-header.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar {
    background: var(--text-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row .tabulator-cell.tabulator-row-header.tabulator-row-handle {
      border-bottom: none;
  }
  .wc-tabulator .tabulator-row .tabulator-cell a {
    color: var(--text-1);
    text-decoration: underline;
    text-decoration-color: var(--text-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd.tabulator-selected,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even.tabulator-selected {
    background-color: var(--primary-bg-color);
    color: var(--surface-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd:hover:not(.tabulator-selected),
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even:hover:not(.tabulator-selected) 
  {
    background-color: var(--primary-bg-color);
    color: var(--surface-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd:hover:not(.tabulator-selected) a,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even:hover:not(.tabulator-selected) a 
  {
    color: var(--surface-1);
    text-decoration-color: var(--surface-1);
  }
  .wc-tabulator.tabulator.tabulator-block-select .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-placeholder {
    background-color: var(--secondary-bg-color);
  }
  .wc-tabulator .tabulator-row .tabulator-cell {
    border-right: 1px solid var(--text-3);
  }
  .wc-tabulator .tabulator-row .tabulator-cell:last-child {
    border-right: 1px solid transparent;
  }
  /*
  .wc-tabulator .tabulator-tableholder .tabulator-row .tabulator-cell {
    border-right: 1px solid var(--text-3);
  }
  */
  .wc-tabulator .tabulator-tableholder .tabulator-row .tabulator-cell:last-of-type {
    border-right: 1px solid transparent;
  }    

  /* Table Footer */
  .wc-tabulator.tabulator .tabulator-footer {
    border-top: none;
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents {
    color: var(--card-color);
    background-color: var(--card-border-color);
    border-top: 1px solid var(--text-3);
    border-top: 1px solid transparent;
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents .tabulator-page {
    color: var(--card-color);
    background-color: var(--card-border-color);
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents .tabulator-page.active {
    color: var(--card-color);
    background-color: var(--card-border-color);
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents .tabulator-page[disabled] {
    pointer-events: none;
  }

  /* Table Groups */
  .wc-tabulator.tabulator .tabulator-row.tabulator-group > span {
    color: var(--card-color);  
  }

  /* Table Calcs */
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-top,
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-bottom {
    color: var(--card-color) !important;
    background-color: var(--card-border-color) !important;

    /*
    border-color: var(--component-border-color);
    border-top: 1px solid var(--component-border-color);
    border-bottom: 1px solid var(--component-border-color);
    */
  } 
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-top {
    border-top: 1px solid var(--text-3);
    border-bottom: 1px solid var(--text-3);
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-bottom {
    border-top: 1px solid var(--text-3);
    border-bottom: 1px solid transparent;
  }

  
  .wc-tabulator.tabulator .tabulator-row.tabulator-unselectable.tabulator-calcs.tabulator-calcs-top,
  .wc-tabulator.tabulator .tabulator-row.tabulator-unselectable.tabulator-calcs.tabulator-calcs-bottom {
    color: var(--card-color) !important;
    background-color: var(--card-border-color) !important;
    /*
    border-color: var(--component-border-color);
    border-top: 1px solid var(--component-border-color);
    border-bottom: 1px solid var(--component-border-color);
    */
  } 

  /* Table Popup */
  .tabulator-menu.tabulator-popup-container {
    color: var(--text-1);
    background-color: var(--surface-1);
  }
  .tabulator-menu.tabulator-popup-container .tabulator-menu-item:hover {
    color: var(--card-color);
    background-color: var(--card-bg-color);
  }

  /* Tabulator Edit List / Popup Container */
  .tabulator-edit-list.tabulator-popup-container {
    color: var(--text-1);
    background-color: var(--surface-1);
  }
  .tabulator-edit-list-item.tabulator-edit-list-group-level-0 {
    color: var(--text-1);
  }
  .tabulator-edit-list-item.tabulator-edit-list-group-level-0:hover {
    color: var(--card-color);
    background-color: var(--card-bg-color);
  }
      `)}}customElements.define("wc-tabulator",c)}if(!customElements.get("wc-template-preview")){class c extends b{static get observedAttributes(){return[]}constructor(){super(),this.childComponentSelector="wc-input";let e=this.querySelector(".wc-template-preview");if(e)this.componentElement=e;else{this.componentElement=document.createElement("div");let t=this.getAttribute("cls")||"";this.componentElement.className=`wc-template-preview ${t}`,this.appendChild(this.componentElement),this._createElement()}console.log("ctor:wc-template-preview")}async _connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-template-preview")}_disconnectedCallback(){this._unWireEvents(),console.log("disconnectedCallback:wc-template-preview")}_createElement(){let e=this.getAttribute("record-id")||"",t=this.getAttribute("slug")||"",n=`<div class="flex flex-row justify-between">
            <wc-input name="preview_toggle" 
              class="row items-center gap-1"
              lbl-label="Preview"
              type="radio"
              radio-group-class="row modern text-2xs"
              value="off"
              >
              <option value="on">Show</option>
              <option value="off">Hide</option>
            </wc-input>
            <wc-input name="drag_toggle" 
              class="row items-center gap-1 hidden"
              lbl-label="Drag n Drop"
              type="radio"
              radio-group-class="row modern text-2xs"
              value="off"
              >
              <option value="on">Enable</option>
              <option value="off">Disable</option>
            </wc-input>
        </div>
      `,o="";e==="create"||e===""?o=`/v/${t}/create`:o=`/v/${t}/${e}`,this.src=o;let s=`${n}
        <iframe class="preview hidden"
                src=""
                style="height: calc(-360px + 100vh);"
                >
        </iframe>
      `.trim();this.componentElement.innerHTML=s}_handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_applyStyle(){let e=`
        wc-template-preview {
          display: contents;
        }
        .wc-template-preview {
        }
      `.trim();this.loadStyle("wc-template-preview-style",e)}_wireEvents(){super._wireEvents();let e=this.querySelector("iframe.preview"),n=this.querySelector('wc-input input[name="preview_toggle"]').closest("wc-input"),s=this.querySelector('wc-input input[name="drag_toggle"]').closest("wc-input");n.addEventListener("change",l=>{let{target:r}=l,a=s.querySelector(".wc-input");r.value==="on"?(e.src=this.src,a.classList.remove("hidden"),this.componentElement.classList.add("col-1"),e.classList.remove("hidden")):(e.src="",a.classList.add("hidden"),this.componentElement.classList.remove("col-1"),e.classList.add("hidden"))}),s.addEventListener("change",l=>{let{target:r}=l;r.value==="on"?(e.contentDocument.body.classList.add("preview-frame"),wc.EventHub.broadcast("wc-template-preview:enable-drag","","")):(e.contentDocument.body.classList.remove("preview-frame"),wc.EventHub.broadcast("wc-template-preview:disable-drag","",""))})}_unWireEvents(){super._unWireEvents();let e=this.querySelector("iframe.preview"),n=this.querySelector('wc-input input[name="preview_toggle"]').closest("wc-input"),s=this.querySelector('wc-input input[name="drag_toggle"]').closest("wc-input");n.removeEventListener("change",l=>{let{target:r}=l,a=s.querySelector(".wc-input");r.value==="on"?(e.src=this.src,a.classList.remove("hidden"),this.componentElement.classList.add("col-1"),e.classList.remove("hidden")):(e.src="",a.classList.add("hidden"),this.componentElement.classList.remove("col-1"),e.classList.add("hidden"))}),s.removeEventListener("change",l=>{let{target:r}=l;r.value==="on"?(e.contentDocument.body.classList.add("preview-frame"),wc.EventHub.broadcast("wc-template-preview:enable-drag","","")):(e.contentDocument.body.classList.remove("preview-frame"),wc.EventHub.broadcast("wc-template-preview:disable-drag","",""))})}}customElements.define("wc-template-preview",c)}var Q=class extends b{static get observedAttributes(){return["id","class","theme","mode"]}constructor(){super(),this.prefersDark=window.matchMedia("(prefers-color-scheme: dark)").matches,this.prefersLight=window.matchMedia("(prefers-color-scheme: light)").matches;let i=this.querySelector(".wc-theme-selector");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-theme-selector"),this.appendChild(this.componentElement)),console.log("ctor:wc-theme-selector")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-theme-selector")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="theme"?this.componentElement.querySelector(`button[data-theme="${e}"]`)?.click():super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-theme-selector > *")||(this.componentElement.innerHTML="",this._createInnerElement()),this._wireEvents(),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-theme-selector")}_createInnerElement(){let i=["theme-rose","theme-petal","theme-sunset","theme-peach","theme-fire","theme-desert","theme-golden","theme-honey","theme-amber","theme-olive","theme-moss","theme-avocado","theme-lime","theme-fern","theme-yellow","theme-meadow","theme-cornsilk","theme-sage","theme-forest","theme-jungle","theme-emerald","theme-mint","theme-turquoise","theme-aqua","theme-lagoon","theme-ice","theme-ocean","theme-azure","theme-sky","theme-midsky","theme-deepsky","theme-royal","theme-twilight","theme-lavender","theme-violet","theme-grape","theme-plum","theme-fuchsia","theme-cottoncandy","theme-blush","theme-bubblegum"],e=document.createElement("template");e.innerHTML=`
      <div class="relative row flex-wrap">
        ${i.map(t=>`
          <button class="theme-button flat h-10 w-10 rounded-t-md ${t}" type="button" data-theme="${t}" title="${t}">
            <svg class="selectmark h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
              <path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/>
            </svg>
          </button>
          `.trim()).join("")}
      </div>
      <wc-input name="theme_mode"
        class="col"
        lbl-label="Light or Dark?"
        type="checkbox"
        toggle-switch
        ${this.prefersDark?"checked":""}
        _="on change
          if me.value
            remove .light from document.documentElement
            add .dark to document.documentElement
          else
            remove .dark from document.documentElement
            add .light to document.documentElement
          end
        end"
        >
      </wc-input>
      `.trim(),this.componentElement.appendChild(e.content.cloneNode(!0))}_applyStyle(){this.loadStyle("wc-theme-selector-style",`
      wc-theme-selector {
        display: contents;
      }
      wc-theme-selector .wc-theme-selector {

      }
      wc-theme-selector .wc-theme-selector .theme-button {
        padding: 0;
      }
      wc-theme-selector .wc-theme-selector .selectmark {
        padding: 0;
        pointer-events: none;
      }
    `)}_handleThemeClick(i){let{target:e}=i;console.log("target",e);let t=e.getAttribute("data-theme");this._setTheme(e,t),localStorage.setItem("theme",t.replace("theme-",""))}_setTheme(i,e){this.componentElement.querySelectorAll("button[data-theme]").forEach(n=>{n.classList.remove("selected"),n.innerHTML=""}),i.classList.add("selected"),i.innerHTML=`<svg class="selectmark h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/>
      </svg>`.trim(),document.documentElement.classList.forEach(n=>{n.startsWith("theme-")&&document.documentElement.classList.remove(n)}),document.documentElement.classList.add(e)}_handleLoadTheme(){let e=`theme-${localStorage.getItem("theme")||"rose"}`,t=this.componentElement.querySelector(`button[data-theme="${e}"]`);this._setTheme(t,e)}_wireEvents(){super._wireEvents(),this.componentElement.querySelectorAll("button[data-theme]").forEach(e=>e.addEventListener("click",this._handleThemeClick.bind(this))),this.componentElement.addEventListener("load",this._handleLoadTheme.bind(this))}_unWireEvents(){super._unWireEvents(),this.componentElement.querySelectorAll("button[data-theme]").forEach(e=>e.removeEventListener("click",this._handleThemeClick.bind(this)))}};customElements.define("wc-theme-selector",Q);var ee=class extends b{static get observedAttributes(){return["id","class","items"]}constructor(){super(),this._items=[];let i=this.querySelector(".wc-timeline");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-timeline"),this.appendChild(this.componentElement)),console.log("ctor:wc-timeline")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-timeline")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-timeline > *")||(this._moveDeclarativeOptions(),this.componentElement.innerHTML="",this._items.forEach((e,t)=>{let n=this._createElement(e.label,e.content,t);this.componentElement.appendChild(n)})),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-timeline")}_createElement(i,e,t){let n="left";t%2!==0&&(n="right");let o=document.createElement("div");o.classList.add("timeline-container",n);let s=document.createElement("div");s.classList.add("timeline-card");let l=document.createElement("h2");l.textContent=i;let r=document.createElement("p");return r.textContent=e,s.appendChild(l),s.appendChild(r),o.appendChild(s),o}_applyStyle(){let i=`
      wc-timeline {
        display: contents;
      }
        
      .wc-timeline,
      .wc-timeline * {
        box-sizing: border-box;
      }

      .wc-timeline {
        position: relative;
        max-width: 1200px;
        margin: 0 auto;
      }

      /* The actual timeline (the vertical ruler) */
      .wc-timeline::after {
        content: '';
        position: absolute;
        width: 6px;
        background-color: var(--primary-bg-color);
        top: 0;
        bottom: 0;
        left: 50%;
        margin-left: -3px;
      }

      /* Container around content */
      .wc-timeline .timeline-container {
        padding: 10px 40px;
        position: relative;
        background-color: inherit;
        width: 50%;
      }

      /* The circles on the timeline */
      .wc-timeline .timeline-container::after {
        content: '';
        position: absolute;
        width: 25px;
        height: 25px;
        right: -17px;
        background-color: var(--component-color);
        border: 4px solid var(--container-border-color);
        top: 15px;
        border-radius: 50%;
        z-index: 1;
      }

      /* Place the container to the left */
      .wc-timeline .left {
        left: 0;
      }

      /* Place the container to the right */
      .wc-timeline .right {
        left: 50%;
      }

      /* Add arrows to the left container (pointing right) */
      .wc-timeline .left::before {
        content: " ";
        height: 0;
        position: absolute;
        top: 22px;
        width: 0;
        z-index: 1;
        right: 30px;
        border: medium solid white;
        border-width: 10px 0 10px 10px;
        border-color: transparent transparent transparent var(--card-bg-color);
      }

      /* Add arrows to the right container (pointing left) */
      .wc-timeline .right::before {
        content: " ";
        height: 0;
        position: absolute;
        top: 22px;
        width: 0;
        z-index: 1;
        left: 30px;
        border: medium solid white;
        border-width: 10px 10px 10px 0;
        border-color: transparent var(--card-bg-color); transparent transparent;
      }

      /* Fix the circle for containers on the right side */
      .wc-timeline .right::after {
        left: -16px;
      }

      /* The actual content */
      .wc-timeline .timeline-card {
        padding: 20px 30px;
        background-color: var(--card-bg-color);
        color: var(--card-color);
        position: relative;
        border-radius: 6px;
      }
      /* Media queries - Responsive timeline on screens less than 600px wide */
      @media screen and (max-width: 600px) {
        /* Place the timelime to the left */
        .wc-timeline::after {
          left: 31px;
        }
        
        /* Full-width containers */
        .wc-timeline .timeline-container {
          width: 100%;
          padding-left: 70px;
          padding-right: 25px;
        }
        
        /* Make sure that all arrows are pointing leftwards */
        .wc-timeline .timeline-container::before {
          left: 60px;
          border: medium solid white;
          border-width: 10px 10px 10px 0;
          border-color: transparent white transparent transparent;
        }

        /* Make sure all circles are at the same spot */
        .wc-timeline .left::after,
        .wc-timeline .right::after {
          left: 15px;
        }
        
        /* Make all right containers behave like the left ones */
        .wc-timeline .right {
          left: 0%;
        }
      }`.trim();this.loadStyle("wc-timeline-style",i)}_unWireEvents(){super._unWireEvents()}_moveDeclarativeOptions(){let i=this.querySelectorAll("option");i.length>0&&(this._items=[]),i.forEach((e,t)=>{let n={label:e.value,content:e.textContent.trim()};this._items.push(n)}),Array.from(i).forEach(e=>e.remove())}};customElements.define("wc-timeline",ee);if(!customElements.get("wc-article-skeleton")){class c extends b{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-article-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle();let e={detail:{}},t=new CustomEvent("load",e);this.dispatchEvent(t)}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="article-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-article-skeleton max-w-full m-4 border border-solid card-border-color p-4 space-y-8 animate-pulse md:space-y-0 md:space-x-8 rtl:space-x-reverse md:flex md:items-center",this.componentElement.innerHTML=`
        <div class="flex items-center justify-center w-full h-48 card-bg-color rounded-md sm:w-96">
          <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
            <path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"/>
          </svg>
        </div>
        <div class="w-full">
          <div class="h-2.5 card-bg-color rounded-full w-48 mb-4"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[480px] mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[440px] mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[460px] mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[360px]"></div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
wc-article-skeleton {
  display: contents;
}
wc-article-skeleton .wc-article-skeleton {
  background-color: var(--surface-1);
}
/* Space Utilities */
.space-y-8 > * + * {
  margin-top: 2rem;
}
.md:space-y-0 > * + * {
  margin-top: 0;
}
.md:space-x-8 > * + * {
  margin-left: 2rem;
}
.rtl:space-x-reverse > * + * {
  margin-left: 0;
  margin-right: 2rem;
}

.sm:w-96 {
  width: 24rem;
}
.max-w-[480px] {
  max-width: 480px;
}
.max-w-[440px] {
  max-width: 440px;
}
.max-w-[460px] {
  max-width: 460px;
}
.max-w-[360px] {
  max-width: 360px;
}
      `.trim();this.loadStyle("wc-article-skeleton",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-article-skeleton",c)}if(!customElements.get("wc-card-skeleton")){class c extends b{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-card-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="card-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-card-skeleton max-w-full m-4 p-4 border border-solid card-border-color rounded-md shadow animate-pulse md:p-6",this.componentElement.innerHTML=`
        <div class="flex items-center justify-center h-48 mb-4 card-bg-color rounded-md">
          <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 20">
              <path d="M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"/>
              <path d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"/>
          </svg>
        </div>
        <div class="h-2.5 card-bg-color rounded-full w-48 mb-4"></div>
        <div class="h-2 card-bg-color rounded-full mb-2.5"></div>
        <div class="h-2 card-bg-color rounded-full mb-2.5"></div>
        <div class="h-2 card-bg-color rounded-full"></div>
        <div class="flex items-center mt-4">
          <svg class="text-color-2 w-10 h-10 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"/>
            </svg>
            <div>
                <div class="h-2.5 card-bg-color rounded-full w-32 mb-2"></div>
                <div class="w-48 h-2 card-bg-color rounded-full"></div>
            </div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
      wc-card-skeleton {
        display: contents;
      }
      wc-card-skeleton .wc-card-skeleton {
        background-color: var(--surface-1);
      }
      `.trim()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-card-skeleton",c)}if(!customElements.get("wc-list-skeleton")){class c extends b{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-list-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="list-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-list-skeleton m-4 p-4 space-y-4 border border-solid card-border-color rounded-md shadow animate-pulse md:p-6",this.componentElement.innerHTML=`
        <div class="flex items-center justify-between">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
wc-list-skeleton {
  display: contents;
}
wc-list-skeleton .wc-list-skeleton {
  background-color: var(--surface-1);
}
/* Spacing */
.md:p-6 {
  padding: 1.5rem;
}
.space-y-4 > * + * {
  margin-top: 1rem;
}

/* Width and Height */
.max-w-md {
  max-width: 28rem;
}

/* Shadows */
.shadow {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
}
      `.trim();this.loadStyle("wc-list-skeleton-style",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-list-skeleton",c)}if(!customElements.get("wc-table-skeleton")){class c extends b{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-table-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="table-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-table-skeleton max-w-full m-4 p-4 space-y-4 border border-solid card-border-color rounded-md shadow animate-pulse md:p-6",this.componentElement.innerHTML=`
        <!-- Table Header Skeleton -->
        <div class="flex items-center justify-between">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <!-- Table Row Skeletons -->
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
wc-table-skeleton {
  display: contents;
}
wc-table-skeleton .wc-table-skeleton {
  background-color: var(--surface-1);
}
/* Spacing */
.md:p-6 {
  padding: 1.5rem;
}
.space-y-4 > * + * {
  margin-top: 1rem;
}

/* Shadows */
.shadow {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
}
      `.trim();this.loadStyle("wc-table-skeleton-style",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-table-skeleton",c)}var te=class extends b{static get observedAttributes(){return["id","class","size","speed","thickness"]}constructor(){super();let i=this.querySelector(".wc-loader");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-loader"),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-loader")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="size"?(this.componentElement.style.height=e,this.componentElement.style.width=e):i==="speed"?this.componentElement.style.animationDuration=e:i==="thickness"?this.componentElement.style.borderWidth=e:super._handleAttributeChange(i,e)}_render(){super._render();let i=this.querySelectorAll(".wc-loader > *");i.length>0&&(this.componentElement.innerHTML="",i.forEach(e=>this.componentElement.appendChild(e))),typeof htmx<"u"&&htmx.process(this)}_applyStyle(){let i=`
      wc-loader {
        display: contents;
      }

      wc-loader .wc-loader {
        border-width: 16px;
        border-style: solid;
        border-color: var(--primary-color);
        border-top-color: var(--primary-bg-color);
        border-radius: 50%;
        width: 120px;
        height: 120px;
        animation: loader-spin 2s linear infinite;
      }

      @keyframes loader-spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `.trim();this.loadStyle("wc-loader-style",i)}_handleHelper(i,e="show"){let{detail:t}=i,{selector:n}=t,o=Array.isArray(n);typeof n=="string"||o?document.querySelectorAll(n).forEach(l=>{l===this&&(e==="show"?this.componentElement.classList.remove("hidden"):e==="hide"?this.componentElement.classList.add("hidden"):e==="toggle"&&this.componentElement.classList.toggle("hidden"))}):document.querySelector(n)===this&&(e==="show"?this.componentElement.classList.remove("hidden"):e==="hide"?this.componentElement.classList.add("hidden"):e==="toggle"&&this.componentElement.classList.toggle("hidden"))}_handleShow(i){this._handleHelper(i,"show")}_handleHide(i){this._handleHelper(i,"hide")}_handleToggle(i){this._handleHelper(i,"toggle")}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-loader:show",this._handleShow.bind(this)),document.body.addEventListener("wc-loader:hide",this._handleHide.bind(this)),document.body.addEventListener("wc-loader:toggle",this._handleToggle.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-loader:show",this._handleShow.bind(this)),document.body.removeEventListener("wc-loader:hide",this._handleHide.bind(this)),document.body.removeEventListener("wc-loader:toggle",this._handleToggle.bind(this))}};customElements.define("wc-loader",te);var ne=class c extends HTMLElement{static get observedAttributes(){return["hx-get","hx-post","hx-put","hx-delete","hx-target","hx-trigger","hx-swap","hx-select","hx-push-url","hx-vals","hx-headers","hx-indicator","hx-params","hx-ext","hx-prompt","hx-confirm","hx-on","hx-include"]}constructor(){super(),this.classList.add("contents")}connectedCallback(){let i=this.parentElement;i?(this.applyAttributes(i),i.addEventListener("click",this.raiseEvent.bind(this))):console.warn("No parent container found for HTMX attributes.")}applyAttributes(i){c.observedAttributes.forEach(e=>{this.hasAttribute(e)&&i.setAttribute(e,this.getAttribute(e))}),c.observedAttributes.forEach(e=>{this.hasAttribute(e)&&this.removeAttribute(e)})}raiseEvent(i){let e=new CustomEvent("custom-event",{detail:"hello world"});document.body.dispatchEvent(e)}};customElements.define("wc-behavior",ne);if(!customElements.get("wc-visibility-change")){class c extends HTMLElement{static get observedAttributes(){return["hx-verb","hx-url","hx-target","hx-swap","hx-indicator","hx-push-url","hx-select"]}constructor(){super(),this.classList.add("contents"),this.handleVisibilityChange=this.handleVisibilityChange.bind(this),this._pendingAttributes={},this._isConnected=!1}async connectedCallback(){this._isConnected||(console.log("Initial visibility state:",document.visibilityState),console.log("Is document hidden?",document.hidden),document.addEventListener("visibilitychange",this.handleVisibilityChange)),this._isConnected=!0,this._applyPendingAttributes()}disconnectedCallback(){this.form&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange(){if(document.hidden)console.log("Tab is in the background");else{let e=this.getAttribute("hx-verb")||"GET",t=this.getAttribute("hx-url")||"",n=this.getAttribute("hx-target")||"",o=this.getAttribute("hx-swap")||"",s=this.getAttribute("hx-indicator")||"",l=this.getAttribute("hx-push-url")||"",r=this.getAttribute("hx-select")||"";htmx&&e&&t&&n&&o&&htmx.ajax(e,t,{target:n,swap:o,indicator:s,pushUrl:l,select:r}),console.log("Tab is in the foreground")}}attributeChangedCallback(e,t,n){this._isConnected?this._handleAttributeChange(e,n):this._pendingAttributes[e]=n}_applyPendingAttributes(){Object.keys(this._pendingAttributes).forEach(e=>{let t=this._pendingAttributes[e];this._handleAttributeChange(e,t)}),this._pendingAttributes={}}_handleAttributeChange(e,t){}}customElements.define("wc-visibility-change",c)}var oe=class extends HTMLElement{static get observedAttributes(){return["event-name","action","action-target"]}constructor(){super(),this.classList.add("contents")}connectedCallback(){let i=this.getAttribute("event-name")||"";i?document.body.addEventListener(i,this._handleEvent.bind(this)):console.warn("No event-name provided!")}disconnectedCallback(){let i=this.getAttribute("event-name")||"";i&&document.body.removeEventListener(i,this._handleEvent.bind(this))}_handleEvent(i){let{target:e,detail:t}=i,n=this.getAttribute("action-target")||"",o=document.querySelector(n);if(o){let{cls:s,action:l,item:r,selector:a}=t;if(l==="add-class")o.classList.add(s);else if(l==="remove-class")o.classList.remove(s);else if(l==="toggle-class")o.classList.toggle(s);else if(l==="add-item"){let d=document.createElement("div");d.innerHTML=r,o.appendChild(d.firstChild)}else l==="remove-item"?document.querySelector(a).remove():l==="click"&&document.querySelector(a).click()}console.log("_handleEvent:target",e,"detail:",t,"actionTarget:",n)}};customElements.define("wc-event-handler",oe);if(!customElements.get("wc-event-hub")){class c extends HTMLElement{events={};constructor(){super(),this.loadCSS=S.bind(this),this.loadScript=_.bind(this),this.loadLibrary=A.bind(this),this.loadStyle=L.bind(this),console.log("ctor:wc-event-hub")}connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):(window.wc||(window.wc={}),window.wc.EventHub=this,this._applyStyle()),console.log("conntectedCallback:wc-event-hub")}disconnectedCallback(){}broadcast(e,t,n,o){let s={detail:{selector:t,subSelector:n,custom:o}},l=new CustomEvent(e,s);document.body.dispatchEvent(l),window.parent.document&&window.parent.document.body.dispatchEvent(l)}_applyStyle(){this.loadStyle("wc-event-hub-style",`
      wc-event-hub {
        display: contents;
      }
      `)}}customElements.define("wc-event-hub",c)}if(!customElements.get("wc-mask-hub")){class c extends HTMLElement{static get observedAttributes(){return[]}constructor(){super(),this.loadCSS=S.bind(this),this.loadScript=_.bind(this),this.loadLibrary=A.bind(this),this.loadStyle=L.bind(this),console.log("ctor:wc-mask-hub")}async connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):(await this.renderMask(),this._applyStyle()),console.log("conntectedCallback:wc-mask-hub")}disconnectedCallback(){}async renderMask(){await Promise.all([this.loadLibrary("https://cdnjs.cloudflare.com/ajax/libs/imask/7.6.1/imask.min.js","IMask")]),window.wc||(window.wc={}),window.wc.MaskHub=this}phoneMask(e){let{target:t}=e,n=IMask(t,{mask:[{mask:"(000) 000-0000",startsWith:""}],dispatch:function(o,s){let l=(s.value+o).replace(/\D/g,"");return s.compiledMasks[0]}})}_applyStyle(){this.loadStyle("wc-mask-hub-style",`
      wc-mask-hub {
        display: contents;
      }
      `)}}customElements.define("wc-mask-hub",c)}if(!customElements.get("wc-hotkey")){class c extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.getAttribute("keys")||"",t=this.getAttribute("target")||"";if(!e||!t){console.error('WcHotkey requires "keys" and "target" attributes.');return}let n=document.querySelector(t);if(!n){console.error(`Target element not found for selector: ${t}`);return}let o=e.split("+"),s={metaKey:o.includes("cmd"),ctrlKey:o.includes("ctrl"),shiftKey:o.includes("shift"),altKey:o.includes("alt"),key:o.find(r=>!["cmd","ctrl","shift","alt"].includes(r))||""},l=r=>{s.metaKey===r.metaKey&&s.ctrlKey===r.ctrlKey&&s.shiftKey===r.shiftKey&&s.altKey===r.altKey&&s.key.toLowerCase()===r.key.toLowerCase()&&(r.preventDefault(),n.click())};document.addEventListener("keydown",l),this.cleanup=()=>{document.removeEventListener("keydown",l)}}disconnectedCallback(){this.cleanup&&this.cleanup()}}customElements.define("wc-hotkey",c)}if(!customElements.get("wc-link")){class c extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.getAttribute("url");if(e){let t=`wc-link-${this.id||this.dataset.id||crypto.randomUUID()}`;if(window.wc||(window.wc={}),window.wc.scriptsLoaded||(window.wc.linksLoaded={}),document.getElementById(t))console.log(`Link already exists, skipping append: ${e}`),document.body.dispatchEvent(new CustomEvent("link-loaded",{detail:{url:e},bubbles:!0,composed:!0}));else{let n=document.createElement("link");n.rel="stylesheet",n.href=e,n.id=t,n.onload=()=>{console.log(`Link loaded: ${e}`),window.wc.linksLoaded[e]=!0,document.body.dispatchEvent(new CustomEvent("link-loaded",{detail:{url:e},bubbles:!0,composed:!0}))},n.onerror=()=>{console.error(`Failed to load link: ${e}`),document.body.dispatchEvent(new CustomEvent("link-error",{detail:{url:e},bubbles:!0,composed:!0}))},document.head.appendChild(n),console.log(`Added link: ${e}`)}}else console.warn("No URL provided for wc-link component.");this.remove()}}customElements.define("wc-link",c)}if(!customElements.get("wc-script")){class c extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.getAttribute("src");if(window.wc||(window.wc={}),window.wc.scriptsLoaded||(window.wc.scriptsLoaded={}),e){let t=`wc-script-${this.id||this.dataset.id||crypto.randomUUID()}`;if(document.getElementById(t))console.log(`Script already exists, skipping append: ${e}`),document.body.dispatchEvent(new CustomEvent("script-loaded",{detail:{src:e},bubbles:!0,composed:!0}));else{let n=document.createElement("script");n.type="text/javascript",n.src=e,n.id=t,n.onload=()=>{console.log(`Script loaded: ${e}`),window.wc.scriptsLoaded[e]=!0,document.body.dispatchEvent(new CustomEvent("script-loaded",{detail:{src:e},bubbles:!0,composed:!0}))},n.onerror=()=>{console.error(`Failed to load script: ${e}`),document.body.dispatchEvent(new CustomEvent("script-error",{detail:{src:e},bubbles:!0,composed:!0}))},document.head.appendChild(n),console.log(`Added script: ${e}`)}}else console.warn("No src provided for wc-script component.");this.remove()}}customElements.define("wc-script",c)}if(!customElements.get("wc-javascript")){class c extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.textContent.trim();if(e){let t=`wc-javascript-${this.id||this.dataset.id||crypto.randomUUID()}`;if(document.getElementById(t)){console.log("Script already exists, skipping append:",t);let n=window.wc.scripts[t];n&&(console.log("Calling script function..."),n())}else{window.wc||(window.wc={}),window.wc.scripts||(window.wc.scripts={}),window.wc.loadCSS=S,window.wc.loadScript=_,window.wc.loadLibrary=A,window.wc.loadStyle=L;let n=this.hasAttribute("defer"),o=document.createElement("script");o.type="text/javascript",o.textContent=e,o.id=t,n&&o.setAttribute("defer",""),document.head.appendChild(o)}}this.textContent=""}}customElements.define("wc-javascript",c)}if(!customElements.get("wc-prompt")){class c extends HTMLElement{constructor(){super(),this.loadCSS=S.bind(this),this.loadScript=_.bind(this),this.loadLibrary=A.bind(this),this.loadStyle=L.bind(this),this.table=null,console.log("ctor:wc-prompt")}async connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):await this.renderPrompt(),this._applyStyle(),this.wireEvents(),console.log("conntectedCallback:wc-prompt")}disconnectedCallback(){this.unWireEvents()}async renderPrompt(){await Promise.all([this.loadCSS("https://unpkg.com/notie/dist/notie.min.css"),this.loadLibrary("https://unpkg.com/notie","notie"),this.loadLibrary("https://unpkg.com/sweetalert2@11.15.10/dist/sweetalert2.all.js","Swal")]),window.wc||(window.wc={}),window.wc.Prompt=this,wc.EventHub.broadcast("wc-prompt:ready","","")}banner(e){let{text:t="",type:n="info",stay:o=!1,time:s=3,position:l="top"}=e;notie.alert({type:n,text:t,stay:o,time:s,position:l})}toast(e){let{title:t="",icon:n="success",position:o="top-end"}=e;Swal.mixin({toast:!0,title:t,position:o,icon:n,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:l=>{l.addEventListener("mouseenter",Swal.stopTimer),l.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({})}async success(e){let{title:t="",text:n="",footer:o="",callback:s=null}=e,{value:l}=await Swal.fire({icon:"success",title:t,text:n,footer:o});return this.handleResult(e,l)}async error(e){let{title:t="",text:n="",footer:o="",callback:s=null}=e,{value:l}=await Swal.fire({icon:"error",title:t,text:n,footer:o});return this.handleResult(e,l)}async warning(e){let{title:t="",text:n="",footer:o="",callback:s=null}=e,{value:l}=await Swal.fire({icon:"warning",title:t,text:n,footer:o});return this.handleResult(e,l)}async info(e){let{title:t="",text:n="",footer:o="",callback:s=null}=e,{value:l}=await Swal.fire({icon:"info",title:t,text:n,footer:o});return this.handleResult(e,l)}async question(e){let{title:t="",text:n="",footer:o="",showCancelButton:s=!0,callback:l=null}=e,{value:r}=await Swal.fire({icon:"question",title:t,text:n,footer:o,showCancelButton:s});return this.handleResult(e,r)}async notify(e){let n=document.querySelector("body").dataset.theme,{icon:o="",title:s="",text:l="",showConfirmButton:r=!0,input:a="",inputOptions:d={},inputPlaceholder:p="",callback:u=null}=e,m={container:"",popup:n,header:"",title:"",closeButton:"",icon:"",image:"",htmlContainer:"",input:"",inputLabel:"",validationMessage:"",actions:"",confirmButton:"theme-ocean-blue",denyButton:"",cancelButton:"theme-slate-storm",loader:"",footer:"",timerProgressBar:""},{value:h}=await Swal.fire({customClass:m,icon:o,title:s,html:l,input:a,inputOptions:d,inputPlaceholder:p,backdrop:!1,focusConfirm:!1,showCancelButton:!0,showConfirmButton:r,willOpen:()=>{e.willOpen!==void 0&&e.willOpen()},didOpen:()=>{e.didOpen!==void 0&&e.didOpen()}});return this.handleResult(e,h)}async notifyTemplate(e){let n=document.querySelector("body").dataset.theme,{template:o="",didOpen:s=null,preConfirm:l=null,callback:r=null}=e,a={container:"",popup:n,header:"",title:"",closeButton:"",icon:"",image:"",htmlContainer:"",input:"",inputLabel:"",validationMessage:"",actions:"",confirmButton:"theme-ocean-blue",denyButton:"",cancelButton:"theme-slate-storm",loader:"",footer:"",timerProgressBar:""},{value:d}=await Swal.fire({customClass:a,template:o,didOpen:s,preConfirm:l,callback:r});return this.handleResult(e,d)}async fire(e){let s={...{container:"",popup:document.querySelector("body").dataset.theme,header:"",title:"",closeButton:"",icon:"",image:"",htmlContainer:"",input:"",inputLabel:"",validationMessage:"",actions:"",confirmButton:"theme-ocean-blue",denyButton:"",cancelButton:"theme-slate-storm",loader:"",footer:"",timerProgressBar:"",backdrop:!1,focusConfirm:!1,showCancelButton:!0,showConfirmButton:!0,willOpen:()=>{e.willOpen!==void 0&&e.willOpen()},didOpen:()=>{e.didOpen!==void 0&&e.didOpen()}},...e},{value:l}=await Swal.fire(s);return this.handleResult(e,l)}handleResult(e,t){if(t)return t.dismiss!==Swal.DismissReason.cancel&&t.value!==""?e.callback!==void 0?e.callback(t):t:e.callback(!1)}_applyStyle(){this.loadStyle("wc-prompt-style",`
      wc-prompt {
        display: contents;
      }
      .swal2-container .swal2-popup {
        background-color: var(--surface-5);
        color: var(--text-1);
      }
      .swal2-container .swal2-popup .swal2-title {
        color: var(--text-1);
      }
      .swal2-container .swal2-popup .swal2-html-container {
        background-color: var(--surface-5);
        color: var(--text-1);
        overflow: visible;
        text-align: inherit;
        z-index: auto;
      }
      .swal2-container .swal2-popup .swal2-actions .swal2-confirm {
        background-color: var(--primary-bg-color);
      }
      .swal2-container .swal2-popup .swal2-actions .swal2-cancel {
        background-color: var(--secondary-bg-color);
      }
      .swal2-container .swal2-popup input,
      .swal2-container .swal2-popup select,
      .swal2-container .swal2-popup textarea {
        background-color: var(--component-bg-color);
        border: 1px solid var(--component-border-color);
        border-radius: 0.375rem;
        color: var(--component-color);
        padding: 0.375rem;
      }
      `)}wireEvents(){document.body.addEventListener("wc-prompt:banner",e=>{this.banner(e.detail)}),document.body.addEventListener("wc-prompt:toast",e=>{this.toast(e.detail)}),document.body.addEventListener("wc-prompt:success",async e=>this.success(e.detail)),document.body.addEventListener("wc-prompt:error",async e=>this.error(e.detail)),document.body.addEventListener("wc-prompt:warning",async e=>this.warning(e.detail)),document.body.addEventListener("wc-prompt:info",async e=>this.info(e.detail)),document.body.addEventListener("wc-prompt:question",async e=>this.question(e.detail)),document.body.addEventListener("wc-prompt:notify",async e=>this.notify(e.detail)),document.body.addEventListener("wc-prompt:notify-template",async e=>this.notifyTemplate(e.detail))}unWireEvents(){document.body.removeEventListener("wc-prompt:banner",e=>{this.banner(e.detail)}),document.body.removeEventListener("wc-prompt:toast",e=>{this.toast(e.detail)}),document.body.removeEventListener("wc-prompt:success",async e=>this.success(e.detail)),document.body.removeEventListener("wc-prompt:error",async e=>this.error(e.detail)),document.body.removeEventListener("wc-prompt:warning",async e=>this.warning(e.detail)),document.body.removeEventListener("wc-prompt:info",async e=>this.info(e.detail)),document.body.removeEventListener("wc-prompt:question",async e=>this.question(e.detail)),document.body.removeEventListener("wc-prompt:notify",async e=>this.notify(e.detail)),document.body.removeEventListener("wc-prompt:notify-template",async e=>this.notifyTemplate(e.detail))}}customElements.define("wc-prompt",c)}if(!customElements.get("wc-notify")){class c extends HTMLElement{static get observedAttributes(){return["delay","position"]}constructor(){super(),this.loadCSS=S.bind(this),this.loadScript=_.bind(this),this.loadLibrary=A.bind(this),this.loadStyle=L.bind(this),this._defaultDelay=3e3,this._notifications=[],this._position="top-right",console.log("ctor:wc-notify")}async connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):await this.renderNotify(),this._applyStyle(),console.log("conntectedCallback:wc-notify")}disconnectedCallback(){}attributeChangedCallback(e,t,n){e==="delay"?this._defaultDelay=parseInt(n)||3e3:e==="position"&&["top-right","top-left","bottom-right","bottom-left"].includes(n)&&(this._position=n)}get delay(){return this._defaultDelay}get position(){return this._position}async renderNotify(){window.wc||(window.wc={}),window.wc.Notify=this,wc.EventHub.broadcast("wc-notify:ready","","")}showSuccess(e,t){this.showNotification(e,"success",t)}showError(e,t){this.showNotification(e,"error",t)}showInfo(e,t){this.showNotification(e,"info",t)}showNotification(e,t="info",n){let o=n!==void 0?n:this.delay,s=document.createElement("div");s.className=`notification ${t} ${this.position}`,s.innerHTML=`
          <i class="fas fa-${t==="success"?"check-circle":t==="error"?"exclamation-circle":"info-circle"}"></i>
          <span>${e}</span>
      `,this._notifications.push(s),this._updateNotificationPositions(),document.body.appendChild(s),setTimeout(()=>s.classList.add("show"),10),setTimeout(()=>{s.classList.remove("show"),setTimeout(()=>{s.remove();let l=this._notifications.indexOf(s);l>-1&&(this._notifications.splice(l,1),this._updateNotificationPositions())},300)},o)}_updateNotificationPositions(){let t=this.position.includes("bottom"),n=20;this._notifications.forEach((o,s)=>{t?(o.style.bottom=`${n}px`,o.style.top="auto"):(o.style.top=`${n}px`,o.style.bottom="auto"),o.offsetHeight?n+=o.offsetHeight+10:n+=70})}_applyStyle(){this.loadStyle("wc-notify-style",`
        wc-notify {
          display: contents;
        }
        /* Notifications */
        .notification {
            position: fixed;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transition: transform 0.3s, top 0.3s ease-out, bottom 0.3s ease-out;
            z-index: 2000;
        }

        /* Position-specific styles */
        .notification.top-right {
            right: 20px;
            transform: translateX(400px);
        }

        .notification.top-left {
            left: 20px;
            transform: translateX(-400px);
        }

        .notification.bottom-right {
            right: 20px;
            transform: translateX(400px);
        }

        .notification.bottom-left {
            left: 20px;
            transform: translateX(-400px);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid #2ecc71;
        }

        .notification.success i {
            color: #2ecc71;
        }

        .notification.error {
            border-left: 4px solid #e74c3c;
        }

        .notification.error i {
            color: #e74c3c;
        }

        .notification.info {
            border-left: 4px solid #3498db;
        }

        .notification.info i {
            color: #3498db;
        }
      `)}}customElements.define("wc-notify",c)}if(!customElements.get("wc-theme")){class c extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){this._handleLoadTheme()}_handleLoadTheme(){let t=`theme-${localStorage.getItem("theme")||"rose"}`;document.documentElement.classList.forEach(n=>{n.startsWith("theme-")&&document.documentElement.classList.remove(n)}),document.documentElement.classList.add(t)}}customElements.define("wc-theme",c)}var ie=class extends b{static get observedAttributes(){return["class"]}constructor(){super(),this.passThruAttributes=["id","name","method","action","hx-post","hx-put","hx-target","hx-swap","hx-push-url"],this.passThruEmptyAttributes=[],this.ignoreAttributes=[];let i=this.querySelector(".wc-form");i?this.componentElement=i:(this.componentElement=document.createElement("form"),this.componentElement.classList.add("wc-form"),this.appendChild(this.componentElement)),console.log("ctor:wc-form")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-form")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="test"||super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-form > *")||(this.componentElement.innerHTML="",this.passThruAttributes.forEach(e=>{if(this.hasAttribute(e)){let t=this.getAttribute(e);this.componentElement?.setAttribute(e,t)}}),this.passThruAttributes.forEach(e=>{this.removeAttribute(e)}),this._moveDeclarativeInner(),this._wireEvents()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-form")}_moveDeclarativeInner(){let i=this.querySelectorAll("wc-form > *:not(.wc-form)");i.length>0&&i.forEach(e=>this.componentElement.appendChild(e))}_handleSubmit(i){i.preventDefault();let{target:e}=i,t=this.componentElement.querySelectorAll("[disabled]");t.forEach(n=>n.disabled=!1),t.forEach(n=>n.removeAttribute("disabled")),e.submit(),t.forEach(n=>n.disabled=!0),t.forEach(n=>n.setAttribute("disabled",""))}_applyStyle(){let i=`
      wc-form {
        display: contents;
      }

      .wc-form {
        position: relative;
      }
    `.trim();this.loadStyle("wc-form-style",i)}_wireEvents(){super._wireEvents(),this.componentElement.addEventListener("submit",this._handleSubmit.bind(this))}_unWireEvents(){super._unWireEvents(),this.componentElement.removeEventListener("submit",this._handleSubmit.bind(this))}};customElements.define("wc-form",ie);var se=class c extends M{static get observedAttributes(){return["name","id","class","type","value","placeholder","lbl-label","lbl-class","radio-group-class","checked","disabled","readonly","required","autocomplete","autofocus","min","max","minlength","maxlength","pattern","step","multiple","novalidate","elt-class","toggle-swtich","list","onchange","oninput","onblur","onfocus","onkeydown","onkeyup","onkeypress","onclick","tooltip","tooltip-position"]}static get icons(){return[{name:"email-stroke",icon:`
          <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke-width="0.75" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"></path>
          </svg>
        `.trim()},{name:"email-fill",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="CurrentColor">
            <path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/>
          </svg>
        `.trim()},{name:"tel-stroke",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="0.75" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"></path>
          </svg>
        `.trim()},{name:"tel-fill",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor">
            <path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/>
          </svg>
        `.trim()},{name:"currency-circle",icon:`
          <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke-width="0.75" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        `.trim()},{name:"currency-symbol",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" fill="currentColor">
            <path d="M160 0c17.7 0 32 14.3 32 32l0 35.7c1.6 .2 3.1 .4 4.7 .7c.4 .1 .7 .1 1.1 .2l48 8.8c17.4 3.2 28.9 19.9 25.7 37.2s-19.9 28.9-37.2 25.7l-47.5-8.7c-31.3-4.6-58.9-1.5-78.3 6.2s-27.2 18.3-29 28.1c-2 10.7-.5 16.7 1.2 20.4c1.8 3.9 5.5 8.3 12.8 13.2c16.3 10.7 41.3 17.7 73.7 26.3l2.9 .8c28.6 7.6 63.6 16.8 89.6 33.8c14.2 9.3 27.6 21.9 35.9 39.5c8.5 17.9 10.3 37.9 6.4 59.2c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11l0 33.4c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-34.9c-.4-.1-.9-.1-1.3-.2l-.2 0s0 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.1-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.5 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.6 .4-16.7-1.3-20.4c-1.9-4-5.6-8.4-13-13.3c-16.4-10.7-41.5-17.7-74-26.3l-2.8-.7s0 0 0 0C119.4 279.3 84.4 270 58.4 253c-14.2-9.3-27.5-22-35.8-39.6c-8.4-17.9-10.1-37.9-6.1-59.2C23.7 116 52.3 91.2 84.8 78.3c13.3-5.3 27.9-8.9 43.2-11L128 32c0-17.7 14.3-32 32-32z"/>
          </svg>
        `.trim()},{name:"eye",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="currentColor">
            <path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"/>
          </svg>
        `.trim()},{name:"eye-slash",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor">
            <path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"/>
          </svg>
        `.trim()},{name:"lock",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor">
            <path d="M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"/>
          </svg>
        `.trim()},{name:"lock-open",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="currentColor">
            <path d="M352 144c0-44.2 35.8-80 80-80s80 35.8 80 80l0 48c0 17.7 14.3 32 32 32s32-14.3 32-32l0-48C576 64.5 511.5 0 432 0S288 64.5 288 144l0 48L64 192c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-32 0 0-48z"/>
          </svg>
        `.trim()}]}constructor(){super(),this.passThruAttributes=["autocomplete","placeholder","min","max","minlength","maxlength","pattern","step","multiple","list"],this.passThruEmptyAttributes=["autofocus","disabled","readonly","required","novalidate"],this.ignoreAttributes=["lbl-label","toggle-switch","tooltip","tooltip-position","select-on-focus"],this.eventAttributes=["onchange","oninput","onblur","onfocus","onkeydown","onkeyup","onkeypress","onclick"];let i=this.querySelector(".wc-input");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-input","relative"),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){if(this.eventAttributes.includes(i)){if(this.formElement&&e){let t=new Function("event",`
            const element = event.target;
            const value = element.value;
            const checked = element.checked;
            with (element) {
              ${e}
            }
          `),n=i.substring(2);this.formElement.addEventListener(n,t)}return}if(this.passThruAttributes.includes(i)&&this.formElement?.setAttribute(i,e),this.passThruEmptyAttributes.includes(i)&&((this.getAttribute("type")||"text")==="radio"?this.querySelectorAll('input[type="radio"]').forEach(o=>{o.setAttribute(i,"")}):this.formElement?.setAttribute(i,"")),this.ignoreAttributes.includes(i),i==="tooltip"||i==="tooltip-position"){this._createTooltipElement();return}if(i==="lbl-class"){let t=this.getAttribute("name");this.querySelector(`label[for="${t}"]`)?.classList.add(e)}else if(i==="radio-group-class"){let t=this.querySelector(".radio-group");e.split(" ").forEach(o=>{o&&t?.classList.add(o.trim())}),t?.classList.add("text-2xs")}else i==="type"?(this.formElement?.setAttribute("type",e),e==="checkbox"?this.hasAttribute("checked")?(this.formElement?.setAttribute("checked",""),this.formElement?.setAttribute("value","bool:True")):(this.formElement?.removeAttribute("checked"),this.formElement?.setAttribute("value","bool:False")):e==="currency"&&this.formElement?.setAttribute("type","number")):super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-input > *")||(this.componentElement.innerHTML="",this._createInnerElement()),this.eventAttributes.forEach(e=>{let t=this.getAttribute(e);t&&this._handleAttributeChange(e,t)}),this._createTooltipElement(),typeof htmx<"u"&&htmx.process(this)}_createInnerElement(){let i=this.getAttribute("lbl-label")||"",e=this.getAttribute("name"),t=this.getAttribute("type")||"text",n=this.hasAttribute("toggle-switch");if(i){let o=document.createElement("label"),s=this.getAttribute("value")||"";t==="range"&&s?o.textContent=`${i} (${s})`:o.textContent=i,o.setAttribute("for",e),this.componentElement.appendChild(o)}if(this.formElement=document.createElement("input"),this.formElement.setAttribute("form-element",""),this.formElement.setAttribute("type",t),t==="radio"){let o=[],s=this.querySelectorAll("option");s.forEach(r=>{let a=r.textContent.trim(),d=r.value.trim();o.push({key:a,value:d})}),s.forEach(r=>r.remove()),o.length==0&&(o=this.getAttribute("options")?JSON.parse(this.getAttribute("options")):[]);let l=document.createElement("div");l.classList.add("radio-group"),o.forEach(r=>{let a=document.createElement("label");a.classList.add("radio-option"),a.textContent=r.key;let d=document.createElement("input");d.setAttribute("type","radio"),d.setAttribute("name",e),d.setAttribute("value",r.value),r.value===this.getAttribute("value")&&d.setAttribute("checked",""),this.eventAttributes.forEach(p=>{let u=this.getAttribute(p);if(u){let m=p.substring(2),h=new Function("event",`
              const element = event.target;
              const value = element.value;
              const checked = element.checked;
              with (element) {
                ${u}
              }
            `);d.addEventListener(m,h)}}),a.prepend(d),l.appendChild(a)}),this.componentElement.appendChild(l)}else if(t==="checkbox"&&n){this.formElement.classList.add("toggle-checkbox");let o=document.createElement("div");o.classList.add("toggle-wrapper"),o.appendChild(this.formElement);let s=document.createElement("span");s.classList.add("toggle-switch"),o.appendChild(s),this.componentElement.appendChild(o);let l=document.createElement("input");l.name=e,l.type="hidden",l.checked=!0,l.value="bool:False",this.componentElement.appendChild(l)}else if(t==="currency"){this.formElement.setAttribute("type","number");let o=document.createElement("span");o.classList.add("icon");let s=c.icons.find(l=>l.name==="currency-symbol");o.innerHTML=s.icon,this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(o)}else if(t==="email"){let o=document.createElement("span");o.classList.add("icon");let s=c.icons.find(l=>l.name==="email-fill");o.innerHTML=s.icon,this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(o)}else if(t==="tel"){let o=document.createElement("span");o.classList.add("icon");let s=c.icons.find(l=>l.name==="tel-fill");o.innerHTML=s.icon,this.formElement.setAttribute("_",`on load or input
          call wc.MaskHub.phoneMask(event)
          me.setCustomValidity('')
        end`),this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(o)}else if(t==="password"){let o=document.createElement("span");o.classList.add("icon");let s=c.icons.find(a=>a.name==="lock");o.innerHTML=s.icon;let l=document.createElement("span");l.classList.add("icon","icon-right");let r=c.icons.find(a=>a.name==="eye");l.innerHTML=r.icon,l.style.cursor="pointer",l.addEventListener("click",()=>this._togglePasswordVisibility()),this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(o),this.componentElement.appendChild(l)}else this.componentElement.appendChild(this.formElement);this.hasAttribute("select-on-focus")&&this.formElement&&this.formElement.addEventListener("focus",o=>{setTimeout(()=>{o.target.select()},0)})}_createTooltipElement(){let i=this.querySelector(".wc-tooltip");i&&i.remove();let e=this.getAttribute("tooltip");if(!e)return;let t=document.createElement("div");t.className="wc-tooltip",t.textContent=e;let n=this.getAttribute("tooltip-position")||"top";t.setAttribute("data-position",n),this.formElement&&(this.formElement.style.anchorName=`--anchor-${this.getAttribute("name")}`,t.style.positionAnchor=`--anchor-${this.getAttribute("name")}`),this.componentElement.appendChild(t),this._wireTooltipEvents()}_wireTooltipEvents(){let i=this.querySelector(".wc-tooltip");if(!i)return;let e=()=>{if("showPopover"in HTMLElement.prototype){i.hasAttribute("popover")||i.setAttribute("popover","manual");try{i.isConnected&&!i.matches(":popover-open")&&i.showPopover()}catch{i.classList.add("show")}}else i.classList.add("show")},t=()=>{if("hidePopover"in HTMLElement.prototype&&i.hasAttribute("popover"))try{i.matches(":popover-open")&&i.hidePopover()}catch{i.classList.remove("show")}else i.classList.remove("show")};if(this.formElement&&(this.formElement.addEventListener("mouseenter",e),this.formElement.addEventListener("mouseleave",t),this.formElement.addEventListener("focus",e),this.formElement.addEventListener("blur",t)),this.getAttribute("type")==="radio"){let n=this.querySelector(".radio-group");n&&(n.addEventListener("mouseenter",e),n.addEventListener("mouseleave",t),n.style.anchorName=`--anchor-${this.getAttribute("name")}`,i.style.positionAnchor=`--anchor-${this.getAttribute("name")}`)}}_togglePasswordVisibility(){if(!this.formElement)return;let i=this.formElement.getAttribute("type"),e=this.componentElement.querySelector(".icon-right");if(i==="password"){this.formElement.setAttribute("type","text");let t=c.icons.find(n=>n.name==="eye-slash");e.innerHTML=t.icon}else{this.formElement.setAttribute("type","password");let t=c.icons.find(n=>n.name==="eye");e.innerHTML=t.icon}}_applyStyle(){let i=`
      wc-input {
        display: contents;
      }

      /* Autofill styles to prevent dark background */
      wc-input input:-webkit-autofill,
      wc-input input:-webkit-autofill:hover,
      wc-input input:-webkit-autofill:focus,
      wc-input input:-webkit-autofill:active {
        -webkit-background-clip: text;
        -webkit-text-fill-color: var(--text-1);
        transition: background-color 5000s ease-in-out 0s;
        box-shadow: inset 0 0 20px 20px var(--surface-3);
      }
      /*
      wc-input label {
        margin-bottom: 0.250rem;
      }
      wc-input input {
        background-color: var(--surface-3);
        border: 1px solid var(--surface-4);
        border-radius: 0.375rem;
        color: var(--text-1);
        padding: 0.375rem;
        width: 100%;
      }
      wc-input input:-webkit-autofill {
        background-color: var(--surface-3);
        color: var(--surface-4);
        box-shadow: 0 0 0px 1000px var(--surface-3) inset;
        -webkit-text-fill-color: var(--text-1);
        transition: background-color 5000s ease-in-out 0s;
      }
      input:focus-visible {
        outline: var(--surface-4) solid 2px;
        outline-offset: 0px;
      }
      input:user-invalid {
        outline: solid 2px var(--invalid-color);
        outline-offset: 0px;
      }
      input[type="checkbox"],
      input[type="range"] {
        background-color: var(--component-bg-color);
        border: 1px solid var(--component-border-color);
        accent-color: var(--component-bg-color);
      }
      input[type="checkbox"]:hover,
      input[type="range"]:hover {
        accent-color: var(--primary-bg-color);
      }
      input[type="button"] {
        position: relative;
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
        border: 1px solid var(--primary-bg-color);
        border: none;
        border-radius: 0.375rem;
        padding: 0.5rem;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }
      input[type="button"]:focus-visible {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 2px;  
      }
      input[type="button"]:disabled {
        cursor: not-allowed;
        opacity: 0.7;
      }
      input[type="button"]:hover:not(:disabled) {
        background-color: var(--primary-alt-bg-color);
      }
      */


      div.wc-input :disabled:not(.toggle-checkbox),
      div.wc-textarea :disabled,
      div.wc-select :disabled,
      div.wc-code-mirror :disabled 
      {
        cursor: not-allowed;
        opacity: 0.7;
        font-style: italic;  
      }
      div.wc-input label:has(:disabled),
      div.wc-textarea label:has(:disabled),
      div.wc-select label:has(:disabled),
      div.wc-code-mirror label:has(:disabled)
      {
        cursor: not-allowed;
      }
      div.wc-input:has(:disabled) label,
      div.wc-textarea:has(:disabled) label,
      div.wc-select:has(:disabled) label,
      div.wc-code-mirror:has(:disabled) label
      {
        opacity: 0.7;
        font-style: italic;
      }
      div.wc-input:has(:required) label,
      div.wc-textarea:has(:required) label,
      div.wc-select:has(:required) label,
      /*div.wc-code-mirror:has(:required) label*/
      div.wc-code-mirror[required] label
      {
        font-weight: bold;
      }
      div.wc-input:has(:required) label::after,
      div.wc-textarea:has(:required) label::after,
      div.wc-select:has(:required) label::after,
      /*div.wc-code-mirror:has(:required) label::after*/
      div.wc-code-mirror[required] label::after
      {
        content: ' *';
        font-weight: bold;
      }



      wc-input input {
        width: 100%;
      }
      wc-input .toggle-wrapper {
        position: relative;
        width: 50px;
        height: 22px;
        display: inline-block;
        margin-top: 0.25rem;
      }

      wc-input .toggle-checkbox {
        opacity: 0;
        width: 100%;
        height: 100%;
      }
      wc-input .toggle-checkbox:focus-visible + .toggle-switch {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 0px;
      }

      wc-input .toggle-switch {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--toggle-off);
        border: 1px solid var(--component-border-color);
        border-radius: 25px;
        /* cursor: pointer; */
        transition: background-color 0.4s;
        pointer-events: none;
      }

      .xdark wc-input .toggle-switch {
        background-color: var(--toggle-off);
        border: 1px solid var(--component-border-color);
        transition: background-color 0.25s;
      }

      wc-input .toggle-switch::before {
        position: absolute;
        content: "";
        height: 15px;
        width: 15px;
        left: 2px;
        bottom: 2px;
        background-color: var(--primary-bg-color);
        border: 1px solid var(--toggle-off);
        border-radius: 50%;
        transition: transform 0.4s;
      }

      wc-input .toggle-checkbox:checked + .toggle-switch::before {
        border: 1px solid var(--toggle-on);
      }
      wc-input .toggle-checkbox:checked + .toggle-switch {
        background-color: var(--toggle-on);
      }
      .xdark wc-input .toggle-checkbox:checked + .toggle-switch {
        background-color: var(--component-bg-color);
      }

      wc-input .toggle-checkbox:checked + .toggle-switch::before {
        transform: translateX(27px);
      }

      wc-input .toggle-checkbox:disabled + .toggle-switch {
        opacity: 0.7;
      }




      wc-input .radio-group {
        display: inline-flex;
        min-height: 34.5px;
      }
      wc-input .radio-group:not(.modern) {
        gap: 0.875rem;
      }
      wc-input .radio-group .radio-option {
        display: inline-flex;
        flex: 1 1 0%;
        align-items: center;
        justify-content: center;
        position: relative;
        outline: none;
      }
      wc-input .radio-group:not(.modern) .radio-option {
        padding-left: 12px;
        align-self: center;
        justify-content: left;
      }
      wc-input .radio-group.col:not(.modern) .radio-option {
        padding-left: 12px;
        align-self: self-start;
      }
      wc-input .radio-group.modern {
        border: 1px solid var(--component-bg-color);
        border-radius: 5px;
      }
      wc-input .radio-group.modern .radio-option {
        padding: 0 0.5rem;
        background-color: var(--component-bg-color);
        color: var(--primary-color);
        border-right: 1px solid var(--component-bg-color);
      }
      wc-input .radio-group.modern .radio-option:first-child {
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
      }
      wc-input .radio-group.modern .radio-option:last-child {
        border-right: none;
        border-top-right-radius: 5px;
        border-bottom-right-radius: 5px;
      }
      wc-input .radio-group .radio-option input[type="radio"] {
        opacity: 0;
        margin: 0;
      }
      wc-input .radio-group.modern .radio-option input[type="radio"] {
        position: absolute;
      }
      wc-input .radio-group.modern .radio-option:hover:not(:has(input[type="radio"]:disabled)) {
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
      }
      wc-input .radio-group.modern .radio-option:has(input[type="radio"]:checked) {
        background-color: var(--primary-bg-color);
        color: var(--secondary-alt-color);
      }
      wc-input .radio-group.modern:has(:focus-within) {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 0px;
        border: 1px solid transparent;
      }
      wc-input .radio-group:not(.modern) .radio-option::before {
        content: "";
        display: inline-block;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        border: 2px solid var(--component-border-color);
        background-color: var(--white-color);
        transition: border-color 0.3s;
        position: absolute;
        left: 0;
        top: 0;
      }
      wc-input .radio-group:not(.modern) .radio-option:has(:checked)::after {
        content: "";
        display: inline-block;
        width: 10px; /* Slightly smaller than outer circle */
        height: 10px;
        border-radius: 50%;
        background-color: var(--primary-bg-color);
        position: absolute;
        left: 5px;
        top: 5px;
        transition: background-color 0.3s;
      }
      wc-input .radio-option:hover::before {
        border-color: var(--secondary-bg-color);
      }
      wc-input .radio-group:not(.modern) .radio-option:focus-within::after {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 0px;
      }




      wc-input input[type="email"] {
        padding-left: 25px;
        min-width: 130px;
      }
      wc-input input[type="email"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }


      wc-input input[type="tel"] {
        padding-left: 25px;
        min-width: 130px;
      }
      wc-input input[type="tel"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }

      wc-input[type="currency"] input[type="number"] {
        padding-left: 25px;
      }
      wc-input[type="currency"] input[type="number"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }

      wc-input input[type="password"] {
        padding-left: 25px;
        padding-right: 30px;
      }
      wc-input input[type="password"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }
      wc-input input[type="password"] ~ .icon-right {
        position: absolute;
        top: 25px;
        right: 8px;
      }
      
      /* When password is toggled to text, maintain the padding and icon positions */
      wc-input:has(.icon-right) input[type="text"] {
        padding-left: 25px;
        padding-right: 30px;
      }
      wc-input:has(.icon-right) input[type="text"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }
      wc-input input[type="text"] ~ .icon-right {
        position: absolute;
        top: 25px;
        right: 8px;
      }






    /* Tooltip styles with Anchor Positioning API */
      wc-input .wc-tooltip {
        position: absolute;
        background-color: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 6px 12px;
        border-radius: 4px;
        font-size: 0.75rem;
        white-space: normal;
        word-wrap: break-word;
        pointer-events: none;
        z-index: 10000;
        max-width: 250px;
        margin: 0;
        border: 0;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.2s, visibility 0.2s;
      }

      /* Show states */
      wc-input .wc-tooltip.show,
      wc-input .wc-tooltip:popover-open {
        opacity: 1;
        visibility: visible;
      }

      /* Popover specific resets */
      wc-input .wc-tooltip[popover] {
        inset: unset;
      }

      /* Anchor positioning when supported */
      @supports (anchor-name: --test) {
        wc-input .wc-tooltip {
          position-try-options: flip-block, flip-inline, flip-block flip-inline;
        }

        wc-input .wc-tooltip.show {
          opacity: 1;
          visibility: visible;
        }
      }

      /* Popover API styles */
      wc-input .wc-tooltip[popover] {
        margin: 0;
        border: 0;
        padding: 6px 12px;
        overflow: visible;
      }

      wc-input .wc-tooltip:popover-open {
        opacity: 1;
        visibility: visible;
      }

      /* Position variations using anchor positioning */
      wc-input .wc-tooltip[data-position="top"] {
        bottom: anchor(top);
        left: anchor(center);
        translate: -50% -8px;

        /* Fallback for position-try */
        position-try-fallbacks:
          bottom-then-top,
          snap-to-edge;
      }

      wc-input .wc-tooltip[data-position="bottom"] {
        top: anchor(bottom);
        left: anchor(center);
        translate: -50% 8px;

        position-try-fallbacks:
          top-then-bottom,
          snap-to-edge;
      }

      wc-input .wc-tooltip[data-position="left"] {
        right: anchor(left);
        top: anchor(center);
        translate: -8px -50%;

        position-try-fallbacks:
          right-then-left,
          snap-to-edge;
      }

      wc-input .wc-tooltip[data-position="right"] {
        left: anchor(right);
        top: anchor(center);
        translate: 8px -50%;

        position-try-fallbacks:
          left-then-right,
          snap-to-edge;
      }

      /* Try to keep tooltip in viewport */
      @position-try bottom-then-top {
        bottom: auto;
        top: anchor(bottom);
        translate: -50% 8px;
      }

      @position-try top-then-bottom {
        top: auto;
        bottom: anchor(top);
        translate: -50% -8px;
      }

      @position-try right-then-left {
        right: auto;
        left: anchor(right);
        translate: 8px -50%;
      }

      @position-try left-then-right {
        left: auto;
        right: anchor(left);
        translate: -8px -50%;
      }

      @position-try snap-to-edge {
        position: absolute;
        inset: auto;
        top: 0;
        left: 0;
      }

      /* Arrow styles - hidden when position changes */
      wc-input .wc-tooltip::before {
        content: '';
        position: absolute;
        width: 0;
        height: 0;
        border: 6px solid transparent;
      }

      wc-input .wc-tooltip[data-position="top"]::before {
        border-top-color: rgba(0, 0, 0, 0.9);
        bottom: -12px;
        left: 50%;
        transform: translateX(-50%);
      }

      wc-input .wc-tooltip[data-position="bottom"]::before {
        border-bottom-color: rgba(0, 0, 0, 0.9);
        top: -12px;
        left: 50%;
        transform: translateX(-50%);
      }

      wc-input .wc-tooltip[data-position="left"]::before {
        border-left-color: rgba(0, 0, 0, 0.9);
        right: -12px;
        top: 50%;
        transform: translateY(-50%);
      }

      wc-input .wc-tooltip[data-position="right"]::before {
        border-right-color: rgba(0, 0, 0, 0.9);
        left: -12px;
        top: 50%;
        transform: translateY(-50%);
      }

      /* Fallback positioning for older browsers */
      @supports not (anchor-name: --test) {
        wc-input .wc-tooltip[data-position="top"] {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          margin-bottom: 8px;
        }

        wc-input .wc-tooltip[data-position="bottom"] {
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
          margin-top: 8px;
        }

        wc-input .wc-tooltip[data-position="left"] {
          position: absolute;
          right: 100%;
          top: 50%;
          transform: translateY(-50%);
          margin-right: 8px;
        }

        wc-input .wc-tooltip[data-position="right"] {
          position: absolute;
          left: 100%;
          top: 50%;
          transform: translateY(-50%);
          margin-left: 8px;
        }
      }

    `.trim();this.loadStyle("wc-input-style",i)}_unWireEvents(){super._unWireEvents();let i=this.querySelector(".wc-tooltip");i&&(i.popover&&i.matches(":popover-open")&&i.hidePopover(),i.remove()),this.formElement&&(this.formElement.style.anchorName="");let e=this.querySelector(".radio-group");e&&(e.style.anchorName="")}};customElements.define("wc-input",se);var le=class extends M{static get observedAttributes(){return["name","id","class","multiple","value","items","url","display-member","value-member","lbl-label","disabled","required","autofocus","elt-class","onchange","oninput","onblur","onfocus","onkeydown","onkeyup","onkeypress","onclick","tooltip","tooltip-position"]}constructor(){super(),this.selectedOptions=[],this.mode=this.getAttribute("mode")||"chip",this.hasAttribute("mode")||(this.mode="standard"),this.highlightedIndex=-1,this.eventAttributes=["onchange","oninput","onblur","onfocus","onkeydown","onkeyup","onkeypress","onclick"];let i=this.querySelector(".wc-select");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-select","relative"),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){if(i==="tooltip"||i==="tooltip-position"){this._createTooltipElement();return}if(this.eventAttributes.includes(i)){if(this.formElement&&e){let t=i.substring(2);this._eventHandlers||(this._eventHandlers={}),this._eventHandlers[t]&&this.formElement.removeEventListener(t,this._eventHandlers[t]);let n=new Function("event",`
          const element = event.target;
          const value = element.value;
          with (element) {
            ${e}
          }
        `);this._eventHandlers[t]=n,this.formElement.addEventListener(t,n)}return}if(this.eventAttributes.includes(i)){if(this.formElement&&e){let t=new Function("event",`
          const element = event.target;
          const value = element.value;
          with (element) {
            ${e}
          }
        `),n=i.substring(2);this.formElement.addEventListener(n,t)}return}i==="autofocus"?this.formElement?.setAttribute("autofocus",""):i==="url"?e&&fetch(e).then(t=>t.json()).then(t=>{this._items=t,this._generateOptionsFromItems(),this._items.forEach(n=>{if(n.selected){let o=this.getAttribute("display-member")||"key",s=this.getAttribute("value-member")||"value";this.addChip(n[s],n[o])}})}):i==="items"?(typeof e=="string"&&(this._items=JSON.parse(e),this._generateOptionsFromItems(),this._items.forEach(t=>{if(t.selected){let n=this.getAttribute("display-member")||"key",o=this.getAttribute("value-member")||"value";this.addChip(t[o],t[n])}})),this.removeAttribute("items")):i==="disabled"?this.formElement?.setAttribute("disabled",""):i==="required"?this.formElement?.setAttribute("required",""):i==="multiple"?this.formElement?.setAttribute("multiple",""):i==="lbl-label"||i==="value-member"||i==="display-member"||super._handleAttributeChange(i,e)}_render(){super._render(),this.querySelector(".wc-select > *")||(this.componentElement.innerHTML="",this._createInnerElement(),this.mode==="chip"&&this.querySelectorAll("option[selected]").forEach(t=>{this.addChip(t.value,t.textContent)})),this.eventAttributes.forEach(e=>{let t=this.getAttribute(e);t&&this._handleAttributeChange(e,t)}),this._createTooltipElement(),typeof htmx<"u"&&htmx.process(this)}_createInnerElement(){let i=this.getAttribute("lbl-label")||"",e=this.getAttribute("name"),t=this.querySelectorAll("option");if(this.hasAttribute("lbl-label")){let s=document.createElement("label");s.textContent=i,this.getAttribute("mode")==="chip"?s.setAttribute("for","dropdownInput"):s.setAttribute("for",e),this.componentElement.appendChild(s)}let n=document.createElement("select");n.id=e,n.name=e,this.getAttribute("multiple")&&(n.multiple=!0,n.setAttribute("multiple",""));let o=this.getAttribute("size");if(o&&n.setAttribute("size",o),t.forEach(s=>{n.appendChild(s)}),this.formElement=n,this.getAttribute("mode")==="chip"){n.name=e;let s=document.createElement("div");s.classList.add("row");let l=document.createElement("div");l.classList.add("chip-container"),l.id="chipContainer",s.appendChild(l);let r=document.createElement("div");r.classList.add("dropdown");let a=document.createElement("input");a.classList.add("dropdown-input"),a.id="dropdownInput",a.setAttribute("placeholder","Add or select..."),this.eventAttributes.forEach(p=>{let u=this.getAttribute(p);if(u&&p!=="onchange"){let m=p.substring(2),h=new Function("event",`
            const element = event.target;
            const value = element.value;
            with (element) {
              ${u}
            }
          `);a.addEventListener(m,h)}}),this.hasAttribute("disabled")&&a.setAttribute("disabled",""),this.hasAttribute("required")&&a.setAttribute("required",""),r.appendChild(a);let d=document.createElement("div");d.classList.add("options-container"),d.id="optionsContainer",d.innerHTML=Array.from(t).map(p=>`<div class="option" data-value="${p.value}">${p.textContent}</div>`).join(""),r.appendChild(d),r.appendChild(n),s.appendChild(r),this.componentElement.appendChild(s)}else this.componentElement.appendChild(n);this.removeAttribute("name"),this.attachEventListeners()}_generateOptionsFromItems(){let i=this.getAttribute("display-member")||"key",e=this.getAttribute("value-member")||"value",t=this.getAttribute("value")||null;this.formElement.innerHTML="",this._items.forEach(o=>{let s=document.createElement("option");typeof o=="object"?(s.value=o[e],s.textContent=o[i]):(s.value=o,s.textContent=o),s.value==t&&(s.selected=!0),this.formElement.appendChild(s)});let n=this.querySelector(".options-container");if(n){let o=this.formElement.querySelectorAll("option");n.innerHTML=Array.from(o).map(s=>`<div class="option" data-value="${s.value}">${s.textContent}</div>`).join("")}}_createTooltipElement(){let i=this.querySelector(".wc-tooltip");i&&i.remove();let e=this.getAttribute("tooltip");if(!e)return;let t=document.createElement("div");t.className="wc-tooltip",t.textContent=e;let n=this.getAttribute("tooltip-position")||"top";t.setAttribute("data-position",n);let o=`--anchor-${this.getAttribute("name")||Date.now()}`;this.formElement&&(this.formElement.style.anchorName=o,t.style.positionAnchor=o),this.componentElement.appendChild(t),this._wireTooltipEvents()}_wireTooltipEvents(){let i=this.querySelector(".wc-tooltip");if(!i)return;let e=()=>{if("showPopover"in HTMLElement.prototype){i.hasAttribute("popover")||i.setAttribute("popover","manual");try{i.isConnected&&!i.matches(":popover-open")&&i.showPopover()}catch{i.classList.add("show")}}else i.classList.add("show")},t=()=>{if("hidePopover"in HTMLElement.prototype&&i.hasAttribute("popover"))try{i.matches(":popover-open")&&i.hidePopover()}catch{i.classList.remove("show")}else i.classList.remove("show")};if(this.formElement&&(this.formElement.addEventListener("mouseenter",e),this.formElement.addEventListener("mouseleave",t),this.formElement.addEventListener("focus",e),this.formElement.addEventListener("blur",t)),this.mode==="chip"){let n=this.querySelector("#dropdownInput");n&&(n.addEventListener("mouseenter",e),n.addEventListener("mouseleave",t),n.addEventListener("focus",e),n.addEventListener("blur",t))}}_applyStyle(){let i=`
      wc-select {
        display: contents;
      }
      wc-select .chip-container { 
        display: none;
        flex-wrap: wrap; 
        gap: 5px; 
        margin-bottom: 5px; 
      }
      wc-select[mode="chip"] .chip-container { 
        display: flex; 
      }

      wc-select .chip { 
        display: flex; 
        align-items: center; 
        padding: 5px; 
        background-color: var(--primary-bg-color); 
        color: var(--primary-color);
        border-radius: 15px; 
        font-size: 0.75rem; /* 12px */
        line-height: 1rem; /* 16px */
      }
      wc-select .chip-close { 
        margin-left: 5px; 
        cursor: pointer; 
        font-weight: bold; 
      }
      wc-select:has(:disabled) .chip {
        opacity: 0.7;
        font-style: italic;
      }
      wc-select:has(:disabled) .chip .chip-close {
        display: none;
      }
      wc-select .dropdown { 
        display: flex; 
        flex-direction: row;
        flex: 1 1 0%;
        position: relative; 
      }
      wc-select .dropdown-input { 
        display: none;
        width: 100%;
        min-width: 85px;
        padding: 0.375rem;
      }
      wc-select .chip-container:has(.chip) + .dropdown .dropdown-input {
        margin-left: 0.5rem;
      }
      wc-select[mode="chip"] .dropdown-input { 
        display: block; 
      }
      wc-select .options-container { 
        display: none;
        position: absolute; 
        top: 29.5px; 
        left: 0; 
        right: 0; 
        background: var(--secondary-bg-color); 
        color: var(--primary-color);
        border: 1px solid var(--accent-bg-color); 
        max-height: 150px;
        margin-left 0.5rem;
        overflow-y: auto; 
        z-index: 10; 
      }

      wc-select[mode="chip"] .options-container { 
        display: none;
      }
      wc-select .chip-container:has(.chip) + .dropdown .options-container {
        margin-left: 0.5rem;
      }
      wc-select .option { 
        padding: 5px; 
        cursor: pointer; 
      }
      wc-select .option.highlighted { 
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
      }
      wc-select .option:hover { 
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
      }
      wc-select select { 
        display: block; 
        width: 100%; 
        padding: 5px; 
      }
      wc-select[mode="multiple"] select { 
        display: block;
      }
      wc-select[mode="chip"] select { 
        display: none;
      }
      wc-select select:disabled { 
        cursor: not-allowed;
        opacity: 0.7;
        font-style: italic;
      }
      wc-select select:disabled option {
        color: var(--component-alt-color);
      }
      wc-select .dropdown-input:disabled {
        cursor: not-allowed;
        opacity: 0.7;
        font-style: italic;
      }



      

      /* Tooltip styles with Anchor Positioning API */
        wc-select .wc-tooltip {
          position: absolute;
          background-color: rgba(0, 0, 0, 0.9);
          color: white;
          padding: 6px 12px;
          border-radius: 4px;
          font-size: 0.75rem;
          white-space: normal;
          word-wrap: break-word;
          pointer-events: none;
          z-index: 10000;
          max-width: 250px;
          margin: 0;
          border: 0;
          opacity: 0;
          visibility: hidden;
          transition: opacity 0.2s, visibility 0.2s;
        }

        /* Show states */
        wc-select .wc-tooltip.show,
        wc-select .wc-tooltip:popover-open {
          opacity: 1;
          visibility: visible;
        }

        /* Popover specific resets */
        wc-select .wc-tooltip[popover] {
          inset: unset;
        }

        /* Anchor positioning when supported */
        @supports (anchor-name: --test) {
          wc-select .wc-tooltip {
            position-try-options: flip-block, flip-inline, flip-block flip-inline;
          }

          wc-select .wc-tooltip.show {
            opacity: 1;
            visibility: visible;
          }
        }

        /* Popover API styles */
        wc-select .wc-tooltip[popover] {
          margin: 0;
          border: 0;
          padding: 6px 12px;
          overflow: visible;
        }

        wc-select .wc-tooltip:popover-open {
          opacity: 1;
          visibility: visible;
        }

        /* Position variations using anchor positioning */
        wc-select .wc-tooltip[data-position="top"] {
          bottom: anchor(top);
          left: anchor(center);
          translate: -50% -8px;

          /* Fallback for position-try */
          position-try-fallbacks:
            bottom-then-top,
            snap-to-edge;
        }

        wc-select .wc-tooltip[data-position="bottom"] {
          top: anchor(bottom);
          left: anchor(center);
          translate: -50% 8px;

          position-try-fallbacks:
            top-then-bottom,
            snap-to-edge;
        }

        wc-select .wc-tooltip[data-position="left"] {
          right: anchor(left);
          top: anchor(center);
          translate: -8px -50%;

          position-try-fallbacks:
            right-then-left,
            snap-to-edge;
        }

        wc-select .wc-tooltip[data-position="right"] {
          left: anchor(right);
          top: anchor(center);
          translate: 8px -50%;

          position-try-fallbacks:
            left-then-right,
            snap-to-edge;
        }

        /* Try to keep tooltip in viewport */
        @position-try bottom-then-top {
          bottom: auto;
          top: anchor(bottom);
          translate: -50% 8px;
        }

        @position-try top-then-bottom {
          top: auto;
          bottom: anchor(top);
          translate: -50% -8px;
        }

        @position-try right-then-left {
          right: auto;
          left: anchor(right);
          translate: 8px -50%;
        }

        @position-try left-then-right {
          left: auto;
          right: anchor(left);
          translate: -8px -50%;
        }

        @position-try snap-to-edge {
          position: absolute;
          inset: auto;
          top: 0;
          left: 0;
        }

        /* Arrow styles - hidden when position changes */
        wc-select .wc-tooltip::before {
          content: '';
          position: absolute;
          width: 0;
          height: 0;
          border: 6px solid transparent;
        }

        wc-select .wc-tooltip[data-position="top"]::before {
          border-top-color: rgba(0, 0, 0, 0.9);
          bottom: -12px;
          left: 50%;
          transform: translateX(-50%);
        }

        wc-select .wc-tooltip[data-position="bottom"]::before {
          border-bottom-color: rgba(0, 0, 0, 0.9);
          top: -12px;
          left: 50%;
          transform: translateX(-50%);
        }

        wc-select .wc-tooltip[data-position="left"]::before {
          border-left-color: rgba(0, 0, 0, 0.9);
          right: -12px;
          top: 50%;
          transform: translateY(-50%);
        }

        wc-select .wc-tooltip[data-position="right"]::before {
          border-right-color: rgba(0, 0, 0, 0.9);
          left: -12px;
          top: 50%;
          transform: translateY(-50%);
        }

        /* Fallback positioning for older browsers */
        @supports not (anchor-name: --test) {
          wc-select .wc-tooltip[data-position="top"] {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 8px;
          }

          wc-select .wc-tooltip[data-position="bottom"] {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-top: 8px;
          }

          wc-select .wc-tooltip[data-position="left"] {
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            margin-right: 8px;
          }

          wc-select .wc-tooltip[data-position="right"] {
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            margin-left: 8px;
          }
        }
    `.trim();this.loadStyle("wc-select-style",i)}attachEventListeners(){let i=this.querySelector("#dropdownInput"),e=this.querySelector("#optionsContainer"),t=this.querySelector("#chipContainer");this.mode==="chip"&&i&&(i?.addEventListener("focus",()=>e.style.display="block"),i?.addEventListener("input",()=>this.filterOptions(i.value)),e?.addEventListener("click",n=>{n.target.classList.contains("option")&&(this.addChip(n.target.getAttribute("data-value"),n.target.textContent),e.style.display="none",i.value="")}),i?.addEventListener("keydown",n=>this.handleKeyboardNavigation(n)),document.addEventListener("click",n=>{this.contains(n.target)||(e.style.display="none")}),t?.addEventListener("click",n=>{if(n.target.classList.contains("chip-close")){let s=n.target.closest(".chip").getAttribute("data-value");this.removeChip(s)}}))}handleKeyboardNavigation(i){let e=this.querySelector("#optionsContainer"),t=Array.from(e.querySelectorAll(".option")).filter(o=>o.style.display!=="none"),n=this.hasAttribute("allow-dynamic");if(i.key==="ArrowDown")i.preventDefault(),this.highlightedIndex=(this.highlightedIndex+1)%t.length,this.updateHighlight(t);else if(i.key==="ArrowUp")i.preventDefault(),this.highlightedIndex=(this.highlightedIndex-1+t.length)%t.length,this.updateHighlight(t);else if(i.key==="Enter"&&this.highlightedIndex>=0){i.preventDefault();let o=t[this.highlightedIndex];this.addChip(o.getAttribute("data-value"),o.textContent),this.resetDropdown()}else if(i.key==="Enter"&&n){i.preventDefault();let o=i.target.value;this.addChip(o,o),this.resetDropdown()}else i.key==="Escape"&&this.resetDropdown()}updateHighlight(i){i.forEach(e=>e.classList.remove("highlighted")),this.highlightedIndex>=0&&this.highlightedIndex<i.length&&i[this.highlightedIndex].classList.add("highlighted")}resetDropdown(){let i=this.querySelector("#dropdownInput"),e=this.querySelector("#optionsContainer");this.highlightedIndex=-1,i.value="",e.style.display="none",this.updateHighlight([])}filterOptions(i){this.querySelector("#optionsContainer").querySelectorAll(".option").forEach(n=>{n.textContent.toLowerCase().includes(i.toLowerCase())&&!this.selectedOptions.includes(n.getAttribute("data-value"))?n.style.display="block":n.style.display="none"}),this.highlightedIndex=-1,this.updateHighlight([])}addChip(i,e){let t=this.hasAttribute("allow-dynamic");this.selectedOptions.includes(i)||setTimeout(()=>{if(t){let o=this.querySelector("select");if(!Array.from(o.options).some(l=>l.value===i)){let l=new Option(e,i);o.add(l)}}this.selectedOptions.push(i),this.updateSelect(),this.updateChips(),this.updateDropdownOptions();let n=new Event("change");this.dispatchEvent(n)},10)}removeChip(i){this.selectedOptions=this.selectedOptions.filter(t=>t!==i),this.updateSelect(),this.updateChips(),this.updateDropdownOptions();let e=new Event("change");this.dispatchEvent(e)}updateChips(){let i=this.querySelector("#chipContainer");i&&this.mode==="chip"&&(i.innerHTML=this.selectedOptions.map(e=>{let t=Array.from(this.querySelectorAll("option")).find(o=>o.value===e),n=t?t.textContent:e;return`<div class="chip" data-value="${e}">${n}<span class="chip-close">&times;</span></div>`}).join(""))}updateSelect(){let i=this.querySelector("select");i.innerHTML=Array.from(this.querySelectorAll("option")).map(e=>`<option value="${e.value}" ${this.selectedOptions.includes(e.value)?"selected":""}>${e.textContent}</option>`).join("")}updateDropdownOptions(){let i=this.querySelector("#optionsContainer");i&&Array.from(i.querySelectorAll(".option")).forEach(e=>{e.style.display=this.selectedOptions.includes(e.getAttribute("data-value"))?"none":"block"})}_unWireEvents(){super._unWireEvents();let i=this.querySelector(".wc-tooltip");i&&(i.popover&&i.matches(":popover-open")&&i.hidePopover(),i.remove()),this.formElement&&(this.formElement.style.anchorName="")}};customElements.define("wc-select",le);var re=class extends M{static get observedAttributes(){return["name","id","class","value","rows","cols","placeholder","lbl-label","disabled","readonly","required","autofocus","elt-class"]}constructor(){super(),this.firstContent="",this.firstChild&&this.firstChild.nodeName=="#text"&&(this.firstContent=this.firstChild.textContent,this.removeChild(this.firstChild));let i=this.querySelector(".wc-textarea");i?this.componentElement=i:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-textarea","relative"),this.appendChild(this.componentElement)),console.log("ctor:wc-textarea")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-textarea")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(i,e){i==="autofocus"?this.formElement?.setAttribute("autofocus",""):i==="lbl-label"||(i==="disabled"?this.formElement?.setAttribute("disabled",""):i==="readonly"?this.formElement?.setAttribute("readonly",""):i==="required"?this.formElement?.setAttribute("required",""):i==="placeholder"?this.formElement?.setAttribute("placeholder",e):i==="cols"?this.formElement?.setAttribute("cols",e):i==="rows"?this.formElement?.setAttribute("rows",e):super._handleAttributeChange(i,e))}_render(){super._render(),this.querySelector(".wc-textarea > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-textarea")}_createInnerElement(){let i=this.getAttribute("lbl-label")||"",e=this.getAttribute("name");if(i){let n=document.createElement("label");n.textContent=i,n.setAttribute("for",e),this.componentElement.appendChild(n)}this.formElement=document.createElement("textarea"),this.formElement.setAttribute("form-element",""),this.componentElement.appendChild(this.formElement);let t=this.getAttribute("value")||"";this.firstContent&&!t&&this.setAttribute("value",this.firstContent.trim())}_applyStyle(){let i=`
      wc-textarea {
        display: contents;
      }
    `.trim();this.loadStyle("wc-textarea-style",i)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-textarea",re);export{j as applyRule,Be as checkResources,Ue as countElements,Fe as disableSortable,Oe as enableSortable,Ye as extractRules,Ke as extractSrcElements,ze as fetchApi,ke as generateUniqueId,qe as getSourcePropertyValue,Ae as hide,Te as hideAndShow,Se as iconRegistry,Ge as initRules,Me as isCustomElement,S as loadCSS,A as loadLibrary,_ as loadScript,L as loadStyle,De as loadStylesheet,Re as locator,Pe as locatorAll,Ve as processJSONField,Le as show,$ as sleep,Ie as testSchema,Je as toggleIndicator,Ne as updateJetTemplate,We as waitForPropertyPolling,$e as waitForResourcePolling,He as waitForSelectorPolling,_e as waitForSelectorsPolling,je as waitForThenHideAndShow};
