function qe(a){return a.tagName.includes("-")}function Se(){return"xxxx-xxxx-xxxx-xxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}function k(a){return new Promise((n,e)=>{if(document.querySelector(`link[rel="stylesheet"][href="${a}"]`)){n();return}let t=document.createElement("link");t.rel="stylesheet",t.href=a,t.onload=()=>n(),t.onerror=i=>e(i),document.head.appendChild(t);let o=setInterval(()=>{getComputedStyle(document.body).getPropertyValue("display")&&(clearInterval(o),n())},50)})}function S(a){return new Promise((n,e)=>{if(document.querySelector(`script[src="${a}"]`)){n();return}let t=document.createElement("script");t.src=a,t.onload=n,t.onerror=e,document.head.appendChild(t)})}function _(a,n){return new Promise((e,t)=>{if(document.querySelector(`script[src="${a}"]`)){if(n&&window[n])e();else{let i=setInterval(()=>{window[n]&&(clearInterval(i),e())},50)}return}let o=document.createElement("script");o.src=a,o.onload=()=>{if(n&&!window[n]){let i=setInterval(()=>{window[n]&&(clearInterval(i),e())},50)}else e()},o.onerror=i=>{t(i)},document.head.appendChild(o)})}function A(a,n){return new Promise((e,t)=>{if(document.querySelector(`style#${a}`)){e();return}let o=document.createElement("style");o.id=a,o.textContent=n.trim(),o.onload=e,o.onerror=t,document.head.appendChild(o)})}function De(a){return new Promise((n,e)=>{if(document.querySelector(`link[href="${a}"]`)){n();return}let t=document.createElement("link");t.rel="stylesheet",t.href=a,t.onload=n,t.onerror=e,document.head.appendChild(t)})}function Be(a,n){if(a.matches&&a.matches(n))return a;let e=a.querySelector(n);if(e)return e;let t=a.querySelectorAll("*");for(let o of t)if(o.shadowRoot){let i=this.locator(o.shadowRoot,n);if(i)return i}}function We(a,n){let e=[];a.matches&&a.matches(n)&&e.push(a),e.push(...a.querySelectorAll(n));let t=a.querySelectorAll("*");for(let o of t)o.shadowRoot&&e.push(...this.locatorAll(o.shadowRoot,n));return e}function He(a,n=3e3,e=100){return new Promise((t,o)=>{let i=Date.now(),s=()=>{let r=document.querySelector(a);r&&r.offsetParent!==null?t(r):Date.now()-i>n?o(new Error(`Timeout: Selector "${a}" not found or not visible after ${n}ms`)):setTimeout(s,e)};s()})}function je(a,n){let e=!1;return e=wc.linksLoaded[a]&&wc.scriptsLoaded[n],e}function Pe(a=[],n=[],e=5e3,t=100){return new Promise((o,i)=>{let s=Date.now(),r=Array.isArray(a)?a:[a],l=Array.isArray(n)?n:[n],c=()=>{let d=r.length===0||r.every(u=>window.wc?.scriptsLoaded?.[u]===!0),h=l.length===0||l.every(u=>window.wc?.linksLoaded?.[u]===!0);d&&h?o():Date.now()-s>e?i(new Error(`Timeout: Dependencies not available after ${e}ms. Scripts: ${JSON.stringify(r)}, Links: ${JSON.stringify(l)}`)):setTimeout(c,t)};c()})}function _e(a=[],n=3e3){return new Promise((e,t)=>{let o=Date.now(),i=Array.isArray(a)?a:[a],s=()=>{i.every(l=>document.querySelector(l)!==null)?e():Date.now()-o>n?t(new Error(`Timeout: Not all selectors available after ${n}ms. Missing selectors: ${JSON.stringify(i)}`)):requestAnimationFrame(s)};s()})}function $e(a,n,e=3e3){return new Promise((t,o)=>{let i=Date.now(),s=()=>{a[n]?t():Date.now()-i>e?o(new Error(`Timeout: ${e}ms. Propery: ${n} not available on element.`)):requestAnimationFrame(s)};s()})}async function P(a){return new Promise(n=>setTimeout(n,a))}function Ae(a){document.querySelector(a).classList.add("hidden")}function Le(a){document.querySelector(a).classList.remove("hidden")}function Te(a,n){Ae(a),Le(n)}async function Oe(a,n,e=3e3,t=500){await _e([a,n],e),await P(t),Te(a,n)}function Re(a,n,e){try{fetch(a,{method:"GET"}).then(t=>t.text()).then(t=>{n&&n(t)})}catch(t){e&&e(t)}}function ze(a){if(a){let n={animation:150,draggable:".preview-draggable",onEnd:function(e){let t={e,event:"onEnd",item:e.item,from:e.from,to:e.to,oldIndex:e.oldIndex,newIndex:e.newIndex};wc?.EventHub?.broadcast("sortable:on-end","","",t)}};if(typeof Sortable<"u"){let e=new Sortable(a,n);wc.EventHub.events[a]=e}}}function Fe(a){wc?.EventHub?.events[a].destroy()}function Ne(a,n,e,t){let o=2;n=n-o,e=e-o;let i=t.editor,s=i.getValue(),r=new RegExp(`<wc-form[^>]*id=["']${a}["'][^>]*>([\\s\\S]*?)<\\/wc-form>`),l=s.match(r);if(l){let c=l[1],d=/<div[^>]*class=["'][^"']*preview-draggable[^"']*["'][^>]*>[\s\S]*?<\/div>/g,h=c.match(d)||[];if(h.length===0)return;if(n>=0&&n<h.length&&e>=0&&e<h.length){let b=h.splice(n,1)[0];h.splice(e,0,b)}let u=c.replace(d,()=>h.shift()),p=s.replace(c,u);i.setValue(p)}}function Ue(a){let n=-1;return a&&(n=document.querySelectorAll(a).length),n}function Je(a,n){let e=document.querySelector(a);e&&(n?e.classList.add("htmx-request"):e.classList.remove("htmx-request"))}function Ge(a,n){let t=a.detail.elt.closest("form"),o=t.querySelector(n);if(console.log("-->Attempting to process JSON for selector: ",n,t),o)try{let r=function(l,c=""){for(let d in l)if(Object.prototype.hasOwnProperty.call(l,d)){let h=l[d],u=c?`${c}.${d}`:d;if(h!==null&&typeof h=="object"&&!Array.isArray(h))r(h,u);else if(Array.isArray(h))h.forEach((p,b)=>{if(typeof p=="object"&&p!==null)r(p,`${u}[${b}]`);else{let g=document.createElement("input");g.type="hidden",g.name=`${u}[${b}]`,g.value=p,g.setAttribute("data-json-field","true"),t.appendChild(g),console.log("-->Appending array primitive:",g)}});else{let p=document.createElement("input");p.type="hidden",p.name=u,p.value=h,p.setAttribute("data-json-field","true"),t.appendChild(p),console.log("-->Appending primitive:",p)}}};t.querySelectorAll('input[data-json-field="true"]').forEach(l=>l.remove());let s=JSON.parse(o.value);console.log("-->JSON contents: ",s),r(s,"json_data"),console.log("-->Processing complete for selector: ",n,t)}catch(i){console.error("Error parsing JSON:",i)}}function Ie(a,n){if(a==null)return!1;if("const"in n)return a===n.const;if("enum"in n)return Array.isArray(n.enum)&&n.enum.includes(a);if("minimum"in n){let e=typeof a=="number"?a:parseFloat(a);if(isNaN(e)||e<n.minimum)return!1}if("maximum"in n){let e=typeof a=="number"?a:parseFloat(a);if(isNaN(e)||e>n.maximum)return!1}if("minLength"in n&&String(a).length<n.minLength||"maxLength"in n&&String(a).length>n.maxLength)return!1;if("pattern"in n){let e=new RegExp(n.pattern);if(typeof a!="string"||!e.test(a))return!1}return!0}function Me(a,n,e){let t="";if(a?(t=`[data-id="${a}"]`,n&&(t+=` ${n}`)):n&&(t=n),!t)return;let o=document.querySelector(t);if(o)return e&&e in o?o[e]:o.type==="checkbox"?o.checked:o.value}function O(a){let{effect:n,condition:e,tgtDataId:t,tgtSelector:o,tgtProperty:i}=a,{scope:s,schema:r,srcDataId:l,srcSelector:c,srcProperty:d,property:h}=e,u=Me(l,c,d);if(u==null)return;let p=!1;r&&(p=Ie(u,r));let b="";t?(b=`[data-id="${t}"]`,o&&(b+=` ${o}`)):o&&(b=o);let g=document.querySelector(b);if(g)switch(n){case"COPY":g[i]=u;break;case"COPY-TOLOWER":g[i]=u.toString().toLowerCase();break;case"COPY-TOLOWER-UNDERSCORE":g[i]=u.toString().toLowerCase().replaceAll(" ","_");break;case"HIDE":g.style.display=p?"none":"";break;case"SHOW":g.style.display=p?"":"none";break;case"DISABLE":g.disabled=p;break;case"ENABLE":g.disabled=!p;break;case"REQUIRE":g.required=!p;break;case"UN-REQUIRE":g.required=p;break;default:console.warn("Unknown rule effect:",n)}}function Ye(a){Array.from(new Set(a.map(e=>e.condition.srcDataId))).forEach(e=>{document.querySelectorAll(`[data-id="${e}"]`).forEach(t=>{let o=Array.from(a).filter(i=>i.condition.srcDataId==e);t.addEventListener("change",()=>{o.forEach(O)}),t.addEventListener("input",()=>{o.forEach(O)})})}),a.forEach(O)}function Ke(a){let n=[];function e(t){!t||typeof t!="object"||(t.rules&&n.push(...t.rules),Array.isArray(t.elements)&&t.elements.forEach(e))}return a.forEach(e),n}function Ze(a){let n=[];function e(t){let o=t.label||"",i=t.scope||"",s=i?`${o} (${i})`:o,r={dataId:t["data-id"],label:s};n.push(r),t.elements&&Array.isArray(t.elements)&&t.elements.forEach(l=>e(l))}return a.forEach(t=>e(t)),n}var m=class extends HTMLElement{constructor(){super(),this._wcId=Se(),this.loadCSS=k.bind(this),this.loadScript=S.bind(this),this.loadLibrary=_.bind(this),this.loadStyle=A.bind(this),this.childComponent=null,this.childComponentSelector="",this._pendingAttributes={},this._isConnected=!1,this.componentElement=null,this.formElement=null}get wcId(){return this._wcId}connectedCallback(){this.childComponentSelector?(console.log("connectedCallback:waiting for ",this.childComponentSelector," to be loaded..."),this._waitForChildren(this.childComponentSelector).then(()=>{this._connectedCallback()})):this._connectedCallback()}_connectedCallback(){this._render(),this.dataset.wcId=this.wcId,this.childComponentName?this._waitForChild(()=>this[this.childComponentName]).then(()=>{this._isConnected=!0,this._applyPendingAttributes()}):(this._isConnected=!0,this._applyPendingAttributes())}disconnectedCallback(){}attributeChangedCallback(n,e,t){this._isConnected?this._handleAttributeChange(n,t,e):this._pendingAttributes[n]=t}_applyPendingAttributes(){Object.keys(this._pendingAttributes).forEach(n=>{let e=this._pendingAttributes[n];this._handleAttributeChange(n,e,null)}),this._pendingAttributes={}}_handleAttributeChange(n,e,t){if(n==="name")this._handleNameToIdLinkage(e);else if(n==="elt-class"){let o=this.querySelector("[form-element]");o&&o.setAttribute("class",e)}else n==="class"?e&&e.replace("contents","").split(" ").forEach(s=>{s&&(this.componentElement.classList.add(s),this.classList.remove(s))}):this.componentElement.setAttribute(n,e)}_handleNameToIdLinkage(n){n&&this.formElement&&!this.formElement.hasAttribute("id")&&(this.formElement.setAttribute("id",n),this.formElement.setAttribute("name",n),this.removeAttribute("name"))}_render(){this.classList.add("contents"),console.log("wc-base-component:_render")}async _waitForChild(n){return new Promise(e=>{let t=setInterval(()=>{n()&&(clearInterval(t),e())},50)})}async _waitForChildren(n){let e=Array.from(this.querySelectorAll(n));await Promise.all(e.map(t=>new Promise(o=>{t.isConnected?o():t.addEventListener("connected",o,{once:!0})})))}_applyStyle(){}_wireEvents(){}_unWireEvents(){}};var q=class extends m{static formAssociated=!0;constructor(){super(),this._internals=this.attachInternals(),this._value=""}get value(){return this._isCheckbox()?this.checked:this._value}set value(n){this._isCheckbox()?this.checked=n:(this._value=n,this._internals.setFormValue(this._value))}get required(){return this.hasAttribute("required")}set required(n){n?this.setAttribute("required",""):this.removeAttribute("required")}get checked(){return this.formElement?.checked||!1}set checked(n){this._isCheckbox()&&(this.formElement.checked=n,this._internals.setFormValue(n?"bool:True":"bool:False"))}get validity(){return this._internals.validity}get validationMessage(){return this._internals.validationMessage}get willValidate(){return this._internals.willValidate}checkValidity(){return this._internals.checkValidity()}reportValidity(){return this._internals.reportValidity()}_handleValidation(){let n="";if(n==="span")if(this.formElement?.validity.valid)this.componentElement.querySelector(".error-message")?.remove();else{let e=document.createElement("span");e.classList.add("error-message"),e.textContent=this.formElement?.validationMessage,this.componentElement.appendChild(e)}else if(n==="tooltip")if(this.formElement?.validity.valid)this.formElement?.removeAttribute("data-error"),this.formElement?.setAttribute("title",this.formElement?.getAttribute("data-has-title")),this.formElement?.removeAttribute("data-has-title");else{let e=this.formElement?.validationMessage;this.formElement?.setAttribute("data-error",e),this.formElement?.setAttribute("data-has-title",this.formElement?.getAttribute("title")||""),this.formElement?.setAttribute("title","")}this._internals.setValidity(this.formElement?.validity,this.formElement?.validationMessage)}connectedCallback(){super.connectedCallback(),this.formElement=this.querySelector("input, select, textarea"),this._wireEvents()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="value"?this._isCheckbox()?this.checked=e!==null&&e!=="false"&&e!=="bool:False":(this.formElement&&(this.formElement?.setAttribute("value",e),"value"in this.formElement&&(this.formElement.value=e)),this.value=e):super._handleAttributeChange(n,e)}_handleInputChange(n){let{target:e}=n;if(this._isCheckbox()?(e.checked?this.formElement.value="bool:True":this.formElement.value="bool:False",this.checked=e.checked):this.value=e.value,this._isRange()){let t=this.querySelector("label"),o=this.getAttribute("lbl-label")||"";t&&o&&(t.textContent=`${o} (${e.value})`)}this._handleValidation()}_isCheckbox(){return this.formElement?.type==="checkbox"}_isRange(){return this.formElement?.type==="range"}_wireEvents(){super._wireEvents(),this.formElement&&(this.formElement.addEventListener("input",this._handleInputChange.bind(this)),this.formElement.addEventListener("change",this._handleInputChange.bind(this)))}_unWireEvents(){super._unWireEvents(),this.formElement&&(this.formElement.removeEventListener("input",this._handleInputChange.bind(this)),this.formElement.removeEventListener("change",this._handleInputChange.bind(this)))}};if(!customElements.get("wc-accordion")){class a extends m{static get observedAttributes(){return["id","class","items","allow-many"]}constructor(){super(),this._items=[];let e=this.querySelector(".wc-accordion");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-accordion"),this.appendChild(this.componentElement)),console.log("ctor:wc-accordion")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-accordion",this._items)}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"?(typeof t=="string"&&(this._items=JSON.parse(t)),this.removeAttribute("items")):e==="allow-many"||super._handleAttributeChange(e,t)}_render(){super._render();let e=this.querySelectorAll(".wc-accordion > *");e.length>0?(this.componentElement.innerHTML="",e.forEach(t=>this.componentElement.appendChild(t))):(this._moveDeclarativeOptions(),this.componentElement.innerHTML="",this._items.forEach(t=>{let o=this._createHeader(t.label,t.selected);this.componentElement.appendChild(o);let i=this._createPanel(t.content);this.componentElement.appendChild(i)})),this._setActive(),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-accordion")}_createHeader(e,t){let o=this.hasAttribute("allow-many"),i=document.createElement("button");return i.classList.add("accordion-header"),t&&i.classList.add("accordion-active"),o?i.setAttribute("_",`on click
          toggle .accordion-active on me
          set panel to me.nextElementSibling
          if panel.style.maxHeight then
            set panel.style.maxHeight to null
          else
            set panel.style.maxHeight to panel.scrollHeight + 'px'
          end
        `):i.setAttribute("_",`on click
          set hdrs to .accordion-header in my parentElement
          repeat for x in hdrs
            if x is not me then
              remove .accordion-active from x
              set panel to x.nextElementSibling
              set panel.style.maxHeight to null
            end
          end
          toggle .accordion-active on me
          set panel to me.nextElementSibling
          if panel.style.maxHeight then
            set panel.style.maxHeight to null
          else
            set panel.style.maxHeight to panel.scrollHeight + 'px'
          end
        `),i.textContent=e,i}_createPanel(e){let t=document.createElement("div");t.classList.add("accordion-panel");let o=document.createElement("p");return o.innerHTML=e,t.appendChild(o),t}_moveDeclarativeOptions(){let e=this.querySelectorAll("option");e.length>0&&(this._items=[]),e.forEach(t=>{let o={label:t.value,content:t.innerHTML.trim(),selected:t.hasAttribute("selected")};this._items.push(o)}),Array.from(e).forEach(t=>t.remove())}_setActive(){setTimeout(()=>{this.querySelectorAll(".wc-accordion .accordion-header.accordion-active").forEach(t=>{let o=t.nextElementSibling;o.style.maxHeight=o.scrollHeight+"px"})},50)}_applyStyle(){let e=`
        wc-accordion {
          display: contents;
        }

        .wc-accordion .accordion-header {
          background-color: var(--button-bg-color);
          color: var(--button-color);
          cursor: pointer;
          padding: 18px;
          width: 100%;
          border: none;
          border-radius: 0;
          text-align: left;
          outline: none;
          font-size: 15px;
          transition: 0.4s;
        }

        .wc-accordion .accordion-active,
        .wc-accordion .accordion-header:hover {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }

        .wc-accordion .accordion-header:after {
          content: '+';
          color: var(--primary-color);
          font-weight: bold;
          float: right;
          margin-left: 5px;
          font-size: 18px;
          line-height: 1;
          text-align: center;
          width: 20px;
          height: 20px;
        }

        .wc-accordion .accordion-active:after {
          content: '-';
          color: var(--primary-color);
          font-size: 20px;
        }

        .wc-accordion .accordion-panel {
          padding: 0 18px;
          background-color: var(--component-bg-color);
          color: var(--component-color);
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.2s ease-out;
        }
      `.trim();this.loadStyle("wc-accordion-style",e)}_handleHelper(e,t="open"){let{detail:o}=e,{selector:i,subSelector:s}=o,r=s||".accordion-header",l=Array.isArray(i);typeof i=="string"||l?document.querySelectorAll(i).forEach(d=>{if(d===this){let h=d?.querySelector(r);t==="open"?h?.classList.contains("accordion-active")||h?.click():t==="close"?h?.classList.contains("accordion-active")&&h?.click():t==="toggle"&&h?.click()}}):i?.querySelector(r)?.click()}_handleOpen(e){this._handleHelper(e,"open")}_handleClose(e){this._handleHelper(e,"close")}_handleToggle(e){this._handleHelper(e,"toggle")}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-accordion:open",this._handleOpen.bind(this)),document.body.addEventListener("wc-accordion:close",this._handleClose.bind(this)),document.body.addEventListener("wc-accordion:toggle",this._handleToggle.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-accordion:open",this._handleOpen.bind(this)),document.body.removeEventListener("wc-accordion:close",this._handleClose.bind(this)),document.body.removeEventListener("wc-accordion:toggle",this._handleToggle.bind(this))}}customElements.define("wc-accordion",a)}if(!customElements.get("wc-article-card")){class a extends m{static get observedAttributes(){return["id","class","url","img-url","article-type"]}constructor(){super(),this.imgUrl="",this.articleTypes={news:"https://images.pexels.com/photos/1755683/pexels-photo-1755683.jpeg?auto=compress&cs=tinysrgb&w=768",css:"https://miro.medium.com/v2/da:true/resize:fit:768/0*1YrO9YLbwHnzExsO",technology:"https://images.pexels.com/photos/2653362/pexels-photo-2653362.jpeg?auto=compress&cs=tinysrgb&w=768",programming:"https://images.pexels.com/photos/6424591/pexels-photo-6424591.jpeg?auto=compress&cs=tinysrgb&w=768"},this.articleData=null,this.articleType="news";let e=this.querySelector(".wc-article-card");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-article-card"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this.getAttribute("url")&&this.fetchArticleData(this.getAttribute("url")),await this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="url"||(e==="img-url"?this.imgUrl=t:e==="article-type"?this.imgUrl=this.articleTypes[t]||this.articleTypes.news:super._handleAttributeChange(e,t))}async fetchArticleData(e){try{let t=await fetch(`/api/article-metadata?url=${encodeURIComponent(e)}`);this.articleData=await t.json(),this._createElement()}catch(t){console.error("Error fetching article data:",t)}}_createElement(){if(!this.articleData)return;let e=this.getAttribute("url"),{title:t,description:o,imageUrl:i,publishDate:s,domain:r}=this.articleData;this.imgUrl&&(i=this.imgUrl),this.componentElement.innerHTML=`
        <div class="article-card-image">
          <img src="${i||""}" alt="${t}">
        </div>
        <div class="article-card-content">
          <a class="article-card-title" href="${e}" target="_blank">${t}</a>
          <p class="article-card-description">${o}</p>
          <div class="article-card-meta">
            <span class="article-card-domain">${r}</span>
            <span class="article-card-date">${new Date(s).toLocaleDateString()}</span>
          </div>
        </div>
      `.trim()}_applyStyle(){let e=`
        wc-article-card {
          display: contents;
        }
        .articles-container {
          max-width: 1200px;
          margin: 0 auto;
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 20px;
          padding: 20px;
        }
        .wc-article-card {
          background-color: var(--primary-bg-color);
          color: var(--primary-color);
          box-shadow: var(--card-shadow);
          overflow: hidden;
          transition: transform 0.2s, box-shadow 0.2s;
        }
        .wc-article-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        .wc-article-card .article-card-image {
          width: 100%;
          height: 200px;
          object-fit: cover;
          background: #e5e7eb;
        }
        .wc-article-card .article-card-content {
          padding: 16px;
        }
        .wc-article-card .article-card-title {
          margin: 0 0 8px 0;
          font-size: 1.25rem;
          color: var(--swatch-1);
          text-decoration: none;
        }
        .wc-article-card a.article-card-title:hover {
          text-shadow: var(--swatch-3) 1px 0 10px;
        }
        .wc-article-card .article-card-description {
          margin: 0 0 16px 0;
          font-size: 0.875rem;
          line-height: 1.5;
          color: var(--swatch-2);
        }
        .wc-article-card .article-card-meta {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.75rem;
          color: var(--swatch-3);
        }
        .wc-article-card .article-card-source {
          font-weight: 500;
        }
      `.trim();this.loadStyle("wc-article-card",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-article-card",a)}var R=class extends m{static get observedAttributes(){return["id","class","caption","img-url","min-height"]}constructor(){super();let n=this.querySelector(".wc-background-image");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-background-image"),this.appendChild(this.componentElement)),console.log("ctor:wc-background-image")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-background-image")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):n==="caption"||n==="img-url"||n==="min-height"||super._handleAttributeChange(n,e)}_render(){super._render();let n=this.querySelectorAll(".wc-background-image > *");if(n.length>0)this.componentElement.innerHTML="",n.forEach(e=>this.componentElement.appendChild(e));else{this.componentElement.innerHTML="";let e=this.getAttribute("img-url")||"",t=this.getAttribute("min-height")||"100%";this.componentElement.style.backgroundImage=`url("${e}")`,this.componentElement.style.minHeight=t;let o=this._createElement();this.componentElement.appendChild(o)}typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-background-image")}_createElement(){let n=this.getAttribute("caption")||"",e=document.createElement("div");e.classList.add("caption");let t=document.createElement("span");return t.classList.add("border"),t.textContent=n,e.appendChild(t),e}_applyStyle(){let n=`
      wc-background-image {
        display: contents;
      }
      .wc-background-image {
        position: relative;
        opacity: 0.65;
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
      }
      .wc-background-image .caption {
        position: absolute;
        left: 0;
        top: 50%;
        width: 100%;
        text-align: center;
        color: #000;
      }
      .wc-background-image .caption span.border {
        background-color: #111;
        color: #fff;
        padding: 18px;
        font-size: 25px;
        letter-spacing: 10px;
      }
      /* Turn off parallax scrolling for tablets and phones */
      /* @media only screen and (max-device-width: 1024px) { */
      @media (max-device-width: 768px) {
        .wc-background-image {
          background-attachment: scroll;
        }
      }      
    `.trim();this.loadStyle("wc-background-image-style",n)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-background-image",R);if(!customElements.get("wc-breadcrumb-item")){class a extends m{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-breadcrumb-item")}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="breadcrumb-item",this.componentElement.className="wc-breadcrumb-item flex flex-row px-2 gap-4",this.componentElement.innerHTML=`
        <a href="/v/home"
           hx-get="/v/home"
           hx-target="#viewport"
           hx-swap="innerHTML transition:true"
           hx-push-url="true"
           hx-indicator="#content-loader">
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <a href="/v/screen_list/list"
          hx-get="/v/screen_list/list"
          hx-target="#viewport"
          hx-swap="innerHTML transition:true"
          hx-push-url="true"
          hx-indicator="#content-loader">
          Screens
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <span>
          screen
        </span>
      `.trim()}_applyStyle(){let e=`
      wc-breadcrumb-item {
        display: contents;
      }
      wc-breadcrumb-item .wc-breadcrumb-item {
        /* background-color: var(--surface-1); */
      }
      `.trim()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-breadcrumb-item",a)}if(!customElements.get("wc-breadcrumb")){class a extends m{static get observedAttributes(){return["id","class","doc-title"]}constructor(){super();let e=this.querySelector(".wc-breadcrumb");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement)),setTimeout(()=>{let t=[],o=this.getAttribute("doc-title")||"",i=this.querySelectorAll("wc-breadcrumb-item");Array.from(i).forEach(r=>{let l=r.getAttribute("label");l&&t.push(l)});let s=t.join(" > ");s&&(o?document.title=s+" - "+o:document.title=s)},250)}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_getBreadcrumbItems(){let e=[{label:"",link:"/v/home"},{label:"Screens",link:"/v/screen_list/list"},{label:"screen",link:""}],t=[],o=this.querySelectorAll("wc-breadcrumb-item");return Array.from(o).forEach(i=>{let s=i.getAttribute("label")||"",r=i.getAttribute("link")||"";t.push({label:s,link:r})}),t}_createElement(){let e=[],t=this._getBreadcrumbItems();t.forEach((i,s)=>{s==0?e.push(`
            <a href="${i.link}"
              hx-get="${i.link}"
              hx-target="#viewport"
              hx-swap="innerHTML transition:true"
              hx-push-url="true"
              hx-indicator="#content-loader">
              <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
              </svg>
            </a>            
          `):t.length-1==s?e.push(`
            <span id="title-content">
              ${i.label}
            </span>            
          `):e.push(`
            <a href="${i.link}"
              hx-get="${i.link}"
              hx-target="#viewport"
              hx-swap="innerHTML transition:true"
              hx-push-url="true"
              hx-indicator="#content-loader">
              ${i.label}
            </a>
          `)});let o=e.join(`
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
      `);this.componentElement.id="breadcrumb",this.componentElement.className="wc-breadcrumb flex flex-row px-2 gap-3",this.componentElement.innerHTML=o,this.componentElement.innerHTML2=`
        <a href="/v/home"
           hx-get="/v/home"
           hx-target="#viewport"
           hx-swap="innerHTML transition:true"
           hx-push-url="true"
           hx-indicator="#content-loader">
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <a href="/v/screen_list/list"
          hx-get="/v/screen_list/list"
          hx-target="#viewport"
          hx-swap="innerHTML transition:true"
          hx-push-url="true"
          hx-indicator="#content-loader">
          Screens
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <span>
          screen
        </span>
      `.trim()}_applyStyle(){let e=`
      wc-breadcrumb {
        display: contents;
      }
      wc-breadcrumb .wc-breadcrumb {
        /* background-color: var(--surface-1); */
      }
      `.trim()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-breadcrumb",a)}if(!customElements.get("wc-canvas-dot-highlight")){class a extends m{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-canvas-dot-highlight");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-canvas-dot-highlight"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._wireEvents(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){let e=Array.from(this.children).filter(o=>!o.matches("wc-canvas-dot-highlight")&&!o.matches(".wc-canvas-dot-highlight")),t=document.createElement("canvas");t.id="dotCanvas",this.componentElement.appendChild(t),e.forEach(o=>this.componentElement.appendChild(o))}_applyStyle(){let e=`
        wc-canvas-dot-highlight {
          display: contents;
        }
        .wc-canvas-dot-highlight {
          position: relative;
        }
        .wc-canvas-dot-highlight canvas {
          border-radius: 8px;
          border: 1px solid gray;
          border-radius: 10px;
          background-color: #111;
        }
      `.trim();this.loadStyle("wc-canvas-dot-highlight",e)}_wireEvents(){let e=this.componentElement.querySelector("#dotCanvas"),t=e.getContext("2d");e.width=window.innerWidth*.95,e.height=window.innerHeight*.95;let o={dotSpacing:20,dotRadius:1.25,highlightRadius:160,defaultColor:"#444",highlightColor:"#40E0D0",backgroundColor:"#111111",animationSpeed:.15},i=Math.floor(e.width/o.dotSpacing),s=Math.floor(e.height/o.dotSpacing),r=e.width/2,l=e.height/2,c=e.width/2,d=e.height/2,h=!1,u=0,p=0;e.addEventListener("mousemove",g=>{let v=e.getBoundingClientRect();r=g.clientX-v.left,l=g.clientY-v.top,h&&(u=r,p=l)}),e.addEventListener("mouseenter",g=>{h=!0;let v=e.getBoundingClientRect();r=g.clientX-v.left,l=g.clientY-v.top,u=r,p=l}),e.addEventListener("mouseleave",()=>{h=!1,u=0,p=0});function b(){t.fillStyle=o.backgroundColor,t.fillRect(0,0,e.width,e.height),c+=(u-c)*o.animationSpeed,d+=(p-d)*o.animationSpeed;for(let E=0;E<i;E++)for(let x=0;x<s;x++){let C=(E+.5)*o.dotSpacing,L=(x+.5)*o.dotSpacing;t.fillStyle=o.defaultColor,t.beginPath(),t.arc(C,L,o.dotRadius,0,Math.PI*2),t.fill()}let v=Math.sqrt(Math.pow(c-u,2)+Math.pow(d-p,2))<1;if(!h)return requestAnimationFrame(b);for(let E=0;E<i;E++)for(let x=0;x<s;x++){let C=(E+.5)*o.dotSpacing,L=(x+.5)*o.dotSpacing,T=C-c,I=L-d,M=Math.sqrt(T*T+I*I);if(M<o.highlightRadius){let D=Math.pow(1-M/o.highlightRadius,2),B=h?1:Math.max(0,1-(v?1:0));t.fillStyle=o.highlightColor,t.globalAlpha=D*B,t.beginPath(),t.arc(C,L,o.dotRadius,0,Math.PI*2),t.fill()}}t.globalAlpha=1,requestAnimationFrame(b)}window.addEventListener("resize",()=>{e.width=window.innerWidth*.95,e.height=window.innerHeight*.95,h||(u=e.width/2,p=e.height/2)}),b()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-canvas-dot-highlight",a)}if(!customElements.get("wc-code-mirror")){class a extends m{static get observedAttributes(){return["id","class","height","theme","mode","lbl-label","lbl-class","line-numbers","line-wrapping","fold-gutter","tab-size","indent-unit","value","disabled","required","fetch"]}constructor(){super(),this.childComponentName="editor",this._isResizing=!1,this._internals=this.attachInternals(),this.firstContent="",this.innerHTML.trim()!=""?(this.firstContent=this.innerHTML.replaceAll("=&gt;","=>"),this.innerHTML=""):this.firstChild&&this.firstChild.nodeName=="#text"&&(this.firstContent=this.firstChild.textContent,this.removeChild(this.firstChild));let e=this.querySelector(".wc-code-mirror");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-code-mirror"),this.appendChild(this.componentElement)),console.log("ctor:wc-code-mirror")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("conntectedCallback:wc-code-mirror")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}async _handleAttributeChange(e,t,o){if(e==="lbl-class"){let i=this.getAttribute("name");this.querySelector(`label[for="${i}"]`)?.classList.add(t)}else if(e==="theme")await this.loadTheme(t);else if(e==="mode")await this.loadMode(t);else if(e==="height")t&&this.editor.setSize(null,t);else if(e==="line-numbers"){t||t==""?this.editor.setOption("lineNumbers",!0):this.editor.setOption("lineNumbers",!1);let i=await this.getGutters();this.editor.setOption("gutters",i)}else if(e==="line-wrapping")t||t==""?this.editor.setOption("lineWrapping",!0):this.editor.setOption("lineWrapping",!1);else if(e==="fold-gutter"){t||t==""?this.editor.setOption("foldGutter",!0):this.editor.setOption("foldGutter",!1);let i=await this.getGutters();this.editor.setOption("gutters",i)}else if(e==="tab-size")this.editor.setOption("tabSize",parseInt(t,10));else if(e==="indent-unit")this.editor.setOption("indentUnit",parseInt(t,10));else if(e==="value")this.editor.setValue(t);else if(e==="disabled")this.hasAttribute("disabled")?this.editor.setOption("readOnly","nocursor"):this.editor.setOption("readOnly",!1);else if(e==="fetch"){if(!o)return;this.editor&&(this.fetchUrl=t,this.handleFetch(this.fetchUrl))}else super._handleAttributeChange(e,t,o)}_render(){super._render(),this.querySelector(".wc-code-mirror > *")?this.querySelector(".settings-icon").addEventListener("click",this._handleSettingsIconClick.bind(this)):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-code-mirror")}async _createInnerElement(){let e=this.getAttribute("lbl-label")||"",t=this.getAttribute("name")||"";if(!t)throw new Error("Name attribute must be provided.");if(e){let r=document.createElement("label"),l=this.getAttribute("value")||"";r.textContent=e,r.setAttribute("for",t),this.componentElement.appendChild(r)}this.editor=null,this.popoverId=`settings-popover-${this.getAttribute("name")||"wc-code-mirror"}`;let o=document.createElement("button");o.type="button",o.innerHTML=`
        <svg class="h-3 w-3" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512">
          <path d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/>
        </svg>
      `.trim(),o.className="settings-icon",o.setAttribute("popovertarget",this.popoverId),o.addEventListener("click",this._handleSettingsIconClick.bind(this)),this.componentElement.appendChild(o);let i=document.createElement("div");i.classList.add("settings-popover"),i.id=this.popoverId,i.setAttribute("popover","manual"),this.componentElement.appendChild(i);let s=this.getAttribute("value")||this.firstContent||"";await Promise.all([this.loadCSS("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css"),this.loadLibrary("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js","CodeMirror")]),await this.renderEditor(s),this._internals.setFormValue(s)}_handleSettingsIconClick(e){let t=this.querySelector(".settings-popover");this._buildSettingsPopover(t)}_buildSettingsPopover(e){let t=this.hasAttribute("line-numbers"),o=this.hasAttribute("line-wrapper"),i=this.hasAttribute("fold-gutter"),s=["apl","asciiarmor","asn.1","asterisk","brainfuck","clike","clojure","cmake","cobol","coffeescript","commonlisp","crystal","css","cypher","d","dart","diff","django","dockerfile","dtd","dylan","ebnf","ecl","eiffel","elm","erlang","factor","fcl","forth","fortran","gas","gfm","gherkin","go","groovy","haml","handlebars","haskell","haxe","htmlembedded","htmlmixed","http","idl","javascript","jinja2","julia","kotlin","litespec","livescript","lua","markdown","mathematica","mbox","mirc","mllike","modelica","mscgen","mumps","nginx","nsis","ntriples","octave","oz","pascal","perl","php","pig","powershell","properties","protobuf","pug","puppet","python","q","r","rpm","rst","ruby","rust","sas","sass","scheme","shell","sieve","slim","smalltalk","smarty","solr","soy","sparql","spreadsheet","sql","stex","stylus","swift","tcl","textile","tiddlywiki","tiki","toml","tornado","troff","ttcn","ttcn-cfg","turtle","twig","vb","vbscript","velocity","verilog","vhdl","vue","xml","xquery","yaml","yaml-frontmatter","z80"],r=["3024-day","3024-night","abcdef","ambiance","ayu-dark","ayu-mirage","base16-dark","base16-light","bespin","blackboard","cobalt","colorforth","default","darcula","dracula","duotone-dark","duotone-light","eclipse","elegant","erlang-dark","gruvbox-dark","hopscotch","icecoder","idea","isotope","lesser-dark","liquibyte","lucario","material","material-darker","material-palenight","material-ocean","mbo","mdn-like","midnight","monokai","moxer","neat","neo","night","nord","oceanic-next","panda-syntax","paraiso-dark","paraiso-light","pastel-on-dark","railscasts","rubyblue","seti","shadowfox","solarized","ssms","the-matrix","tomorrow-night-bright","tomorrow-night-eighties","ttcn","twilight","vibrant-ink","xq-dark","xq-light","yeti","yonce","zenburn"];e.innerHTML=`
        <div id="popover-form" class="popover-form col gap-3">
          <button id="closeButton" class="close-btn" type="button"
            popovertarget="${this.popoverId}" popovertargetaction="hide"
            >
            <span aria-hidden="true">X</span>
            <span class="sr-only">Close</span>
          </button>
          <div class="row gap-2">
            <wc-select class="col-1" name="theme-select" lbl-label="Theme" autofocus elt-class="w-full">
              ${r.map(l=>`<option value="${l}" ${l==this.getAttribute("theme")?"selected":""}>${l}</option>`).join("")}
            </wc-select>
            <wc-select class="col-1" name="mode-select" lbl-label="Mode" elt-class="w-full">
              ${s.map(l=>`<option value="${l}" ${l==this.getAttribute("mode")?"selected":""}>${l}</option>`).join("")}
            </wc-select>
          </div>
          <div class="row gap-2">
            <wc-input class="col-1" name="line-numbers" lbl-label="Line Numbers" ${t?"checked ":""}type="checkbox"></wc-input>
            <wc-input class="col-1" name="line-wrapper" lbl-label="Line Wrapper" ${o?"checked ":""}type="checkbox"></wc-input>
            <wc-input class="col-1" name="fold-gutter" lbl-label="Fold Gutter" ${i?"checked ":""}type="checkbox"></wc-input>
          </div>
          <div class="row gap-2">
            <wc-input class="col-1" name="tab-size" lbl-label="Tab Size" value="${this.getAttribute("tab-size")}" type="number"></wc-input>
            <wc-input class="col-1" name="indent-unit" lbl-label="Indent Unit" value="${this.getAttribute("indent-unit")}" type="number"></wc-input>
          </div>
          <div class="row gap-2 justify-end gap-x-4">
            <button class="" id="apply-settings" type="submit">
              Apply
            </button>
            <button class="btn-clear" id="cancel-settings" type="button">
              Cancel
            </button>
          </div>
        </div>
      `,e.querySelector("#closeButton").addEventListener("click",this._handleSettingsClose.bind(this),{once:!0}),e.querySelector("#apply-settings").addEventListener("click",this._handleSettingsApply.bind(this),{once:!0}),e.querySelector("#cancel-settings").addEventListener("click",this._handleSettingsClose.bind(this),{once:!0})}_handleSettingsApply(e){let t=this.querySelector(".settings-popover"),o=t.querySelector("#closeButton"),i=t.querySelector("#theme-select").value,s=t.querySelector("#mode-select").value,r=t.querySelector("#line-numbers").checked,l=t.querySelector("#line-wrapper").checked,c=t.querySelector("#fold-gutter").checked,d=t.querySelector("#tab-size").value,h=t.querySelector("#indent-unit").value;this.setAttribute("theme",i),this.setAttribute("mode",s),r?this.setAttribute("line-numbers",""):this.removeAttribute("line-numbers"),l?this.setAttribute("line-wrapper",""):this.removeAttribute("line-wrapper"),c?this.setAttribute("fold-gutter",""):this.removeAttribute("fold-gutter"),this.setAttribute("tab-size",d),this.setAttribute("indent-unit",h),this._handleSettingsClose(e)}_handleSettingsClose(e){e.preventDefault();let t=this.querySelector(".settings-popover");for(t.togglePopover();t.firstChild;)t.removeChild(t.firstChild)}get value(){return this.editor?.getValue()||""}set value(e){this.editor&&(this.editor.setValue(e),this._internals.setFormValue(e))}_applyStyle(){let e=`
        /* Container using flex or grid layout */
        .editor-container-flex {
          display: flex;
          gap: 10px;
          height: calc(100vh - 60px); /* Adjust for the header height */
          width: 100%;
          flex-wrap: wrap;
        }

        .editor-container-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 10px;
          height: calc(100vh - 60px); /* Adjust for the header height */
          width: 100%;
        }

        
        wc-code-mirror {
          display: contents;
        }

        /* Ensure that each editor fills its container */
        .wc-code-mirror {
          position: relative;
          width: 100%;
          display: flex;
          flex-direction: column;
          border: 2px solid transparent;

          overflow: hidden;
          resize: vertical;
    
          min-height: 10em;        
        }
        .wc-code-mirror:focus-within {
          /* border: 2px solid var(--primary-bg-color); */
        }

        .CodeMirror {
          height: auto;
          min-height: 150px;
          width: 100%;
          box-sizing: border-box; /* Avoid overflow caused by padding or borders */
          overflow: auto; /* Scroll within the editor */
        }
        
        .settings-icon {
          background: none;
          border: none;
          position: absolute;
          top: 2px;
          right: 5px;
          padding: 0;
          cursor: pointer;
          color: gray;
          font-size: 1.5em;
          z-index: 1;
        }
        
        .wc-code-mirror > label ~ .settings-icon {
          top: 22px;
        }

        .settings-popover {
          background: transparent;
          position: absolute;
          left: 0;
          right: 0;
          padding: 0;
          margin: 0 auto;
          height: 100%;
          width: 100%;
          border: none;
          display: flex;
          justify-items: center;
          align-items: center;
        }


        .settings-popover::backdrop {
          background: rgb(190 190 190 / 50%);
        }


        #popover-form {
          position: relative;
          padding: 20px;
          margin: 0 auto;
          border-radius: 5px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .close-btn {
          color: gray;
          border: none;
          background: none;
          position: absolute;
          right: 0.5rem;
          top: 0.5rem;
          padding: 0;
          cursor: pointer;
        }

        .sr-only:not(:focus):not(:active) {
          clip: rect(0 0 0 0); 
          clip-path: inset(50%);
          height: 1px;
          overflow: hidden;
          position: absolute;
          white-space: nowrap; 
          width: 1px;
        }

        /* JavaScript highlighting in web components */
        .cm-js-keyword { color: #66d9ef !important; }
        .cm-js-variable { color: #f8f8f2 !important; }
        .cm-js-def { color: #fd971f !important; }
        .cm-js-operator { color: #f92672 !important; }
        .cm-js-string { color: #e6db74 !important; }
        .cm-js-number { color: #ae81ff !important; }
        .cm-js-comment { color: #75715e !important; }
        .cm-js-property { color: #a6e22e !important; }
        .cm-js-atom { color: #ae81ff !important; }
      `.trim();this.loadStyle("wc-code-mirror-style",e)}async renderEditor(e){await Promise.all([this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/search/searchcursor.min.js"),this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/keymap/sublime.min.js"),this.loadScript("https://cdn.jsdelivr.net/npm/cm-show-invisibles@3.1.0/lib/show-invisibles.min.js")]);let t=await this.getGutters();this.editor=CodeMirror(this.componentElement,{mode:this.getAttribute("mode")||"javascript",theme:this.getAttribute("theme")||"default",lineNumbers:this.hasAttribute("line-numbers"),lineWrapper:this.hasAttribute("line-wrapper"),foldGutter:this.hasAttribute("fold-gutter"),gutters:t,extraKeys:{"Ctrl-Q":function(r){r.foldCode(r.getCursor())},Tab:r=>{if(r.somethingSelected())r.indentSelection("add");else{var l=Array(r.getOption("indentUnit")+1).join(" ");r.replaceSelection(l)}}},value:e,tabSize:parseInt(this.getAttribute("tab-size"),10)||4,indentUnit:parseInt(this.getAttribute("indent-unit"),10)||2,matchBrackets:!0,keyMap:"sublime",showInvisibles:!0}),await this.loadAssets(this.getAttribute("theme"),this.getAttribute("mode")),this.addWebComponentsJsHighlighting(),this.editor.on("change",async()=>{let r=this.editor.getValue();this._internals.setFormValue(r);let l=await this.getGutters();this.editor.setOption("gutters",l)});let o={detail:{name:this.getAttribute("name"),editor:this.editor},bubbles:!0,composed:!0},i=new CustomEvent("wc-code-mirror:ready",o);this.dispatchEvent(i),document.body.dispatchEvent(i),console.log("----> broadcasting event: wc-code-mirror:ready");let s=this.getAttribute("fetch");this.handleFetch(s)}static get formAssociated(){return!0}handleFetch(e){try{e&&(console.log("----> wc-code-mirror - fetching from: ",e),fetch(e,{method:"GET"}).then(t=>t.json()).then(t=>{this.editor.setValue(t.result);let o={detail:{name:this.getAttribute("name"),editor:this.editor},bubbles:!0,composed:!0},i=new CustomEvent("fetch-complete",o);this.dispatchEvent(i)}))}catch(t){console.error("Error encountered while trying to fetch wc-code-mirror data!",t)}}formResetCallback(){this.editor.setValue("")}formStateRestoreCallback(e){e&&this.editor.setValue(e)}formDisabledCallback(e){this.editor&&this.editor.setOption("readOnly",e)}async refresh(e=500){await P(e),this.editor.refresh(),this.editor.focus()}async getGutters(){this.hasAttribute("fold-gutter")&&(await this.loadCSS("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/foldgutter.min.css"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/foldcode.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/foldgutter.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/brace-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/comment-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/indent-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/xml-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/matchbrackets.min.js"));let e=[],t=this.hasAttribute("line-numbers"),o=this.hasAttribute("fold-gutter");return t&&o?e=["CodeMirror-linenumbers","CodeMirror-foldgutter"]:o&&(e=["CodeMirror-foldgutter"]),e}async loadAssets(e,t){e&&e!=="default"&&await this.loadTheme(e),t&&await this.loadMode(t)}async loadTheme(e){if(!e||e==="default")return;let t=`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/${e}.min.css`;document.querySelector(`link[href="${t}"]`)||await this.loadCSS(t),this.editor.setOption("theme",e)}async loadMode(e){let o={htmlmixed:["xml","css","javascript"],php:["htmlmixed","xml","css","javascript"],htmlembedded:["xml","javascript"],markdown:["htmlmixed","xml","css","javascript"]}[e];if(o&&o.length>0)for(let s of o)await this.loadScript(`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/${s}/${s}.min.js`);if(e==="litespec"){CodeMirror.registerHelper("fold","litespec",function(c,d){var h=d.line,u=c.getLine(h),p=u.indexOf("{");if(p===-1)return;var b=c.getTokenTypeAt(CodeMirror.Pos(h,p+1));if(b!=="brace")return;var g=c.findMatchingBracket(CodeMirror.Pos(h,p+1));return!g||!g.match||g.to===null?void 0:{from:CodeMirror.Pos(h,p+1),to:g.to}}),this.editor.setOption("foldOptions",{widget:"\u2194"});let r={litespec:["simple"]}[e];if(r&&r.length>0)for(let c of r)await this.loadScript(`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/mode/${c}.min.js`);if(["litespec"].includes(e)){await this.loadScript("https://mattduffield.github.io/lite-spec/dist/highlighters/litespec.mode.cm.js"),this.editor.setOption("mode",e);return}}let i=`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/${e}/${e}.min.js`;document.querySelector(`script[src="${i}"]`)||await this.loadScript(i),this.editor.setOption("mode",e),["htmlmixed","php","markdown","htmlembedded"].includes(e)&&setTimeout(()=>{this.addWebComponentsJsHighlighting()},100)}_unWireEvents(){super._unWireEvents(),this.querySelector(".settings-icon").removeEventListener("click",this._handleSettingsIconClick.bind(this))}addWebComponentsJsHighlighting(){console.log("Adding JS highlighting to web components");let e=()=>{console.log("Applying highlighting to editor content");let t=this.editor.getValue().split(`
`),o=!1,i="",s=[],r=-1,l=-1;for(let c=0;c<t.length;c++){let d=t[c].trim();if(o){if(d.match(new RegExp(`</${i}>`))){if(l=c,o=!1,console.log(`Found closing tag at line ${c}: ${i}`),r!==-1&&l!==-1){let u=t.slice(r+1,l).join(`
`);console.log(`Processing JS content between lines ${r+1} and ${l}`),this.highlightJavaScript(u,r+1,l)}r=-1,l=-1,i=""}}else{let h=d.match(/<(wc-[a-zA-Z0-9-]+)(?:\s|>)/i);h&&(i=h[1],o=!0,r=c,console.log(`Found opening tag at line ${c}: ${i}`))}}};setTimeout(()=>{e(),this.editor.on("change",()=>{clearTimeout(this._highlightTimeout),this._highlightTimeout=setTimeout(()=>{e()},500)}),console.log("Added change listener for highlighting")},100)}highlightJavaScript(e,t,o){console.log("Highlighting JavaScript content");let i=this.editor.getDoc();i.findMarks({line:t,ch:0},{line:o,ch:0}).forEach(c=>c.clear());let r=e.split(`
`),l=[{pattern:/\b(function|var|let|const|return|if|else|endif|for|endfor|while|switch|case|break|continue|this|new|typeof|instanceof|class|async|await|in)\b/g,className:"cm-js-keyword"},{pattern:/\b(true|false|null|undefined)\b/g,className:"cm-js-atom"},{pattern:/\b\d+(\.\d+)?\b/g,className:"cm-js-number"},{pattern:/(["'`])(?:[^\\]|\\.)*?\1/g,className:"cm-js-string"},{pattern:/[+\-*/%=&|^<>!?:;,.]/g,className:"cm-js-operator"},{pattern:/=>/g,className:"cm-js-keyword"},{pattern:/\b\.[A-Za-z]+/g,className:"cm-js-property"}];r.forEach((c,d)=>{i.markText({line:t+d,ch:0},{line:t+d,ch:c.length},{className:"cm-wc-content"}),l.forEach(({pattern:h,className:u})=>{let p;for(h.lastIndex=0;(p=h.exec(c))!==null;){let b=p.index,g=b+p[0].length;i.markText({line:t+d,ch:b},{line:t+d,ch:g},{className:u})}})})}}customElements.define("wc-code-mirror",a)}var z=class extends m{static get observedAttributes(){return["id","class","gender","contact-name","contact-title"]}constructor(){super();let n=this.querySelector(".wc-contact-card");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-contact-card"),this.appendChild(this.componentElement)),console.log("ctor:wc-contact-card")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-contact-card")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){if(n=="gender"){let t=this.querySelector("img");e=="male"?t.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"):t.setAttribute("src","https://www.w3schools.com/howto/img_avatar2.png")}else if(n=="contact-name"){let t=this.querySelector("div.contact-card-name");t.innerHTML=e}else if(n=="contact-title"){let t=this.querySelector("div.contact-card-title");t.innerHTML=e}else super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-contact-card > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-contact-card")}_createInnerElement(){Array.from(this.children).filter(s=>!s.matches("wc-contact-card")&&!s.matches(".wc-contact-card")).forEach(s=>this.componentElement.appendChild(s));let e=document.createElement("img");e.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"),e.setAttribute("alt","Person"),e.setAttribute("width","100%");let t=document.createElement("div");t.classList.add("contact-card-container");let o=document.createElement("div");o.classList.add("contact-card-name","text-2xl","font-bold"),o.innerHTML="John Doe";let i=document.createElement("div");i.classList.add("contact-card-title","text-lg"),i.innerHTML="Boss",t.appendChild(o),t.appendChild(i),this.componentElement.appendChild(e),this.componentElement.appendChild(t)}_applyStyle(){this.loadStyle("wc-contact-card-style",`
      wc-contact-card {
        display: contents;
      }
      .wc-contact-card {
        box-shadow: 0 4px 8px 0 var(--card-border-color);
        transition: 0.3s;
        width: 40%;
        border-radius: 5px;
        background-color: var(--card-bg-color);
        color: var(--card-color);
      }
      .wc-contact-card:hover {
        box-shadow: 0 8px 16px 0 var(--card-border-color);
      }
      /* Add some padding inside the card container */
      .wc-contact-card .contact-card-container {
        padding: 2px 16px;
      }
      .wc-contact-card img {
        border-radius: 5px 5px 0 0;
      }
    `)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-contact-card",z);var F=class extends m{static get observedAttributes(){return["id","class","gender","person-name"]}constructor(){super();let n=this.querySelector(".wc-contact-chip");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-contact-chip"),this.appendChild(this.componentElement)),console.log("ctor:wc-contact-chip")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-contact-chip")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){if(n=="gender"){let t=this.querySelector("img");e=="male"?t.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"):t.setAttribute("src","https://www.w3schools.com/howto/img_avatar2.png")}else if(n=="person-name"){let t=this.querySelector("span.name-content");t.innerHTML=e}else super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-contact-chip > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-contact-chip")}_createInnerElement(){Array.from(this.children).filter(i=>!i.matches("wc-contact-chip")&&!i.matches(".wc-contact-chip")).forEach(i=>this.componentElement.appendChild(i));let e=document.createElement("img");e.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"),e.setAttribute("alt","Person"),e.setAttribute("height","96"),e.setAttribute("width","96");let t=document.createElement("span");t.classList.add("name-content"),t.innerHTML="John Doe";let o=document.createElement("span");o.classList.add("close-btn"),o.innerHTML="&times;",o.setAttribute("onclick",`
      const cnt = this.closest('wc-contact-chip.contents');
      cnt.classList.add('hidden');
    `),this.componentElement.appendChild(e),this.componentElement.appendChild(t),this.componentElement.appendChild(o)}_applyStyle(){this.loadStyle("wc-contact-chip-style",`
      wc-contact-chip {
        display: contents;
      }
      .wc-contact-chip {
        position: relative;
        display: inline-block;
        padding: 0 25px;
        height: 50px;
        font-size: 18px;
        line-height: 50px;
        border-radius: 25px;
        background-color: var(--card-bg-color);
        color: var(--card-color);
      }
      .wc-contact-chip img {
        float: left;
        margin: 0 0 0 -25px;
        height: 50px;
        width: 50px;
        border-radius: 50%;
      }
      .wc-contact-chip .name-content {
        margin: 0 10px;
      }
      .wc-contact-chip .close-btn {
        position: absolute;
        right: 10px;
        margin-left: 10px;
        color: var(--surface-8);
        font-weight: bold;
        font-size: 20px;
        cursor: pointer;
      }
      .wc-contact-chip .close-btn:hover {
        color: var(--surface-6);
      }
    `)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-contact-chip",F);var N=class extends m{static get observedAttributes(){return["id","class"]}constructor(){super();let n=this.querySelector(".wc-div");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-div"),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):n==="caption"||n==="img-url"||n==="min-height"||super._handleAttributeChange(n,e)}_render(){super._render();let n=this.querySelectorAll(".wc-div > *");n.length>0?(this.componentElement.innerHTML="",n.forEach(e=>this.componentElement.appendChild(e))):(this.componentElement.innerHTML="",this._moveDeclarativeInner()),typeof htmx<"u"&&htmx.process(this)}_moveDeclarativeInner(){let n=this.querySelectorAll("wc-div > *:not(.wc-div)");n.length>0&&n.forEach(e=>this.componentElement.appendChild(e))}_applyStyle(){let n=`
      wc-div {
        display: contents;
      }
      .wc-div {
        position: relative;
        display: block;
      }
    `.trim();this.loadStyle("wc-div-style",n)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-div",N);if(!customElements.get("wc-dropdown-item")){class a extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-dropdown-item",a)}var U=class extends m{static get observedAttributes(){return["id","class","label","mode","format"]}constructor(){super(),this.childComponentSelector="a,hr,wc-input",this.clickModes=["search","click"],this.mode=this.getAttribute("mode")||"click";let n=this.querySelector(".wc-dropdown");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-dropdown",this.mode),this.appendChild(this.componentElement)),console.log("ctor:wc-dropdown")}async connectedCallback(){super.connectedCallback(),await this._applyStyle(),this.classList.add("contents"),this.classList.remove("hidden"),this.componentElement.classList.remove("hidden"),this._wireEvents(),console.log("connectedCallback:wc-dropdown")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="label"||super._handleAttributeChange(n,e)}_render(){if(super._render(),this.querySelector(".wc-dropdown > *")){let e=this.querySelector(".dropbtn");if(this.clickModes.includes(this.mode)){e.addEventListener("click",this._handleClick.bind(this)),window.addEventListener("click",this._handleWindowClick.bind(this));let t=this.querySelector(".search");t&&t.addEventListener("input",this._handleInput.bind(this))}}else this.componentElement.innerHTML="",this._createInnerElement();typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-dropdown")}_createInnerElement(){let n=Array.from(this.children).filter(p=>!p.matches("wc-dropdown")&&!p.matches(".wc-dropdown")),e=this.getAttribute("id")||"",t=this.getAttribute("position-area")||"bottom span-left",o=this.getAttribute("position-try-fallbacks")||"--bottom-right, --bottom-left, --top-right, --top-left, --right, --left",i=this.getAttribute("label")||"",s=this.getAttribute("format")||"standard",r=this.getAttribute("dropdown-height")||"",l=document.createElement("button");i&&s==="standard"?(l.classList.add("dropbtn"),l.textContent=i):s==="grid-round"?(l.classList.add("dropbtn"),l.classList.add("grid-round"),l.innerHTML=`
          <svg class="h-5 w-5 align-middle pointer-events-none"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path d="M128 96A64 64 0 1 1 0 96a64 64 0 1 1 128 0zm0 160A64 64 0 1 1 0 256a64 64 0 1 1 128 0zM64 480a64 64 0 1 1 0-128 64 64 0 1 1 0 128zM288 96A64 64 0 1 1 160 96a64 64 0 1 1 128 0zM224 320a64 64 0 1 1 0-128 64 64 0 1 1 0 128zm64 96a64 64 0 1 1 -128 0 64 64 0 1 1 128 0zm96-256a64 64 0 1 1 0-128 64 64 0 1 1 0 128zm64 96a64 64 0 1 1 -128 0 64 64 0 1 1 128 0zM384 480a64 64 0 1 1 0-128 64 64 0 1 1 0 128z"/>
          </svg>
        `):s==="avatar"&&(l.classList.add("dropbtn"),l.classList.add("avatar"),l.innerHTML=`
          <svg class="h-4 w-4 align-middle pointer-events-none" fill="currentColor" viewBox="0 0 24 24">
            <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
        `);let c=document.createElement("div");c.classList.add("dropdown");let d=document.createElement("div");if(d.classList.add("dropdown-content","text-sm"),this.mode==="search"){let p=document.createElement("input");p.classList.add("search","component"),p.type="search",p.setAttribute("placeholder","Search..."),d.appendChild(p);let b="http://www.w3.org/2000/svg",g=document.createElementNS(b,"svg");g.setAttribute("xmlns",b),g.setAttribute("fill","none"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("stroke-width","1.5"),g.setAttribute("stroke","currentColor"),g.classList.add("search-svg","h-4","w-4","component");let v=document.createElementNS(b,"path");v.setAttribute("stroke-linecap","round"),v.setAttribute("stroke-linejoin","round"),v.setAttribute("d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"),g.appendChild(v),d.appendChild(g),p.addEventListener("input",this._handleInput.bind(this))}n.forEach(p=>d.appendChild(p)),c.appendChild(d),c.append(l),this.componentElement.append(c),r&&(d.style.height=r,d.style.overflow="auto"),this.clickModes.includes(this.mode)&&(l.addEventListener("click",this._handleClick.bind(this)),window.addEventListener("click",this._handleWindowClick.bind(this)));let h=this.querySelector(".wc-dropdown");h.style.anchorName=`--${e}-anchor`;let u=this.querySelector(".wc-dropdown .dropdown-content");u.style.positionAnchor=`--${e}-anchor`,u.style.positionArea=t,u.style.positionTryFallbacks=o,u.style.minWidth=`${h.offsetWidth}px`}_handleHelper(n,e="open"){let{detail:t}=n,{selector:o}=t,i=".wc-dropdown",s=Array.isArray(o);if(typeof o=="string"||s)document.querySelectorAll(o).forEach(l=>{if(l===this){let c=l?.querySelector(i);e==="open"?c?.classList.add("show"):e==="close"?c?.classList.remove("show"):e==="toggle"&&c?.classList.toggle("show")}});else{let r=o?.querySelector(i);e==="open"?r?.classList.add("show"):e==="close"?r?.classList.remove("show"):e==="toggle"&&r?.classList.toggle("show")}}_handleOpen(n){this._handleHelper(n,"open")}_handleClose(n){this._handleHelper(n,"close")}_handleToggle(n){this._handleHelper(n,"toggle")}_handleClick(n){let{target:e}=n;e.closest(".wc-dropdown").classList.toggle("show")}_handleWindowClick(n){let{target:e}=n;if(e.matches(".dropbtn")||e.matches(".search")||e.closest(".halt-event"))return;this.querySelectorAll(".wc-dropdown").forEach(i=>i.classList.remove("show"))}_handleInput(n){let{target:e}=n,t=e.value.toLowerCase();this.querySelectorAll(".dropdown-content > *:not(.component)").forEach(i=>{i.textContent.toLowerCase().includes(t)?i.style.display="block":i.style.display="none"})}async _applyStyle(){let n=`
      wc-dropdown {
        /* display: contents; */
      }

      .wc-dropdown {
        display: flex;
        flex-direction: row;
      }

      /* Dropdown Button */
      .wc-dropdown .dropbtn {
        background-color: var(--button-bg-color);
        color: var(--button-color);
        padding: 16px;
        font-size: 16px;
        border: none;
        border-radius: 0;
      }
      .wc-dropdown .dropbtn.grid-round {
        background-color: transparent;
        padding: 4px;
      }
      .wc-dropdown .dropbtn.avatar {
        padding: 6px;
        border-radius: 50%;
        font-size: 0.825rem;
      }

      /* The container <div> - needed to position the dropdown content */
      .wc-dropdown .dropdown {
      }

      /* Dropdown Content (Hidden by Default) */
      .wc-dropdown .dropdown-content {
        display: none;
        position: absolute;
        background-color: var(--button-hover-bg-color);
        min-width: 160px;
        max-width: 250px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
      }

      .wc-dropdown .search {
        width: 100%;
        box-sizing: border-box;
        font-size: 12px;
        padding: 14px 20px 12px 35px;
        border-radius: 0;
      }
      .wc-dropdown .dropdown-content svg.search-svg {
        position: absolute;
        left: 8px;
        top: 20px;
        transform: translateY(-50%);
        width: 20px;
        height: 20px;
        stroke: var(--component-color);
        pointer-events: none;
      }

      /* Links inside the dropdown */
      /* .wc-dropdown .dropdown-content .wc-input, */
      .wc-dropdown .dropdown-content a {
        color: var(--component-color);
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }

      /* Change color of dropdown links on hover */
      /* .wc-dropdown .dropdown-content .wc-input:hover, */
      .wc-dropdown .dropdown-content a:hover {
        background-color: var(--component-border-color);
      }

      /* Show the dropdown menu on hover */
      .wc-dropdown:hover:not(.click):not(.search) .dropdown .dropdown-content {
        display: block;
      }
      .wc-dropdown.show .dropdown .dropdown-content {
        display: block;
      }

      /* Change the background color of the dropdown button when the dropdown content is shown */
      .wc-dropdown:hover:not(.click):not(.search) .dropdown .dropbtn {
        background-color: var(--button-hover-bg-color);
      }
      .wc-dropdown.show .dropdown .dropbtn {
        background-color: var(--button-hover-bg-color);
      }

      @position-try --bottom-left {
        position-area: bottom span-left;
      }
      @position-try --bottom-right {
        position-area: bottom span-right;
      }
      @position-try --top-left {
        position-area: top span-left;
      }
      @position-try --top-right {
        position-area: top span-right;
      }
      @position-try --right {
        position-area: right;
      }
      @position-try --left {
        position-area: left;
      }
    `.trim();await this.loadStyle("wc-dropdown-style",n)}_wireEvents(){super._wireEvents(),this.clickModes.includes(this.mode)&&(document.body.addEventListener("wc-dropdown:open",this._handleOpen.bind(this)),document.body.addEventListener("wc-dropdown:close",this._handleClose.bind(this)),document.body.addEventListener("wc-dropdown:toggle",this._handleToggle.bind(this)))}_unWireEvents(){if(super._unWireEvents(),this.clickModes.includes(this.mode)){document.body.removeEventListener("wc-dropdown:open",this._handleOpen.bind(this)),document.body.removeEventListener("wc-dropdown:close",this._handleClose.bind(this)),document.body.removeEventListener("wc-dropdown:toggle",this._handleToggle.bind(this)),this.querySelector(".dropbtn").removeEventListener("click",this._handleClick.bind(this)),window.removeEventListener("click",this._handleWindowClick.bind(this));let e=this.querySelector(".search");e&&e.removeEventListener("input",this._handleInput.bind(this))}}};customElements.define("wc-dropdown",U);var J=class extends m{static get observedAttributes(){return["id","class"]}constructor(){super();let n=this.querySelector(".wc-flip-box");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-flip-box"),this.appendChild(this.componentElement)),console.log("ctor:wc-flip-box")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-flip-box")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_render(){if(super._render(),!this.querySelector(".flip-box-inner")){this.componentElement.innerHTML="";let e=this._createInnerElement();this.componentElement.appendChild(e)}typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-flip-box")}_createInnerElement(){let n=document.createElement("div");n.classList.add("flip-box-inner");let e=this.querySelector('[slot="front"]'),t=this.querySelector('[slot="back"]');return e&&(e.classList.add("flip-box-front"),n.appendChild(e)),t&&(t.classList.add("flip-box-back"),n.appendChild(t)),this.componentElement.appendChild(n),n}_applyStyle(){let n=`
      wc-flip-box {
        display: contents;
      }

      /* The flip box container - set the width and height to whatever you want. We have added the border property to demonstrate that the flip itself goes out of the box on hover (remove perspective if you don't want the 3D effect */
      .wc-flip-box {
        background-color: transparent;
        /*
        width: 300px;
        height: 200px;
        */
        border: 1px solid var(--component-border-color);
        perspective: 1000px; /* Remove this if you don't want the 3D effect */
      }

      /* This container is needed to position the front and back side */
      .wc-flip-box .flip-box-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.8s;
        transform-style: preserve-3d;
      }

      /* Do an horizontal flip when you move the mouse over the flip box container */
      .wc-flip-box:hover .flip-box-inner {
        transform: rotateY(180deg);
      }

      /* Position the front and back side */
      .wc-flip-box .flip-box-front,
      .wc-flip-box .flip-box-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden; /* Safari */
        backface-visibility: hidden;
      }

      /* Style the front side */
      .wc-flip-box .flip-box-front {
        background-color: var(--card-bg-color);
        color: var(--text-1);
      }

      /* Style the back side */
      .wc-flip-box .flip-box-back {
        background-color: var(--card-bg-color);
        color: var(--text-1);
        transform: rotateY(180deg);
      }`.trim();this.loadStyle("wc-flip-box-style",n)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-flip-box",J);var G=class extends m{static get observedAttributes(){return["id","class","url","caption","modal","hover-overlay","hover-mode"]}constructor(){super();let n=this.querySelector(".wc-image");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-image"),this.appendChild(this.componentElement)),console.log("ctor:wc-image")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-image")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="url"||n==="caption"||n==="modal"||super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-image > *")?this.hasAttribute("modal")&&(this.querySelector(".img").addEventListener("click",this._showModal.bind(this)),this.querySelector(".overlay .closebtn").addEventListener("click",this._hideModal.bind(this))):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-image")}_createInnerElement(){let n=this.getAttribute("caption")||"",e=document.createElement("img");e.classList.add("img"),e.src=this.getAttribute("url")||"",e.alt=n;let t=document.createElement("div");if(t.textContent=n,t.classList.add("img-text"),this.componentElement.appendChild(e),this.componentElement.appendChild(t),this.hasAttribute("hover-overlay")){let l=this.getAttribute("hover-mode")||"bottom",c=document.createElement("div");c.classList.add("hover-overlay",l),this.querySelectorAll("wc-image > *:not(.wc-image").forEach(h=>c.appendChild(h)),this.componentElement.appendChild(c)}let o=document.createElement("div");o.classList.add("overlay","hidden");let i=document.createElement("button");i.classList.add("closebtn"),i.innerHTML="&times;",o.appendChild(i);let s=document.createElement("img");s.classList.add("overlay-img"),s.alt=n,o.appendChild(s);let r=document.createElement("div");r.textContent=n,r.classList.add("overlay-img-text"),o.appendChild(r),this.appendChild(o),this.hasAttribute("modal")&&(e.addEventListener("click",this._showModal.bind(this)),i.addEventListener("click",this._hideModal.bind(this)))}_handleHelper(n,e="show"){let{detail:t}=n,{selector:o}=t,i=Array.isArray(o);typeof o=="string"||i?document.querySelectorAll(o).forEach(r=>{r===this&&(e==="show"?this._showModal({target:this}):e==="hide"&&this._hideModal({target:this}))}):o===this&&(e==="show"?this._showModal({target:this}):e==="hide"&&this._hideModal({target:this}))}_handleShow(n){this._handleHelper(n,"show")}_handleHide(n){this._handleHelper(n,"hide")}_showModal(n){let{target:e}=n,t=this.querySelector(".overlay");if(t){let o=this.querySelector("img:not(.overlay-img)"),i=this.querySelector(".overlay-img");i.src=o.src,t.classList.remove("hidden"),t.classList.add("show")}}_hideModal(n){let{target:e}=n,t=this.querySelector(".overlay");t&&(t.classList.remove("show"),t.classList.add("hidden"))}_applyStyle(){let n=`
      wc-image {
        display: contents;
      }
      wc-image .wc-image {
        position: relative;
      }
      wc-image .wc-image .img {
        max-height: 300px;
        width: 100%;
        height: auto;
        object-fit: cover;
        transition: 0.3s;
      }
      wc-image[modal]:not([hover-overlay]) .wc-image .img {
        cursor: pointer;
      }
      wc-image[modal]:not([hover-overlay]) .wc-image .img:hover {
        opacity: 0.7;
      }
      wc-image .wc-image .img-text {
        color: #f2f2f2;
        font-size: 15px;
        padding: 8px 12px;
        position: absolute;
        bottom: 8px;
        width: 100%;
        text-align: center;
      }
      /* Overlay */
      wc-image .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        padding-top: 100px;
        background-color: transparent;
        transition: background-color 0.5s ease;
      }
      wc-image .overlay.show {
        background-color: rgba(0,0,0,0.8);
        z-index: 1;
      }
      wc-image .overlay .closebtn {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 40px;
        background-color: transparent;
      }
      wc-image .overlay .overlay-img {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 700px;
      }
      wc-image .overlay .overlay-img-text {
        color: #f2f2f2;
        font-size: 36px;
        padding: 8px 12px;
        position: absolute;
        width: 100%;
        text-align: center;
      }
      wc-image .overlay .overlay-img,
      wc-image .overlay .overlay-img-text {
        animation-name: img-zoom;
        animation-duration: 0.6s;
      }
      /* Hover Overlay */
      wc-image[hover-overlay] .hover-overlay.top {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 100%;
        height:0;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.top {
        top: 0;
        height: 100%;
      }
      wc-image[hover-overlay] .hover-overlay.bottom {
        position: absolute;
        bottom: 100%;
        left: 0;
        right: 0;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 100%;
        height:0;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.bottom {
        bottom: 0;
        height: 100%;
      }
      wc-image[hover-overlay] .hover-overlay.left {
        position: absolute;
        bottom: 0;
        left: 100%;
        right: 0;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 0;
        height: 100%;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.left {
        left: 0;
        width: 100%;
      }
      wc-image[hover-overlay] .hover-overlay.right {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 100%;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 0;
        height: 100%;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.right {
        right: 0;
        width: 100%;
      }

      @keyframes img-zoom {
        from { transform: scale(0); }
        to { transform: scale(1); }
      }
    `.trim();this.loadStyle("wc-image-style",n)}_wireEvents(){super._wireEvents(),this.hasAttribute("modal")&&(document.body.addEventListener("wc-image:show",this._handleShow.bind(this)),document.body.addEventListener("wc-image:hide",this._handleHide.bind(this)))}_unWireEvents(){super._unWireEvents(),this.hasAttribute("modal")&&(document.body.removeEventListener("wc-image:show",this._handleShow.bind(this)),document.body.removeEventListener("wc-image:hide",this._handleHide.bind(this)),this.querySelector(".img").removeEventListener("click",this._showModal.bind(this)),this.querySelector(".overlay .closebtn").removeEventListener("click",this._hideModal.bind(this)))}};customElements.define("wc-image",G);var Y=class extends m{static get observedAttributes(){return["id","class","path","wrap"]}constructor(){super(),this._items=[];let n=this.querySelector(".wc-menu");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-menu"),this.appendChild(this.componentElement)),console.log("ctor:wc-menu")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-menu")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):n==="wrap"||super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-menu > *")?(this.querySelectorAll(".menu-link").forEach(o=>o.addEventListener("click",this._handleClick.bind(this))),this.querySelector(".menu-toggle").addEventListener("click",this._handleMenuToggle.bind(this)),this._setActiveLink()):(this.componentElement.innerHTML="",this._createInnerElement(),this._setActiveLink()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-menu")}_createInnerElement(){this._moveDeclarativeOptions();let n=document.createElement("div");n.classList.add("menu-items"),this.hasAttribute("wrap")&&n.classList.add("flex-wrap"),this._items.forEach(o=>{let i=this._createAnchor(o.name,o.label,o.selected);n.appendChild(i)});let e=document.createElement("div");e.classList.add("menu-toggle");let t=document.createElement("a");t.href="javascript:void(0);",t.classList.add("icon","row"),t.id="menuIcon",t.innerHTML=`
        <svg class="h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"/>
        </svg>
    `.trim(),t.addEventListener("click",this._handleMenuToggle.bind(this)),this.componentElement.appendChild(n),e.appendChild(t),this.componentElement.appendChild(e)}_moveDeclarativeOptions(){let n=this.querySelectorAll("option");n.length>0&&(this._items=[]),n.forEach(e=>{let t={name:e.value,label:e.textContent.trim(),selected:e.hasAttribute("selected")||!1};this._items.push(t)}),Array.from(n).forEach(e=>e.remove())}_createAnchor(n,e,t){let o=this.getAttribute("path")||"/static/views/",i=document.createElement("a");return i.classList.add("menu-link"),t&&i.classList.add("active"),i.dataset.name=n,i.textContent=e,i.setAttribute("href",`${o}${n}.html`),i.setAttribute("hx-get",`${o}${n}.html`),i.setAttribute("hx-trigger","click"),i.setAttribute("hx-target","#viewport"),i.setAttribute("hx-swap","innerHTML transition:true"),i.setAttribute("hx-push-url",`${o}${n}.html`),i.setAttribute("hx-select","#page-contents"),i.addEventListener("click",this._handleClick.bind(this)),i}_setActiveLink(){let n=this._getCurrentRoute(),e=this.querySelectorAll(".wc-menu a");n?e.forEach(t=>{t.dataset.name===n?t.classList.add("active"):t.classList.remove("active")}):e.length>0&&(e.forEach(t=>t.classList.remove("active")),e[0].classList.add("active"))}_getCurrentRoute(){return window.location.pathname.split("/").pop().split(".").shift()}_handleHelper(n,e="click"){let{detail:t}=n,{selector:o,subSelector:i}=t,s=Array.isArray(o);typeof o=="string"||s?document.querySelectorAll(o).forEach(l=>{l===this&&e==="click"&&this.querySelector(i)?.click()}):o===this&&e==="click"&&this.querySelector(i)?.click()}_handleOnClick(n){this._handleHelper(n,"click")}_handleClick(n){let{target:e}=n;this.querySelectorAll(".wc-menu a:not(.icon)").forEach(o=>o.classList.remove("active")),e.classList.add("active")}_handleMenuToggle(n){let{target:e}=n;e.classList.toggle("open"),this.querySelector("wc-menu .wc-menu").classList.toggle("open")}_applyStyle(){let n=`
      wc-menu {
        display: contents;
      }
      wc-menu .wc-menu {
        position: relative;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        background-color: var(--card-bg-color);
        overflow: hidden;
      }
      wc-menu .wc-menu .menu-items {
        display: flex;
        flex-direction: row;
      }
      wc-menu .wc-menu a {
        color: var(--primary-color);
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
        opacity: 0.75;
        user-select: none;
      }
      wc-menu .wc-menu a:hover {
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
        opacity: 1;
      }
      wc-menu .wc-menu a.active {
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
        opacity: 1;
      }
      wc-menu .wc-menu a.icon {
        display: none;
      }
      @media (max-width: 600px) {
        wc-menu .wc-menu a:not(.active) {
          display: none;
        }
        wc-menu .wc-menu a.icon {
          display: block;
        }
      }
      @media (max-width: 600px) {
        wc-menu .wc-menu.open {
          position: relative;
        }
        wc-menu .wc-menu.open .menu-items {
          flex-direction: column;
          flex: 1 1 0%;
        }
        wc-menu .wc-menu.open a:active {
          background-color: var(--primary-bg-color);
          color: var(--primary-color);
          opacity: 1;
        }
        wc-menu .wc-menu.open .icon {
          background-color: var(--primary-bg-color);
          color: var(--primary-color);
          opacity: 1;
          position: absolute;
          right: 0;
          top: 0;
        }
        wc-menu .wc-menu.open a {
          float: none;
          display: block;
          text-align: left;
        }
      }
    `.trim();this.loadStyle("wc-menu-style",n)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-menu:click",this._handleOnClick.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-menu:click",this._handleOnClick.bind(this)),this.querySelectorAll(".menu-link").forEach(t=>t.removeEventListener("click",this._handleClick.bind(this))),this.querySelector(".menu-toggle").removeEventListener("click",this._handleMenuToggle.bind(this))}};customElements.define("wc-menu",Y);if(!customElements.get("wc-page-designer")){class a extends HTMLElement{static get observedAttributes(){return["theme","json-layout","json-layout-fetch-url","json-schema-fetch-url"]}theme="theme-royal dark";designerState={elements:[],selectedElement:null,schema:null,rules:[],editingRuleIndex:-1};designerSurface=null;containerElements=null;formElements=null;schemaFields=null;previewButton=null;renderedPreviewButton=null;preRenderedPreviewButton=null;previewFrame=null;generateJsonButton=null;jsonOutput=null;propId=null;propType=null;propLabel=null;propScope=null;propCss=null;propRequired=null;savePropertiesButton=null;noSelectionPanel=null;elementPropertiesPanel=null;schemaJson=null;loadSchemaButton=null;addRuleButton=null;rulesList=null;saveRuleButton=null;loadDesignButton=null;copyDesignButton=null;downloadDesignButton=null;constructor(){super(),this.loadCSS=k.bind(this),this.loadScript=S.bind(this),this.loadLibrary=_.bind(this),this.loadStyle=A.bind(this),this.elementCustomProperties={a:[{name:"href",label:"Href",type:"string"},{name:"target",label:"Target",type:"string"}],"data-array":[{name:"has_add_new",label:"Has Add New?",type:"boolean"}],"data-item":[],option:[{name:"value",label:"Value",type:"string"},{name:"content",label:"Content",type:"multiline-string"},{name:"is_selected",label:"Is Selected?",type:"boolean"}],"wc-accordion-option":[{name:"value",label:"Value",type:"string"},{name:"content",label:"Content",type:"multiline-string"},{name:"is_selected",label:"Is Selected?",type:"boolean"}],"wc-accordion":[{name:"allow_many",label:"Allow Many?",type:"boolean"}],"wc-breadcrumb":[{name:"title",label:"Title",type:"string"}],"wc-breadcrumb-item":[{name:"link",label:"Link",type:"string"}],"wc-form":[{name:"method",label:"Method",type:"string"},{name:"action",label:"Action",type:"string"}],"wc-input":[{name:"minlength",label:"Min Length",type:"string"},{name:"maxlength",label:"Max Length",type:"string"},{name:"placeholder",label:"Placeholder",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-checkbox":[{name:"is_toggle",label:"Is Toggle",type:"boolean"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-currency":[{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"step",label:"Step",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-date":[{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-email":[{name:"minlength",label:"Min Length",type:"string"},{name:"maxlength",label:"Max Length",type:"string"},{name:"placeholder",label:"Placeholder",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-month":[{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-number":[{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"step",label:"Step",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-range":[{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"step",label:"Step",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-tel":[{name:"minlength",label:"Min Length",type:"string"},{name:"maxlength",label:"Max Length",type:"string"},{name:"placeholder",label:"Placeholder",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-time":[{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-week":[{name:"min",label:"Min",type:"string"},{name:"max",label:"Max",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-radio-collection":[{name:"collName",label:"Collection Name",type:"string"},{name:"collCSS",label:"Collection CSS",type:"string"},{name:"collDisplayMember",label:"Display Member",type:"string"},{name:"collValueMember",label:"Value Member",type:"string"},{name:"group_class",label:"Radio Group Class",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-radio-lookup":[{name:"lookupName",label:"Lookup Name",type:"string"},{name:"lookupCSS",label:"Lookup CSS",type:"string"},{name:"group_class",label:"Radio Group Class",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-input-radio":[{name:"group_class",label:"Radio Group Class",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-javascript":[{name:"content",label:"Content",type:"multiline-string"},{name:"has_defer",label:"Defer?",type:"boolean"}],"wc-loader":[{name:"size",label:"Size",type:"string"},{name:"speed",label:"Speed",type:"string"},{name:"thickness",label:"Thickness",type:"string"}],"wc-option":[{name:"value",label:"Value",type:"string"},{name:"is_selected",label:"Is Selected?",type:"boolean"}],"wc-save-button":[{name:"saveUrl",label:"Save URL",type:"string"}],"wc-save-split-button":[{name:"positionArea",label:"Position Area",type:"string"},{name:"saveUrl",label:"Save URL",type:"string"},{name:"saveNewUrl",label:"Save New URL",type:"string"},{name:"saveReturnUrl",label:"Save Return URL",type:"string"}],"wc-script":[{name:"src",label:"Src",type:"string"}],"wc-select-multiple-collection":[{name:"mode",label:"Mode",type:"string"},{name:"collName",label:"Collection Name",type:"string"},{name:"collCSS",label:"Collection CSS",type:"string"},{name:"collDisplayMember",label:"Display Member",type:"string"},{name:"collValueMember",label:"Value Member",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"},{name:"allow_dynamic",label:"Allow Dynamic",type:"boolean"}],"wc-select-multiple-lookup":[{name:"mode",label:"Mode",type:"string"},{name:"lookupName",label:"Lookup Name",type:"string"},{name:"lookupCSS",label:"Lookup CSS",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"},{name:"allow_dynamic",label:"Allow Dynamic",type:"boolean"}],"wc-select-multiple":[{name:"mode",label:"Mode",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"},{name:"allow_dynamic",label:"Allow Dynamic",type:"boolean"}],"wc-select-collection":[{name:"collName",label:"Collection Name",type:"string"},{name:"collCSS",label:"Collection CSS",type:"string"},{name:"collDisplayMember",label:"Display Member",type:"string"},{name:"collValueMember",label:"Value Member",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-select-lookup":[{name:"lookupName",label:"Lookup Name",type:"string"},{name:"lookupCSS",label:"Lookup CSS",type:"string"},{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-select":[{name:"is_readonly",label:"Is Readonly",type:"boolean"},{name:"is_disabled",label:"Is Disabled",type:"boolean"}],"wc-slideshow":[{name:"autoplay",label:"Autoplay?",type:"boolean"},{name:"autoplay_interval",label:"Autoplay Interval",type:"number"}],"wc-slideshow-image":[{name:"url",label:"URL",type:"string"},{name:"caption",label:"Caption",type:"string"},{name:"numbertext",label:"Number Text",type:"string"}],"wc-split-button":[{name:"positionArea",label:"Position Area",type:"string"}],"wc-textarea":[{name:"placeholder",label:"Placeholder",type:"string"},{name:"rows",label:"Rows",type:"number"}],"wc-theme-selector":[{name:"theme",label:"Theme",type:"string"},{name:"mode",label:"Mode",type:"string"}],"wc-sidebar":[{name:"width",label:"Width",type:"string"},{name:"background_color",label:"Background Color",type:"string"},{name:"push_target",label:"Push Target",type:"string"},{name:"is_auto_height",label:"Is Auto Height?",type:"boolean"},{name:"is_right_side",label:"Is Right Side?",type:"boolean"}],"wc-sidenav":[{name:"width",label:"Width",type:"string"},{name:"open_top",label:"Open Top",type:"string"},{name:"open_btn_css",label:"Open Button CSS",type:"string"},{name:"close_btn_css",label:"Close Button CSS",type:"string"},{name:"background_color",label:"Background Color",type:"string"},{name:"is_push",label:"Is Push?",type:"boolean"},{name:"push_target",label:"Push Target",type:"string"},{name:"is_open",label:"Is Open?",type:"boolean"},{name:"is_auto_height",label:"Is Auto Height?",type:"boolean"},{name:"has_open_vertical_text",label:"Has Open Vertical Text?",type:"boolean"},{name:"is_right_side",label:"Is Right Side?",type:"boolean"},{name:"is_overlay",label:"Is Overlay?",type:"boolean"}]};let e=this.querySelector(".wc-page-designer");e?this.componentElement=e:this.createElement(),console.log("ctor:wc-page-designer")}async connectedCallback(){await this.render(),this._applyStyle(),this.wireEvents(),setTimeout(()=>{this.setup()},250),console.log("conntectedCallback:wc-page-designer")}disconnectedCallback(){this.unWireEvents()}attributeChangedCallback(e,t,o){if(e==="theme"){let i=this.theme;this.theme=o;let s=this.querySelector(".wc-page-designer");s.className=s.className.replace(i,o),console.log("wc-page-designer:attributeChangedCallback - designer",s.className)}else e==="json-layout"?(this.jsonLayout=o,console.log("wc-page-designer:attributeChangedCallback - json-layout",this.jsonLayout)):e==="json-layout-fetch-url"?(this.jsonLayoutFetchUrl=o,this.querySelector('wc-code-mirror[name="jsonLayout"]').setAttribute("fetch",this.jsonLayoutFetchUrl),console.log("wc-page-designer:attributeChangedCallback - json-layout-fetch-url",this.jsonLayoutFetchUrl)):e==="json-schema-fetch-url"&&(this.jsonSchemaFetchUrl=o,this.querySelector('wc-code-mirror[name="jsonSchema"]').setAttribute("fetch",this.jsonSchemaFetchUrl),console.log("wc-page-designer:attributeChangedCallback - json-schema-fetch-url",this.jsonSchemaFetchUrl))}async render(){await Promise.all([this.loadLibrary("https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js","Sortable"),this.loadLibrary("https://cdnjs.cloudflare.com/ajax/libs/uuid/8.3.2/uuid.min.js","uuid")]),wc.EventHub.broadcast("wc-page-designer:ready","","")}createElement(){let e=`
  <div class="wc-page-designer ${this.theme} flex flex-row flex-1 min-h-0 h-screen">
    <!-- Left Panel - Elements -->
    <div class="left-panel flex flex-col min-h-0 overflow-scroll p-2">
      <wc-tab class="flex flex-col flex-1 min-h-0" animate>
        <wc-tab-item class="active" label="Containers">
          <div class="element-list p-2 flex flex-col min-h-0 overflow-scroll" id="container-elements">
            <div class="element-item" data-element-type="div" draggable="true">Div</div>
            <div class="element-item" data-element-type="column" draggable="true">Column</div>
            <div class="element-item" data-element-type="row" draggable="true">Row</div>
            <div class="element-item" data-element-type="data-array" draggable="true">Data Array</div>
            <div class="element-item" data-element-type="data-item" draggable="true">Data Item</div>
            <div class="element-item" data-element-type="fieldset" draggable="true">Fieldset</div>
            <div class="element-item" data-element-type="wc-accordion" draggable="true">WC Accordion</div>
            <div class="element-item" data-element-type="wc-breadcrumb" draggable="true">WC Breadcrumb</div>
            <div class="element-item" data-element-type="wc-form" draggable="true">WC Form</div>
            <div class="element-item" data-element-type="wc-input-radio" draggable="true">WC Input Radio</div>
            <div class="element-item" data-element-type="wc-select-multiple" draggable="true">WC Select Multiple</div>
            <div class="element-item" data-element-type="wc-select" draggable="true">WC Select</div>
            <div class="element-item" data-element-type="wc-sidebar" draggable="true">WC Sidebar</div>
            <div class="element-item" data-element-type="wc-sidenav" draggable="true">WC Sidenav</div>
            <div class="element-item" data-element-type="wc-slideshow" draggable="true">WC Slideshow</div>
            <div class="element-item" data-element-type="wc-split-button" draggable="true">WC Split Button</div>
            <div class="element-item" data-element-type="wc-tab" draggable="true">WC Tab Container</div>
            <div class="element-item" data-element-type="wc-tab-item" draggable="true">WC Tab Item</div>
            <div class="element-item" data-element-type="wc-tabulator" draggable="true">WC Tabulator</div>
            <div class="element-item" data-element-type="wc-timeline" draggable="true">WC Timeline</div>
          </div>
        </wc-tab-item>
        <wc-tab-item class="" label="Elements">
          <div class="element-list p-2 flex flex-col min-h-0 overflow-scroll" id="form-elements">
            <div class="element-item" data-element-type="a" draggable="true">Anchor</div>
            <div class="element-item" data-element-type="hr" draggable="true">Horizontal Line</div>
            <div class="element-item" data-element-type="wc-article-skeleton" draggable="true">WC Article Skeleton</div>
            <div class="element-item" data-element-type="wc-card-skeleton" draggable="true">WC Card Skeleton</div>
            <div class="element-item" data-element-type="wc-list-skeleton" draggable="true">WC List Skeleton</div>
            <div class="element-item" data-element-type="wc-table-skeleton" draggable="true">WC Table Skeleton</div>
            <div class="element-item" data-element-type="wc-accordion-option" draggable="true">WC Accordion Option</div>
            <div class="element-item" data-element-type="wc-background-image" draggable="true">WC Backgruond Image</div>
            <div class="element-item" data-element-type="wc-breadcrumb-item" draggable="true">WC Breadcrumb Item</div>
            <div class="element-item" data-element-type="wc-code-mirror" draggable="true">WC Code Mirror</div>
            <div class="element-item" data-element-type="wc-contact-card" draggable="true">WC Contact Card</div>
            <div class="element-item" data-element-type="wc-contact-chip" draggable="true">WC Contact Chip</div>
            <div class="element-item" data-element-type="wc-hotkey" draggable="true">WC Hotkey</div>
            <div class="element-item" data-element-type="wc-image" draggable="true">WC Image</div>
            <div class="element-item" data-element-type="wc-input" draggable="true">WC Input</div>
            <div class="element-item" data-element-type="wc-input-checkbox" draggable="true">WC Input Checkbox</div>
            <div class="element-item" data-element-type="wc-input-currency" draggable="true">WC Input Currency</div>
            <div class="element-item" data-element-type="wc-input-date" draggable="true">WC Input Date</div>
            <div class="element-item" data-element-type="wc-input-email" draggable="true">WC Input Email</div>
            <div class="element-item" data-element-type="wc-input-month" draggable="true">WC Input Month</div>
            <div class="element-item" data-element-type="wc-input-number" draggable="true">WC Input Number</div>
            <div class="element-item" data-element-type="wc-input-radio-collection" draggable="true">WC Input Radio Collection</div>
            <div class="element-item" data-element-type="wc-input-radio-lookup" draggable="true">WC Input Radio Lookup</div>
            <div class="element-item" data-element-type="wc-input-range" draggable="true">WC Input Range</div>
            <div class="element-item" data-element-type="wc-input-tel" draggable="true">WC Input Phone</div>
            <div class="element-item" data-element-type="wc-input-time" draggable="true">WC Input Time</div>
            <div class="element-item" data-element-type="wc-input-week" draggable="true">WC Input Week</div>
            <div class="element-item" data-element-type="wc-loader" draggable="true">WC Loader</div>
            <div class="element-item" data-element-type="wc-option" draggable="true">WC Option</div>
            <div class="element-item" data-element-type="wc-save-button" draggable="true">WC Save Button</div>
            <div class="element-item" data-element-type="wc-save-split-button" draggable="true">WC Save Split Button</div>
            <div class="element-item" data-element-type="wc-script" draggable="true">WC Script</div>
            <div class="element-item" data-element-type="wc-select-multiple-collection" draggable="true">WC Select Multiple Collection</div>
            <div class="element-item" data-element-type="wc-select-multiple-lookup" draggable="true">WC Select Multiple Lookup</div>
            <div class="element-item" data-element-type="wc-select-collection" draggable="true">WC Select Collection</div>
            <div class="element-item" data-element-type="wc-select-lookup" draggable="true">WC Select Lookup</div>
            <div class="element-item" data-element-type="wc-slideshow-image" draggable="true">WC Slideshow Image</div>
            <div class="element-item" data-element-type="wc-tabulator-column" draggable="true">WC Tabulator Column</div>
            <div class="element-item" data-element-type="wc-tabulator-func" draggable="true">WC Tabulator Func</div>
            <div class="element-item" data-element-type="wc-tabulator-row-menu" draggable="true">WC Tabulator Row Menu</div>
            <div class="element-item" data-element-type="wc-textarea" draggable="true">WC Textarea</div>
            <div class="element-item" data-element-type="wc-theme-selector" draggable="true">WC Theme Selector</div>
          </div>
        </wc-tab-item>
        <wc-tab-item class="" label="Fields">
          <div class="element-list p-2 flex flex-col min-h-0 overflow-scroll" id="schema-fields">
            <!-- Will be populated dynamically -->
          </div>
        </wc-tab-item>
      </wc-tab>      
    </div>

    <!-- Center Panel - Designer Surface -->
    <div id="center-panel" class="flex flex-col flex-1 min-h-0 min-w-0">
      <wc-tab id="center-tab-control" class="flex flex-col flex-1 min-h-0 min-w-0 p-2" animate>
        <wc-tab-item class="active" label="Canvas">
          <div class="designer-surface flex flex-col flex-1 min-h-0 overflow-scroll" id="designer-surface"></div>
        </wc-tab-item>
        <wc-tab-item label="Schema">
          <div class="flex flex-col flex-1 min-h-0 overflow-scroll gap-2">
            <wc-code-mirror class="flex flex-col flex-1 min-h-0"
              _="install HandleCodeMirrorTabChange end"
              name="jsonSchema"
              line-numbers
              line-wrapper
              fold-gutter
              mode="javascript"
              theme="monokai"
              tab-size="2"
              indent-unit="2">
            </wc-code-mirror>
            <div class="flex flex-row justify-end gap-2 p-2">
              <button id="load-schema" class="btn btn-primary">Load Schema</button>
            </div>
          </div>
        </wc-tab-item>
        <wc-tab-item label="Layout JSON">
          <div class="flex flex-col flex-1 min-h-0 min-w-0 overflow-scroll">
            <wc-code-mirror class="flex flex-col flex-1 min-h-0 min-w-0 w-full max-w-full box-border"
              _="install HandleCodeMirrorTabChange end"
              name="jsonLayout"
              line-numbers
              line-wrapper
              fold-gutter
              mode="javascript"
              theme="monokai"
              tab-size="2"
              indent-unit="2"
              >
            </wc-code-mirror>
            <div class="flex flex-row justify-end gap-2 p-2">
              <button id="copy-design" class="btn btn-secondary">Copy to Clipboard</button>
              <button id="download-design" class="btn btn-primary">Download Design</button>
              <button id="load-design" class="btn btn-info">Apply Design</button>
            </div>
          </div>
        </wc-tab-item>
        <wc-tab-item label="Raw Preview">
          <iframe id="pre-rendered-preview" name="pre-rendered-preview" class="border-none flex flex-col flex-1 min-h-0 overflow-scroll">
          </iframe>
        </wc-tab-item>
        <wc-tab-item label="Preview">
          <iframe id="rendered-preview" name="rendered-preview" class="border-none flex flex-col flex-1 min-h-0 overflow-scroll">
          </iframe>
        </wc-tab-item>
      </wc-tab>
    </div>
    <!-- Right Panel - Properties -->
    <div class="right-panel flex flex-col min-h-0 overflow-scroll p-2">
      <wc-tab id="right-panel" class="flex flex-col flex-1 min-h-0" animate>
        <wc-tab-item class="active" label="Properties">
          <div class="flex flex-col flex-1 min-h-0 min-w-0 overflow-scroll gap-2 py-2 px-4">
            <div id="no-selection" class="col-1 text-center text-muted py-4">
              <p>Select an element to view and edit its properties</p>
            </div>
            <div id="element-properties" class="col-1 gap-2 hidden">
              <div class="row">
                <wc-input name="prop-id" lbl-label="ID" class="col-1" readonly></wc-input>
              </div>
              <div class="row">
                <wc-input name="prop-type" lbl-label="Type" class="col-1"></wc-input>
              </div>
              <div class="row">
                <wc-input name="prop-label" lbl-label="Label" class="col-1"></wc-input>
              </div>
              <div class="row">
                <wc-input name="prop-scope" lbl-label="Scope" class="col-1"></wc-input>
              </div>
              <div class="row">
                <wc-input name="prop-css" lbl-label="CSS" class="col-1"></wc-input>
              </div>
              <div class="row">
                <wc-input name="prop-required" lbl-label="Required" class="col" type="checkbox" toggle-switch></wc-input>
              </div>
              <!-- Custom properties will be dynamically added here -->
              <div id="custom-properties-container" class="mt-3">
                <h6 class="text-muted mb-2 element-type-header">Custom Properties</h6>
                <div id="custom-properties" class="col-1 gap-2"></div>
              </div>
              <div class="row">
                <button id="save-properties" class="col-1 btn btn-primary">Apply</button>
              </div>
            </div>
          </div>
        </wc-tab-item>
        <wc-tab-item class="" label="Rules">
          <div class="col-1 gap-2 py-2 px-4">
            <div id="rules-no-selection" class="text-center text-muted py-4">
              <p>Select an element to view and edit its rules</p>
            </div>
            <div id="element-rules" class="d-none">
              <div id="rules-list" class="flex flex-col gap-2">
                <!-- Rules will be added here -->
              </div>
              <div class="flex flex-row justify-end mt-2">
                <button id="add-rule" class="">Add Rule</button>
              </div>
            </div>
          </div>
        </wc-tab-item>
      </wc-tab>
    </div>
  </div>
  
  <template id="rule-template">
    <swal-title class="text-sm">
      Edit Rule
    </swal-title>
    <swal-html>
      <div class="flex flex-col flex-1 gap-2 text-sm">
        <div class="flex flex-row flex-1">
          <wc-select name="rule-effect" lbl-label="Effect" class="flex-1">
            <option value="COPY">Copy Value</option>
            <option value="COPY-TOLOWER">Copy to Lowercase</option>
            <option value="COPY-TOLOWER-UNDERSCORE">Copy to Lowercase with Underscores</option>
            <option value="SHOW">Show Element</option>
            <option value="HIDE">Hide Element</option>
            <option value="ENABLE">Enable Element</option>
            <option value="DISABLE">Disable Element</option>
            <option value="REQUIRE">Make Required</option>
            <option value="UN-REQUIRE">Make Optional</option>
          </wc-select>
        </div>
        <fieldset class="flex flex-col flex-1 p-2 gap-2">
          <legend>Condition</legend>
          <div class="flex flex-row flex-1">
            <wc-input name="rule-condition-scope" lbl-label="Scope" class="flex-1">
            </wc-input>
          </div>
          <div class="flex flex-row flex-1 gap-2">
            <wc-select name="rule-schema-type" lbl-label="Rule Type" class="flex-1">
              <option value="">Choose...</option>
              <option value="minLength">Min Length</option>
              <option value="maxLength">Max Length</option>
              <option value="pattern">Pattern</option>
              <option value="minimum">Minimum</option>
              <option value="maximum">Maximum</option>
              <option value="const">Constant</option>
              <option value="enum">Enum</option>
            </wc-select>
            <wc-input name="rule-schema-value" lbl-label="Value" class="flex-1">
            </wc-input>            
          </div>
          <div class="flex flex-row flex-1">
            <wc-input name="rule-src-data-id" lbl-label="Source Element ID" class="flex-1">
            </wc-input>
          </div>
          <div class="flex flex-row flex-1 gap-2">
            <wc-input name="rule-src-selector" lbl-label="Source Selector (optional)" class="flex-1">
            </wc-input>
            <wc-input name="rule-src-property" lbl-label="Source Property (optional)" class="flex-1">
            </wc-input>
          </div>
        </fieldset>
        <fieldset class="flex flex-col flex-1 p-2 gap-2">
          <legend>Target</legend>
          <div class="flex flex-row flex-1">
            <!--
            <wc-input name="rule-tgt-data-id" lbl-label="Target Element ID" class="flex-1">
            </wc-input>
            -->
            <wc-select name="rule-tgt-data-id" lbl-label="Target Element ID" class="flex-1">
            </wc-select>
          </div>
          <div class="flex flex-row flex-1 gap-2">
            <wc-input name="rule-tgt-selector" lbl-label="Target Selector (optional)" class="flex-1">
            </wc-input>
            <wc-input name="rule-tgt-property" lbl-label="Target Property (optional)" class="flex-1">
            </wc-input>
          </div>
        </fieldset>
      </div>
    </swal-html>
    <swal-button type="cancel">
      Cancel
    </swal-button>
    <swal-button type="confirm">
      Save Rule
    </swal-button>
    <swal-param name="allowEscapeKey" value="false" />
    <swal-param name="allowOutsideClick" value="false" />
  </template>
      
      `;this.innerHTML=e}_applyStyle(){this.loadStyle("wc-page-designer-style",`
        wc-page-designer {
          display: contents;
        }
        wc-page-designer .left-panel {
          width: 275px;
          border-right: 1px solid #dee2e6;
        }
        wc-page-designer .center-panel {
          flex: 1;
          background-color: #f8f9fa;
          position: relative;
        }
        wc-page-designer .right-panel {
          width: 300px;
          border-left: 1px solid #dee2e6;
        }
        wc-page-designer .element-list {
          margin-bottom: 20px;
        }
        wc-page-designer .element-item {
          padding: 8px 12px;
          margin-bottom: 5px;
          border: 1px solid var(--button-bg-color);
          border-radius: 4px;
          color: var(--button-color);
          cursor: move;
          user-select: none;
        }
        wc-page-designer .element-item:hover {
          background-color: var(--button-hover-bg-color);
        }
        wc-page-designer .designer-surface {
          padding: 20px;
          background-color: white;
        }
        /* Designer element styling */
        wc-page-designer .designer-element {
          padding: 10px;
          margin: 5px 0;
          border: 2px solid #dee2e6;
          border-radius: 4px;
          position: relative;
        }
        wc-page-designer .designer-element.selected {
          border: 2px solid var(--swatch-9);
        }
        wc-page-designer .designer-element-container {
          min-height: 50px;
          padding: 10px;
          border: 2px dashed #6c757d;
          margin: 8px 0;
          position: relative;
        }
        wc-page-designer .designer-element-container.drag-over {
          background-color: rgba(13, 110, 253, 0.1);
          border: 1px dashed #0d6efd;
        }
        wc-page-designer .designer-element-placeholder {
          height: 50px;
          margin: 8px 0;
          background-color: #f1f1f1;
          text-align: center;
          line-height: 50px;
          color: #6c757d;
        }
        wc-page-designer .container-drop-indicator {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          z-index: -1;
        }
        wc-page-designer .element-actions {
          position: absolute;
          top: 5px;
          right: 5px;
          display: flex;
          gap: 5px;
        }
        wc-page-designer .element-actions button {
          padding: 2px 5px;
          font-size: 12px;
        }
        wc-page-designer .element-type-header {
          font-size: 12px;
          font-weight: bold;
          color: #6c757d;
          margin-bottom: 5px;
          display: block;
        }
        wc-page-designer .element-label {
          font-weight: bold;
          color: var(--text-9);
        }
        wc-page-designer .preview-container {
          height: 100%;
          width: 100%;
          position: absolute;
          top: 0;
          left: 0;
          background-color: white;
          z-index: 1000;
          padding: 20px;
          overflow-y: auto;
        }
        wc-page-designer .preview-container.hidden {
          display: none;
        }
        wc-page-designer .invisible-placeholder {
          visibility: hidden;
          height: 0;
          padding: 0;
          margin: 0;
        }


        wc-page-designer .dark .designer-surface {
          background-color: var(--surface-1);
        }
        wc-page-designer .dark .left-panel {
          border-right: 1px solid var(--surface-1);
        }
        wc-page-designer .dark .right-panel {
          border-left: 1px solid var(--surface-1);
        }
        wc-page-designer .dark .designer-element {
          border: 2px solid var(--surface-4);
        }
        wc-page-designer .dark .designer-element.selected {
          border: 2px solid var(--surface-6);
        }
        wc-page-designer .dark .designer-element-container {
          border: 2px dashed var(--surface-5);
        }
        wc-page-designer .dark .designer-element-container.drag-over {
          background-color: rgba(13, 110, 253, 0.1);
          background-color: color-mix(in oklch, var(--surface-2) 50%, transparent);
          border: 1px dashed var(--surface-5);
        }
        wc-page-designer .dark .designer-element-placeholder {
          background-color: var(--surface-3);
          color: var(--text-7);
        }          
        wc-page-designer .dark .element-type-header {
          color: var(--text-3);
        }
        wc-page-designer .dark .element-label {
          color: var(--text-5);
        }
        wc-page-designer .dark .preview-container {
          background-color: white;
        }
      `)}wireEvents(){}unWireEvents(){console.log("unWireEvents:wc-page-designer")}setup(){this.hasAttribute("data-wired")||(this.designerSurface=document.getElementById("designer-surface"),this.containerElements=document.getElementById("container-elements"),this.formElements=document.getElementById("form-elements"),this.schemaFields=document.getElementById("schema-fields"),this.previewButton=document.querySelector('button[data-label="Preview"]'),this.renderedPreviewButton=document.querySelector('button[data-label="Preview"]'),this.preRenderedPreviewButton=document.querySelector('button[data-label="Raw Preview"]'),this.generateJsonButton=document.querySelector('button[data-label="Layout JSON"]'),this.jsonOutput=document.querySelector('wc-code-mirror[name="jsonLayout"]'),this.propId=document.getElementById("prop-id"),this.propType=document.getElementById("prop-type"),this.propLabel=document.getElementById("prop-label"),this.propScope=document.getElementById("prop-scope"),this.propCss=document.getElementById("prop-css"),this.propRequired=document.getElementById("prop-required"),this.savePropertiesButton=document.getElementById("save-properties"),this.noSelectionPanel=document.getElementById("no-selection"),this.elementPropertiesPanel=document.getElementById("element-properties"),this.schemaJson=document.querySelector('wc-code-mirror[name="jsonSchema"]'),this.loadSchemaButton=document.getElementById("load-schema"),this.addRuleButton=document.getElementById("add-rule"),this.rulesList=document.getElementById("rules-list"),this.saveRuleButton=document.getElementById("save-rule"),this.loadDesignButton=document.getElementById("load-design"),this.copyDesignButton=document.getElementById("copy-design"),this.downloadDesignButton=document.getElementById("download-design"),this.init(),this.setAttribute("data-wired",!0))}init(){this.initDragAndDrop(),this.initDropZone(this.designerSurface,null),new Sortable(this.designerSurface,{group:"elements",animation:150,onEnd:e=>{this.updateTopLevelElementsOrder()}}),this.initEventListeners()}updateTopLevelElementsOrder(){let e=[];this.designerSurface.querySelectorAll(":scope > .designer-element").forEach(o=>{let i=o.getAttribute("data-id"),s=this.findElementById(i);s&&e.push(s)}),this.designerState.elements=e}initDragAndDrop(){document.querySelectorAll(".element-item").forEach(t=>{t.addEventListener("dragstart",o=>{o.dataTransfer.setData("element-type",t.getAttribute("data-element-type")),o.dataTransfer.setData("schema-field",t.getAttribute("data-schema-field")||""),o.dataTransfer.effectAllowed="copy"})})}initDropZone(e,t=null){e.setAttribute("data-drop-zone","true"),e.addEventListener("dragover",o=>{o.preventDefault(),o.dataTransfer.dropEffect="copy",e.classList.add("drag-over")}),e.addEventListener("dragleave",o=>{e.classList.remove("drag-over")}),e.addEventListener("drop",o=>{o.preventDefault(),o.stopPropagation(),e.classList.remove("drag-over");let i=o.dataTransfer.getData("element-type"),s=o.dataTransfer.getData("schema-field");if(i){let r="",l="";if(s){r=s;let b=s.split("/");if(b.length>0&&(l=b[b.length-1],s.includes("$defs"))){let g=b[2],v=b[b.length-1];g&&v&&(l=g+"."+v)}}else l=this.getDefaultLabel(i);let c=this.generateUniqueId(),d={id:c,"data-id":c,type:i,label:l,scope:r,css:"",required:!1,rules:[],elements:[]},h=this.elementCustomProperties[i];if(h&&h.length>0&&h.forEach(b=>{b.type==="boolean"?d[b.name]=!1:b.type==="number"?d[b.name]=null:d[b.name]=""}),t){let b=this.findElementById(t);b&&(b.elements||(b.elements=[]),b.elements.push(d))}else this.designerState.elements.push(d);let u=e.querySelector(".designer-element-placeholder");if(u&&u.parentNode===e)try{e.removeChild(u)}catch(b){console.log("Could not remove placeholder:",b)}let p=this.createElementNode(d);e.appendChild(p),e.classList.contains("designer-element-container")&&setTimeout(()=>{if(!e.querySelector(".designer-element-placeholder")){let b=document.createElement("div");b.className="designer-element-placeholder",b.textContent="Drop more elements here",e.appendChild(b)}},100),this.isContainerElement(i)&&document.querySelectorAll(".designer-element-container:not([data-drop-zone])").forEach(g=>{let v=g.getAttribute("data-container-for");v&&this.initDropZone(g,v)})}})}initEventListeners(){this.renderedPreviewButton.addEventListener("click",this.renderPreview.bind(this)),this.preRenderedPreviewButton.addEventListener("click",this.preRenderPreview.bind(this)),this.generateJsonButton.addEventListener("click",this.generateJson.bind(this)),this.savePropertiesButton.addEventListener("click",this.saveProperties.bind(this)),this.loadSchemaButton.addEventListener("click",()=>{try{let e=JSON.parse(this.schemaJson.editor.getValue());this.loadSchema(e)}catch{alert("Invalid JSON schema")}}),this.schemaJson.addEventListener("fetch-complete",e=>{try{let t=JSON.parse(this.schemaJson.editor.getValue());this.loadSchema(t),console.log("wc-page-designer:schemaJson - fetch-complete")}catch{alert("Invalid JSON schema")}}),this.addRuleButton.addEventListener("click",()=>{this.designerState.editingRuleIndex=-1;let e={focusConfirm:!1,template:"template#rule-template",didOpen:()=>{let t=document.querySelector(".swal2-container");if(t){if(this.designerState.selectedElement){let o=document.getElementById("rule-src-data-id");o.value=this.designerState.selectedElement.id;let i=JSON.parse(this.jsonOutput.editor.getValue()),s=WaveHelpers.extractSrcElements(i),r=document.getElementById("rule-tgt-data-id");r.innerHTML="";let l=document.createElement("option");l.value="",l.textContent="Choose...",r.appendChild(l),s.forEach(c=>{l=document.createElement("option"),l.value=c.dataId,l.textContent=c.label,r.appendChild(l)})}htmx.process(t),_hyperscript.processNode(t)}},preConfirm:()=>{let t=document.getElementById("rule-effect").value,o=document.getElementById("rule-condition-scope").value,i=document.getElementById("rule-schema-type").value,s=document.getElementById("rule-schema-value").value,r=document.getElementById("rule-src-data-id").value,l=document.getElementById("rule-src-selector").value||"",c=document.getElementById("rule-src-property").value||"",d=document.getElementById("rule-tgt-data-id").value,h=document.getElementById("rule-tgt-selector").value||"",u=document.getElementById("rule-tgt-property").value||"",p={effect:t,condition:{scope:o,schema:{[i]:s},srcDataId:r,srcSelector:l,srcProperty:c},tgtDataId:d,tgtSelector:h,tgtProperty:u};if(i&&s)switch(i){case"minLength":case"maxLength":case"minimum":case"maximum":p.condition.schema[i]=parseInt(s);break;case"pattern":p.condition.schema[i]=s;break;case"const":p.condition.schema[i]=s;break;case"enum":p.condition.schema[i]=s.split(",").map(b=>b.trim());break}return p},callback:t=>{console.log("rule-template - result:",t),this.saveRule(t)}};wc.Prompt.notifyTemplate(e)}),this.jsonOutput.addEventListener("wc-code-mirror:ready",()=>{this.jsonOutput.editor.on("change2",async()=>{try{let e=this.jsonOutput.editor.getValue().trim(),t=JSON.parse(e);this.loadDesign(t)}catch(e){alert("Invalid JSON format: "+e.message)}})}),this.jsonOutput.addEventListener("fetch-complete",e=>{let t=this.jsonOutput.editor.getValue().trim(),o=JSON.parse(t);this.loadDesign(o)}),this.loadDesignButton.addEventListener("click",()=>{try{let e=this.jsonOutput.editor.getValue().trim();if(!e){alert("Please paste a valid JSON layout");return}let t=JSON.parse(e);this.loadDesign(t),wc.Prompt.toast({title:"Load Succeeded!"})}catch(e){alert("Invalid JSON format: "+e.message)}}),this.copyDesignButton.addEventListener("click",this.copyDesign.bind(this)),this.downloadDesignButton.addEventListener("click",()=>{let e=this.jsonOutput.editor.getValue(),o="layout-ui-design.json",i=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(i),r=document.createElement("a");r.href=s,r.download=o,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)})}createElementObject({type:e,label:t="",scope:o="",parentElement:i=null,css:s="",id:r=null}){let l=r||this.generateUniqueId(),c={id:l,"data-id":l,type:e,label:t,scope:o,css:s,required:!1,rules:[],elements:[]};if(i){let d=this.findElementById(i);return d&&d.elements.push(c),c}else return this.designerState.elements.push(c),c}addElementToDesigner(e,t){let o=this.createElementNode(e);t.appendChild(o)}createElementNode(e){let t=document.createElement("div");t.className="designer-element",t.setAttribute("data-id",e.id),t.setAttribute("data-type",e.type);let o=document.createElement("span");o.className="element-type-header",o.textContent=e.type,t.appendChild(o);let i=document.createElement("span");if(i.className="element-label",i.textContent=e.label,t.appendChild(i),e.scope){let c=document.createElement("small");c.className="ms-2 text-muted",c.textContent=`(${e.scope})`,i.appendChild(c)}let s=this.elementCustomProperties[e.type];if(s&&s.length>0&&s.some(d=>{let h=e[d.name];return d.type==="boolean"?h===!0:d.type==="number"?h!=null:h&&h.trim()!==""})){let d=document.createElement("small");d.className="ms-2 text-primary",d.textContent="(*)",d.title="Has custom properties",i.appendChild(d)}let r=document.createElement("div");r.className="element-actions";let l=document.createElement("button");if(l.className="btn btn-sm btn-outline-danger",l.textContent="Delete",l.addEventListener("click",c=>{c.stopPropagation(),this.removeElement(e.id)}),r.appendChild(l),t.appendChild(r),t.addEventListener("click",c=>{c.stopPropagation(),this.selectElement(e.id)}),this.isContainerElement(e.type)){let c=document.createElement("div");if(c.className="designer-element-container",c.setAttribute("data-container-for",e.id),!e.elements||e.elements.length===0){let d=document.createElement("div");d.className="designer-element-placeholder",d.textContent="Drop elements here",c.appendChild(d)}else e.elements.forEach(d=>{let h=this.createElementNode(d);c.appendChild(h)});this.initDropZone(c,e.id),new Sortable(c,{group:"elements",animation:150,onEnd:d=>{this.updateElementsOrder(c,e.id)}}),t.appendChild(c)}return t}updateElementsOrder(e,t){let o=this.findElementById(t);if(!o)return;let i=[];e.querySelectorAll(":scope > .designer-element").forEach(r=>{let l=r.getAttribute("data-id"),c=this.findElementById(l);c&&i.push(c)}),o.elements=i}selectElement(e){document.querySelectorAll(".designer-element.selected").forEach(s=>s.classList.remove("selected"));let o=this.findElementById(e);if(!o)return;this.designerState.selectedElement=o;let i=document.querySelector(`.designer-element[data-id="${e}"]`);i&&i.classList.add("selected"),this.updateProperties(o),this.updateRulesPanel(o),this.noSelectionPanel.classList.add("hidden"),this.elementPropertiesPanel.classList.remove("hidden"),document.getElementById("rules-no-selection").classList.add("hidden"),document.getElementById("element-rules").classList.remove("hidden")}updateProperties(e){this.propId.value=e.id,this.propType.value=e.type,this.propLabel.value=e.label||"",this.propScope.value=e.scope||"",this.propCss.value=e.css||"",this.propRequired.checked=e.required||!1;let t=document.getElementById("custom-properties");t.innerHTML="",document.getElementById("custom-properties-container").style.display="none";let o=this.elementCustomProperties[e.type];o&&o.length>0&&(document.getElementById("custom-properties-container").style.display="block",o.forEach(i=>{let s=e[i.name],r=e[i.name]!==void 0?e[i.name]:i.type==="boolean"?!1:i.type==="number"?null:"",l=this.createCustomPropertyInput(i,r);t.appendChild(l)}))}updateRulesPanel(e){if(this.rulesList.innerHTML="",!e.rules||e.rules.length===0){let t=document.createElement("p");t.className="text-muted text-center",t.textContent="No rules defined",this.rulesList.appendChild(t);return}e.rules.forEach((t,o)=>{let i=document.createElement("div");i.className="rule-item flex flex-col rounded border-1 border-solid gap-2 p-2";let s=document.createElement("div");s.className="flex flex-col gap-2";let r=document.createElement("h6");r.textContent=`Rule: ${t.effect}`,s.appendChild(r);let l=document.createElement("div");l.className="flex flex-row justify-between align-center";let c=document.createElement("button");c.className="theme-azure dark",c.textContent="Edit",c.addEventListener("click",()=>this.editRule(o)),l.appendChild(c);let d=document.createElement("button");d.className="theme-fire dark",d.textContent="Delete",d.addEventListener("click",async()=>this.deleteRule(o)),l.appendChild(d),s.appendChild(l),i.appendChild(s);let h=document.createElement("div");h.className="text-sm";let u=document.createElement("div");u.textContent=`When ${t.condition.scope} ${this.getSchemaDescription(t.condition.schema)}`,h.appendChild(u);let p=document.createElement("div");p.textContent=`${t.effect} on ${t.tgtDataId}`,h.appendChild(p),i.appendChild(h),this.rulesList.appendChild(i)})}getSchemaDescription(e){if(!e)return"";let t=[];return e.const!==void 0&&t.push(`equals "${e.const}"`),e.enum&&t.push(`is one of [${e.enum.join(", ")}]`),e.minimum!==void 0&&t.push(`>= ${e.minimum}`),e.maximum!==void 0&&t.push(`<= ${e.maximum}`),e.minLength!==void 0&&t.push(`length >= ${e.minLength}`),e.maxLength!==void 0&&t.push(`length <= ${e.maxLength}`),e.pattern&&t.push(`matches "${e.pattern}"`),t.join(" AND ")}editRule(e){if(!this.designerState.selectedElement||!this.designerState.selectedElement.rules)return;let t=this.designerState.selectedElement.rules[e];if(!t)return;this.designerState.editingRuleIndex=e;let o={focusConfirm:!1,template:"template#rule-template",didOpen:()=>{let i=document.querySelector(".swal2-container");if(i){if(document.getElementById("rule-effect").value=t.effect,document.getElementById("rule-condition-scope").value=t.condition.scope||"",t.condition.schema){let s=t.condition.schema,r="",l="";s.minLength!==void 0?(r="minLength",l=s.minLength):s.maxLength!==void 0?(r="maxLength",l=s.maxLength):s.pattern!==void 0?(r="pattern",l=s.pattern):s.minimum!==void 0?(r="minimum",l=s.minimum):s.maximum!==void 0?(r="maximum",l=s.maximum):s.const!==void 0?(r="const",l=s.const):s.enum!==void 0&&(r="enum",l=s.enum.join(",")),document.getElementById("rule-schema-type").value=r,document.getElementById("rule-schema-value").value=l}document.getElementById("rule-src-data-id").value=t.condition.srcDataId||"",document.getElementById("rule-src-selector").value=t.condition.srcSelector||"",document.getElementById("rule-src-property").value=t.condition.srcProperty||"",document.getElementById("rule-tgt-data-id").value=t.tgtDataId||"",document.getElementById("rule-tgt-selector").value=t.tgtSelector||"",document.getElementById("rule-tgt-property").value=t.tgtProperty||"",htmx.process(i),_hyperscript.processNode(i)}},preConfirm:()=>{let i=document.getElementById("rule-effect").value,s=document.getElementById("rule-condition-scope").value,r=document.getElementById("rule-schema-type").value,l=document.getElementById("rule-schema-value").value,c=document.getElementById("rule-src-data-id").value,d=document.getElementById("rule-src-selector").value||"",h=document.getElementById("rule-src-property").value||"",u=document.getElementById("rule-tgt-data-id").value,p=document.getElementById("rule-tgt-selector").value||"",b=document.getElementById("rule-tgt-property").value||"",g={effect:i,condition:{scope:s,schema:{[r]:l},srcDataId:c,srcSelector:d,srcProperty:h},tgtDataId:u,tgtSelector:p,tgtProperty:b};if(r&&l)switch(r){case"minLength":case"maxLength":case"minimum":case"maximum":g.condition.schema[r]=parseInt(l);break;case"pattern":g.condition.schema[r]=l;break;case"const":g.condition.schema[r]=l;break;case"enum":g.condition.schema[r]=l.split(",").map(v=>v.trim());break}return g},callback:i=>{console.log("rule-template - result:",i),this.saveRule(i)}};wc.Prompt.notifyTemplate(o)}async deleteRule(e){if(!this.designerState.selectedElement||!this.designerState.selectedElement.rules)return;await wc.Prompt.question({title:"Confirm Delete",text:"Are you are you want to delete this rule?",showCancelButton:!0})&&(this.designerState.selectedElement.rules.splice(e,1),this.updateRulesPanel(this.designerState.selectedElement))}saveRule(e){this.designerState.selectedElement&&(this.designerState.editingRuleIndex>=0?this.designerState.selectedElement.rules[this.designerState.editingRuleIndex]=e:(this.designerState.selectedElement.rules||(this.designerState.selectedElement.rules=[]),this.designerState.selectedElement.rules.push(e)),this.updateRulesPanel(this.designerState.selectedElement))}clearRuleForm(){document.getElementById("rule-effect").value="SHOW",document.getElementById("rule-condition-scope").value="",document.getElementById("rule-schema-type").value="minLength",document.getElementById("rule-schema-value").value="",document.getElementById("rule-src-data-id").value="",document.getElementById("rule-src-selector").value="input",document.getElementById("rule-src-property").value="value",document.getElementById("rule-tgt-data-id").value="",document.getElementById("rule-tgt-selector").value="",document.getElementById("rule-tgt-property").value="value"}saveProperties(){if(!this.designerState.selectedElement)return;this.designerState.selectedElement.type=this.propType.value,this.designerState.selectedElement.label=this.propLabel.value,this.designerState.selectedElement.scope=this.propScope.value,this.designerState.selectedElement.css=this.propCss.value,this.designerState.selectedElement.required=this.propRequired.checked;let e=this.elementCustomProperties[this.designerState.selectedElement.type];e&&e.length>0&&e.forEach(t=>{let o=document.getElementById(`prop-custom-${t.name}`);if(o){let i;t.type==="boolean"?i=o.checked:t.type==="number"?i=o.value!==""?Number(o.value):null:i=o.value,this.designerState.selectedElement[t.name]=i}}),this.generateJson(),this.refreshDesigner(),wc.Prompt.toast({title:"Properties Updated!"})}refreshDesigner(){let e=this.designerState.selectedElement?this.designerState.selectedElement.id:null;this.designerSurface.innerHTML="",this.designerState.elements.forEach(t=>{this.addElementToDesigner(t,this.designerSurface)}),e&&this.selectElement(e)}removeElement(e){if(!confirm("Are you sure you want to delete this element?")||!this.findElementById(e))return;let o=this.findParentElement(e);o?o.elements=o.elements.filter(i=>i.id!==e):this.designerState.elements=this.designerState.elements.filter(i=>i.id!==e),this.designerState.selectedElement&&this.designerState.selectedElement.id===e&&(this.designerState.selectedElement=null,this.noSelectionPanel.classList.remove("hidden"),this.elementPropertiesPanel.classList.add("hidden"),document.getElementById("rules-no-selection").classList.remove("hidden"),document.getElementById("element-rules").classList.add("hidden")),this.refreshDesigner()}findElementById(e){let t=this.designerState.elements.find(i=>i.id===e);if(t)return t;let o=i=>{if(!i)return null;for(let s of i){if(s.id===e)return s;if(s.elements&&s.elements.length>0){let r=o(s.elements);if(r)return r}}return null};return o(this.designerState.elements)}findParentElement(e){let t=o=>{if(!o)return null;for(let i of o){if(i.elements&&i.elements.some(s=>s.id===e))return i;if(i.elements&&i.elements.length>0){let s=t(i.elements);if(s)return s}}return null};return t(this.designerState.elements)}loadSchema(e){this.designerState.schema=e,this.schemaFields.innerHTML="",e.properties&&Object.entries(e.properties).forEach(([t,o])=>{this.addSchemaField(`#/properties/${t}`,o,e.required)}),e.$defs&&Object.entries(e.$defs).forEach(([t,o])=>{o.properties&&Object.entries(o.properties).forEach(([i,s])=>{this.addSchemaField(`#/$defs/${t}/${i}`,s,o.required)})})}addSchemaField(e,t,o){let i=document.createElement("div");i.className="element-item",i.setAttribute("draggable","true"),i.setAttribute("data-schema-field",e);let s="wc-input";t.type==="boolean"?s="wc-input-checkbox":t.type==="array"&&(s="array"),i.setAttribute("data-element-type",s);let r=e.split("/").pop(),l=r;if(e.includes("$defs")){let d=e.split("/");d.length>=3&&(l=d[2]+"."+r)}if(i.textContent=l,o&&o.includes(r)){let d=document.createElement("span");d.className="ms-1 text-danger",d.textContent="*",i.appendChild(d)}let c=document.createElement("span");c.className="ms-2 text-muted small",c.textContent=`(${t.type})`,i.appendChild(c),i.addEventListener("dragstart",d=>{d.dataTransfer.setData("element-type",s),d.dataTransfer.setData("schema-field",e),d.dataTransfer.effectAllowed="copy"}),this.schemaFields.appendChild(i)}renderPreview(){this.generateJson(),document.getElementById("rendered-preview").addEventListener("load",()=>{WaveHelpers.toggleIndicator("#content-loader",!1)},{once:!0}),WaveHelpers.toggleIndicator("#content-loader",!0);let t=document.createElement("form"),o=document.querySelector('input[name="_id"]').value;t.method="GET",t.action=`/view/${o}`,t.target="rendered-preview",document.body.appendChild(t),t.submit(),t.remove()}preRenderPreview(){this.generateJson(),document.getElementById("pre-rendered-preview").addEventListener("load",()=>{WaveHelpers.toggleIndicator("#content-loader",!1)},{once:!0}),WaveHelpers.toggleIndicator("#content-loader",!0);let t=document.createElement("form"),o=document.querySelector('input[name="_id"]').value;t.method="GET",t.action=`/view/pre/${o}`,t.target="pre-rendered-preview",document.body.appendChild(t),t.submit(),t.remove()}generateJson(){let e={elements:this.designerState.elements},t=JSON.parse(JSON.stringify(e)),o=i=>{i&&i.forEach(s=>{delete s.id,s.elements&&o(s.elements)})};return o(t.elements),this.jsonOutput.editor.setValue(JSON.stringify(t.elements,null,2)),t.elements}copyDesign(){let e=this.jsonOutput.editor.getValue();navigator.clipboard.writeText(e).then(()=>{let t=this.copyDesignButton.textContent;this.copyDesignButton.textContent="Copied!",setTimeout(()=>{this.copyDesignButton.textContent=t},2e3)}).catch(t=>{console.error("Failed to copy: ",t),alert("Failed to copy JSON to clipboard")})}isContainerElement(e){return["div","column","row","data-array","data-item","fieldset","option","wc-accordion","wc-breadcrumb","wc-form","wc-input-radio","wc-select","wc-select-multiple","wc-sidebar","wc-sidenav","wc-slideshow","wc-split-button","wc-timeline","wc-tab","wc-tab-item","wc-tabulator"].includes(e)}generateUniqueId(){return uuid.v4().substring(0,12)}getDefaultLabel(e){switch(e){case"wc-tab":return"Tab Container";case"wc-tab-item":return"Tab Item";case"column":return"Column";case"row":return"Row";case"fieldset":return"Group";case"array":return"Array";case"wc-card":return"Card";case"wc-input":return"Input Field";case"wc-input-checkbox":return"Checkbox";case"hr":return"";default:return e}}createCustomPropertyInput(e,t){let o=document.createElement("div");o.className="row mb-2";let i,s=`prop-custom-${e.name}`;return e.type==="boolean"?(i=new(customElements.get("wc-input")),i.setAttribute("name",s),i.setAttribute("lbl-label",e.label),i.setAttribute("class","col"),i.setAttribute("type","checkbox"),i.setAttribute("toggle-switch",""),t===!0&&(i.setAttribute("checked",""),setTimeout(()=>{i.checked=!0},10))):e.type==="number"?(i=new(customElements.get("wc-input")),i.setAttribute("name",s),i.setAttribute("lbl-label",e.label),i.setAttribute("class","col-1"),i.setAttribute("type","number"),i.setAttribute("value",t!==void 0?t:0)):e.type==="multiline-string"?(i=new(customElements.get("wc-textarea")),i.setAttribute("name",s),i.setAttribute("lbl-label",e.label),i.setAttribute("class","col-1"),i.setAttribute("value",t!==void 0?t:"")):(i=new(customElements.get("wc-input")),i.setAttribute("name",s),i.setAttribute("lbl-label",e.label),i.setAttribute("class","col-1"),i.setAttribute("value",t!==void 0?t:"")),i.dataset.propertyName=e.name,i.dataset.propertyType=e.type,o.appendChild(i),o}saveDesignToLocalStorage(){let e="layout-ui-design",t=this.jsonOutput.editor.getValue();try{let o=JSON.parse(localStorage.getItem("savedDesigns")||"{}");o[e]=t,localStorage.setItem("savedDesigns",JSON.stringify(o)),alert(`Design "${e}" saved successfully`)}catch(o){console.error("Error saving design to localStorage:",o),alert("Failed to save design to localStorage")}}loadDesign(e){try{let t=Array.isArray(e)?e:e.elements?e.elements:null;if(!t)throw new Error("Invalid layout structure. Expected an array or an object with an elements property.");this.designerState.elements=[];let o=i=>{i&&i.forEach(s=>{s["data-id"]?s.id=s["data-id"]:s.id=generateUniqueId(),s.elements&&o(s.elements)})};return o(t),this.designerState.elements=t,this.refreshDesigner(),!0}catch(t){return console.error("Error loading design:",t),alert("Failed to load design: "+t.message),!1}}}customElements.define("wc-page-designer",a)}if(!customElements.get("wc-save-button")){class a extends m{static get observedAttributes(){return[]}constructor(){super(),this._items=[];let e=this.querySelector(".wc-save-button");if(e)this.componentElement=e;else{let t=this.getAttribute("id")||"",o=this.getAttribute("save-url")||"",i=this.getAttribute("label")||"Save";this.componentElement=document.createElement("button"),this.componentElement.id=t,this.removeAttribute("id"),this.componentElement.textContent=i,this.componentElement.classList.add("wc-save-button"),this.componentElement.setAttribute("hx-target","#viewport"),this.componentElement.setAttribute("hx-swap","innerHTML transition:true"),this.componentElement.setAttribute("hx-indicator","#content-loader"),this.componentElement.setAttribute("hx-post",o),this.removeAttribute("save-url"),this.componentElement.setAttribute("hx-push-url","true"),this.appendChild(this.componentElement)}console.log("ctor:wc-save-button")}async connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-save-button")}disconnectedCallback(){this._unWireEvents()}_handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_applyStyle(){let e=`
        wc-save-button {
          display: contents;
        }
        .wc-save-button {
        }
        .wc-save-button:hover  {
        }
      `.trim();this.loadStyle("wc-save-button-style",e)}_wireEvents(){super._wireEvents()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-save-button",a)}if(!customElements.get("wc-save-split-button")){class a extends m{static get observedAttributes(){return[]}constructor(){super(),this._items=[];let e=this.querySelector(".wc-save-split-button");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-save-split-button"),this.componentElement.setAttribute("hx-target","#viewport"),this.componentElement.setAttribute("hx-swap","innerHTML transition:true"),this.componentElement.setAttribute("hx-indicator","#content-loader"),this.componentElement.setAttribute("hx-push-url","true"),this.componentElement.setAttribute("hx-boost","true"),this.appendChild(this.componentElement),this._createElement()),console.log("ctor:wc-save-split-button")}async connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-save-split-button")}disconnectedCallback(){this._unWireEvents()}_createElement(){let e=this.getAttribute("id")||"",t=this.getAttribute("method")||"post",o=this.getAttribute("save-url")||"",i=this.getAttribute("save-new-url")||"",s=this.getAttribute("save-return-url")||"",r=this.getAttribute("position-area")||"bottom span-left",l=this.getAttribute("position-try-fallbacks")||"--bottom-right, --bottom-left, --top-right, --top-left, --right, --left",c=this.getAttribute("before-send")||"";c&&(c=`hx-on::before-send="${c}"`);let d=`
        <button type="button" class="save-btn btn"
          hx-${t}="${o}" ${c||""}
          data-url="${o}">Save</button>
        <div class="dropdown">
          <div class="dropdown-content text-sm">
            <a class="save-new-btn btn w-full"
              hx-${t}="${o}" ${c||""}
              data-url="${i}">
              Save and Add New
            </a>
            <a class="save-return-btn btn w-full"
              hx-${t}="${o}" ${c||""}
              data-url="${s}">
              Save and Return
            </a>
          </div>
          <button type="button" class="btn" style="border-left:1px solid var(--component-border-color);">
            <svg class="h-3 w-3 pointer-events-none"
              xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
              stroke="currentColor" fill="currentColor">
              <path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/>
            </svg>
          </button>
        </div>
      `.trim();this.componentElement.innerHTML=d;let h=this.querySelector(".wc-save-split-button");h.style.anchorName=`--${e}-anchor`;let u=this.querySelector(".dropdown-content");u.style.positionAnchor=`--${e}-anchor`,u.style.positionArea=r,u.style.positionTryFallbacks=l,u.style.minWidth=`${h.offsetWidth}px`}_handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_handleClick(e){let t=this.getAttribute("method")||"post",o=e.target.classList.contains("save-btn"),i=e.target.dataset.url,s=window.location.hash;t=="post"&&o&&(i=i.replace("create","__id__")),document.body.addEventListener("htmx:configRequest",r=>{r.detail.headers["Wc-Save-Redirect"]=i,s&&o&&sessionStorage.setItem("hash",s)},{once:!0}),document.body.addEventListener("htmx:afterSwap",r=>{let l=sessionStorage.getItem("hash");l&&(window.location.hash=l,sessionStorage.removeItem("hash"))},{once:!0})}_applyStyle(){let e=`
        wc-save-split-button {
          display: contents;
        }
        .wc-save-split-button {
          /* anchor-name: --save-anchor; */
          display: flex;
          flex-direction: row;
        }
        /* Dropdown Button */
        .wc-save-split-button .btn {
          border-right: none;
          outline: none;
          border-radius: 0;
        }

        /* The container <div> - needed to position the dropdown content */
        .wc-save-split-button .dropdown {
          /* display: inline-block; */
        }

        /* Dropdown Content (Hidden by Default) */
        .wc-save-split-button .dropdown-content {
          display: none;
          background-color: var(--button-bg-color);
          border: 1px solid var(--button-border-color);
          border-top: none;
          min-width: 160px;
          z-index: 1;

          position: absolute;
          position-try-fallbacks: --bottom-right, --bottom-left, --top-right, --top-left, --right, --left;
          /*
          position-anchor: --save-anchor;
          position-area: bottom span-left;
          */
        }

        @position-try --bottom-left {
          position-area: bottom span-left;
        }
        @position-try --bottom-right {
          position-area: bottom span-right;
        }
        @position-try --top-left {
          position-area: top span-left;
        }
        @position-try --top-right {
          position-area: top span-right;
        }
        @position-try --right {
          position-area: right;
        }
        @position-try --left {
          position-area: left;
        }

        /* Links inside the dropdown */
        .wc-save-split-button .dropdown-content a {
          color: var(--button-color);
          padding: 12px 16px;
          text-decoration: none;
          display: block;
          cursor: pointer;
        }

        /* Change color of dropdown links on hover */
        .wc-save-split-button .dropdown-content a:hover {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }

        /* Show the dropdown menu on hover */
        .wc-save-split-button .dropdown:hover > .dropdown-content {
          display: block;
        }
        .wc-save-split-button .dropdown-content:hover ~ button {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }
      `.trim();this.loadStyle("wc-save-split-button-style",e)}_wireEvents(){super._wireEvents(),this.querySelector("button.save-btn").addEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-new-btn").addEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-return-btn").addEventListener("click",this._handleClick.bind(this))}_unWireEvents(){super._unWireEvents(),this.querySelector("button.save-btn").removeEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-new-btn").removeEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-return-btn").removeEventListener("click",this._handleClick.bind(this))}}customElements.define("wc-save-split-button",a)}if(!customElements.get("wc-split-button")){class a extends m{static get observedAttributes(){return["btn-id","btn-class","btn-label","split-class"]}constructor(){super(),this._items=[],this.parts=Array.from(this.children);let e=this.querySelector(".wc-split-button");if(e)this.componentElement=e;else{this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-split-button");let t=this.getAttribute("split-class");t&&t.split(" ").forEach(i=>this.componentElement.classList.add(i)),this.appendChild(this.componentElement),this._createElement()}console.log("ctor:wc-split-button")}async connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-split-button")}disconnectedCallback(){this._unWireEvents()}_createElement(){let e=this.getAttribute("id")||"",t=this.getAttribute("label")||"",o=this.getAttribute("position-area")||"bottom span-right",i=this.getAttribute("position-try-fallbacks")||"--bottom-right, --bottom-left, --top-right, --top-left, --right, --left",s=`
        <button id="${e}" type="button" class="btn">${t}</button>
        <div class="dropdown">
          <div class="dropdown-content text-sm">
          </div>
          <button type="button" class="btn" style="border-left:1px solid var(--component-border-color);">
            <svg class="h-3 w-3 pointer-events-none"
              xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
              stroke="currentColor" fill="currentColor">
              <path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/>
            </svg>
          </button>
        </div>
      `.trim();this.componentElement.innerHTML=s;let r=this.querySelector(".wc-split-button");r.style.anchorName=`--${e}-anchor`;let l=this.querySelector(".dropdown-content");l.style.positionAnchor=`--${e}-anchor`,l.style.positionArea=o,l.style.positionTryFallbacks=i,l.style.minWidth="calc(100% - 20px",this.parts.forEach(h=>{l.appendChild(h)});let c=this.querySelector(`button#${e}`),d=this.getAttribute("onclick");if(d){let h=new Function(d);c.onclick=h,this.removeAttribute("onclick")}this.removeAttribute("id"),this.removeAttribute("label")}_handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_applyStyle(){let e=`
        wc-split-button {
          display: contents;
        }
        .wc-split-button {
          display: flex;
          flex-direction: row;
        }
        /* Dropdown Button */
        .wc-split-button .btn {
          border-right: none;
          outline: none;
          border-radius: 0;
        }

        /* The container <div> - needed to position the dropdown content */
        .wc-split-button .dropdown {
          /* display: inline-block; */
        }

        /* Dropdown Content (Hidden by Default) */
        .wc-split-button .dropdown-content {
          display: none;
          background-color: var(--button-bg-color);
          border: 1px solid var(--button-border-color);
          border-top: none;
          min-width: 160px;
          z-index: 1;

          position: absolute;
          position-try-fallbacks: --bottom-right, --bottom-left, --top-right, --top-left, --right, --left;
        }

        @position-try --bottom-left {
          position-area: bottom span-left;
        }
        @position-try --bottom-right {
          position-area: bottom span-right;
        }
        @position-try --top-left {
          position-area: top span-left;
        }
        @position-try --top-right {
          position-area: top span-right;
        }
        @position-try --right {
          position-area: right;
        }
        @position-try --left {
          position-area: left;
        }

        /* Links inside the dropdown */
        .wc-split-button .dropdown-content a {
          color: var(--button-color);
          padding: 12px 16px;
          text-decoration: none;
          display: block;
          cursor: pointer;
        }

        /* Change color of dropdown links on hover */
        .wc-split-button .dropdown-content a:hover {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }

        /* Show the dropdown menu on hover */
        .wc-split-button .dropdown:hover > .dropdown-content {
          display: block;
        }

        /* Change the background color of the dropdown button when the dropdown content is shown */
        .wc-split-button .dropdown-content:hover ~ button {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }
      `.trim();this.loadStyle("wc-split-button-style",e)}_wireEvents(){super._wireEvents()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-split-button",a)}var K=class extends m{static get observedAttributes(){return["id","class","width","push-target","right-side","auto-height","background-color"]}constructor(){super(),this.hasAttribute("right-side")||this.setAttribute("left-side","");let n=this.querySelector(".wc-sidebar");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-sidebar"),this.appendChild(this.componentElement)),console.log("ctor:wc-sidebar")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-sidebar")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="label"||n==="auto-height"||n==="background-color"||n==="push-target"||n==="right-side"||n==="width"||super._handleAttributeChange(n,e)}_render(){if(super._render(),this.querySelector(".wc-sidebar > *")){let e=this.getAttribute("push-target")||"body",t=document.querySelector(e),o=this.hasAttribute("right-side"),i=this.getAttribute("width")||"150px";t&&(o?t.style.marginRight=i:t.style.marginLeft=i)}else this.componentElement.innerHTML="",this._createInnerElement();typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-sidebar")}_createInnerElement(){this.querySelectorAll("wc-sidebar > *:not(.wc-sidebar").forEach(s=>this.componentElement.appendChild(s)),this.hasAttribute("auto-height")?this.componentElement.style.height="auto":this.componentElement.style.height="100%";let t=this.getAttribute("push-target")||"body",o=this.hasAttribute("right-side"),i=this.getAttribute("width")||"150px";if(this.hasAttribute("background-color")){let s=this.getAttribute("background-color");this.componentElement.style.setProperty("--background-color",s)}if(this.componentElement.style.width=i,t){let s=document.querySelector(t);s&&(s.style.setProperty("transition","margin-left 0.5s ease, margin-right 0.5s ease"),o?s.style.marginRight=i:s.style.marginLeft=i)}}_applyStyle(){this.loadStyle("wc-sidebar-style",`
      wc-sidebar {
        --background-color: var(--primary-bg-color);
        display: contents;
      }
      wc-sidebar .wc-sidebar {
        /* height: 100%; */
        position: fixed;
        z-index: 1;
        top: 0;
        background-color: var(--background-color);
        overflow-x: hidden;
        padding-top: 20px;
        padding-bottom: 20px;
      }
      wc-sidebar[left-side] .wc-sidebar {
        left: 0;
      }
      wc-sidebar[right-side] .wc-sidebar {
        right: 0;
      }

      wc-sidebar .wc-sidebar a {
        padding: 6px 8px 6px 16px;
        text-decoration: none;
        font-size: 25px;
        color: var(--text-5);
        display: block;
      }

      wc-sidebar .wc-sidebar a:hover {
        color: var(--text-1);
      }
    `)}_unWireEvents(){super._unWireEvents();let n=this.getAttribute("push-target")||"body",e=document.querySelector(n),t=this.hasAttribute("right-side");e&&(t?e.style.marginRight="0":e.style.marginLeft="0")}};customElements.define("wc-sidebar",K);if(!customElements.get("wc-sidenav")){class a extends m{static get observedAttributes(){return["id","class","label","width","open-btn-class","open","open-top","open-vertical-text","push","push-target","overlay","background-color","auto-height"]}constructor(){super(),this.hasAttribute("right-side")||this.setAttribute("left-side","");let e=this.querySelector(".wc-sidenav");if(e)this.componentElement=e;else{let t=this.hasAttribute("open");this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-sidenav","sidenav"),this.appendChild(this.componentElement),t&&this._openNav({target:null})}console.log("ctor:wc-sidenav")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-sidenav")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="label"||e==="auto-height"||e==="background-color"||e==="open-vertical-text"||e==="open-btn-class"||e==="open-top"||e==="open"||e==="overlay"||e==="push-target"||e==="push"||e==="width"||super._handleAttributeChange(e,t)}_render(){super._render(),this.querySelector(".wc-sidenav > *")?(this.querySelector(".closebtn").addEventListener("click",this._closeNav.bind(this)),this.querySelector(".openbtn").addEventListener("click",this._openNav.bind(this))):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-sidenav")}_createInnerElement(){let e=this.querySelectorAll("wc-sidenav > *:not(.wc-sidenav");this.hasAttribute("auto-height")?this.componentElement.style.height="auto":this.componentElement.style.height="100%";let o=document.createElement("div");if(o.classList.add("overlay","hidden"),this.appendChild(o),this.hasAttribute("background-color")){let u=this.getAttribute("background-color");this.componentElement.style.setProperty("--background-color",u)}let i=this.getAttribute("label")||"Sidenav",s=document.createElement("div"),r=this.getAttribute("close-btn-css")||"primary-bg-color text-xs p-2";s.setAttribute("class",`closebtn cursor-pointer ${r}`),s.innerHTML="&times;",s.addEventListener("click",this._closeNav.bind(this)),this.componentElement.appendChild(s);let l=document.createElement("div"),c=this.getAttribute("open-btn-css")||"primary-bg-color text-xs px-2 py-3";l.setAttribute("class",`openbtn cursor-pointer ${c}`),l.style.top=this.getAttribute("open-top")||"0",l.addEventListener("click",this._openNav.bind(this));let d=document.createElement("span");d.textContent=i,l.appendChild(d),this.appendChild(l),e.forEach(u=>this.componentElement.appendChild(u));let h=this.getAttribute("push-target")||"#viewport";if(h){let u=document.querySelector(h);u&&u.style.setProperty("transition","margin-left 0.5s ease, margin-right 0.5s ease")}}_handleHelper(e,t){let{detail:o}=e,{selector:i}=o,s=Array.isArray(i);typeof i=="string"||s?document.querySelectorAll(i).forEach(l=>{l===this&&(t==="toggle"&&(this.querySelector(".wc-sidenav").classList.contains("open")?t=".closebtn":t=".openbtn"),l?.querySelector(t)?.click())}):i?.querySelector(t)?.click()}_handleOpen(e){this._handleHelper(e,".openbtn")}_handleClose(e){this._handleHelper(e,".closebtn")}_handleToggle(e){this._handleHelper(e,"toggle")}_openNav(e){let{target:t}=e,o=this.getAttribute("width")||"250px",i=this.getAttribute("push-target")||"#viewport",s=this.querySelector(".wc-sidenav");if(s.classList.add("open"),s.style.width=o,this.hasAttribute("overlay")){let r=this.querySelector(".overlay");r&&(r.classList.add("open"),r.classList.remove("hidden"))}if(this.hasAttribute("push")){let r=this.hasAttribute("right-side");if(i){let l=document.querySelector(i);l&&(r?l.style.marginRight=o:l.style.marginLeft=o)}}}_closeNav(e){let{target:t}=e,o=this.getAttribute("push-target")||"#viewport",i=t.closest(".wc-sidenav");if(i.classList.remove("open"),i.style.width="0",this.hasAttribute("overlay")){let s=this.querySelector(".overlay");s&&(s.classList.remove("open"),s.classList.add("hidden"))}if(this.hasAttribute("push")){let s=this.hasAttribute("right-side");if(o){let r=document.querySelector(o);r&&(s?r.style.marginRight="0":r.style.marginLeft="0")}}}_applyStyle(){this.loadStyle("wc-sidenav-style",`
        wc-sidenav {
          --background-color: var(--primary-bg-color);
          display: contents;
        }
        wc-sidenav .wc-sidenav.sidenav {
          /* height: 100%; */
          width: 0;
          position: fixed;
          z-index: 2;
          top: 0;
          background-color: var(--background-color);
          overflow-x: hidden;
          padding-top: 60px;
          padding-bottom: 20px;
          text-align: center;
          transition: 0.5s;
        }
        wc-sidenav[left-side] .wc-sidenav.sidenav {
          left: 0;
        }
        wc-sidenav[right-side] .wc-sidenav.sidenav {
          right: 0;
        }
        wc-sidenav .wc-sidenav.sidenav a {
          text-decoration: none;
          font-size: 25px;
          color: var(--button-color);
          display: block;
          transition: 0.3s;
        }
        wc-sidenav[left-side] .wc-sidenav.sidenav a {
          padding: 8px 8px 8px 32px;
        }
        wc-sidenav[right-side] .wc-sidenav.sidenav a {
          padding: 8px 32px 8px 8px;
        }
        wc-sidenav .wc-sidenav.sidenav.open a {
          padding: 8px 8px;
        }
        wc-sidenav .wc-sidenav.sidenav a:hover {
          color: var(--button-hover-color);
        }
        wc-sidenav .wc-sidenav.sidenav .closebtn {
          position: absolute;
          top: 0;
          font-size: 36px;
          background-color: transparent;
        }
        wc-sidenav[left-side] .wc-sidenav.sidenav .closebtn {
          right: 0;
        }
        wc-sidenav[right-side] .wc-sidenav.sidenav .closebtn {
          left: 0;
        }
        wc-sidenav .openbtn {
          position: absolute;
          z-index: 1;
        }
        wc-sidenav[left-side] .openbtn {
          left: 0;
          border-radius: 0 0.375rem 0.375rem 0;
        }
        wc-sidenav[right-side] .openbtn {
          right: 0;
          border-radius: 0.375rem 0 0 0.375rem;
        }
        wc-sidenav .openbtn span {
          writing-mode: vertical-rl;
          display: inline-block;
          /* line-height: 2; */
        }
        wc-sidenav[open-vertical-text] .openbtn span {
          text-orientation: upright;
          letter-spacing: 2px;
        }
        wc-sidenav:not([open-vertical-text]) .openbtn span {
          text-orientation: sideways;
          letter-spacing: 4px;
        }
        wc-sidenav .openbtn:hover {
          background-color: var(--button-hover-bg-color);
        }

        .overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background-color: transparent;
          transition: background-color 0.5s ease;
        }
        .overlay.open {
          background-color: rgba(0,0,0,0.6);
          z-index: 1;
        }
      `)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-sidenav:open",this._handleOpen.bind(this)),document.body.addEventListener("wc-sidenav:close",this._handleClose.bind(this)),document.body.addEventListener("wc-sidenav:toggle",this._handleToggle.bind(this))}_unWireEvents(){super._unWireEvents(),this.querySelector(".closebtn").removeEventListener("click",this._closeNav.bind(this)),this.querySelector(".openbtn").removeEventListener("click",this._openNav.bind(this)),document.body.removeEventListener("wc-sidenav-open",this._handleOpen.bind(this)),document.body.removeEventListener("wc-sidenav-close",this._handleClose.bind(this)),document.body.removeEventListener("wc-sidenav:toggle",this._handleToggle.bind(this))}}customElements.define("wc-sidenav",a)}var Z=class extends m{static get observedAttributes(){return["id","class","url","caption","numbertext"]}constructor(){super();let n=this.querySelector(".wc-slideshow-image");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-slideshow-image","slide","fade"),this.appendChild(this.componentElement)),console.log("ctor:wc-slideshow-image")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-slideshow-image")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){if(n==="numbertext"){let t=this.querySelector(".numbertext");t&&(t.textContent=e)}else super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-slideshow-image > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-slideshow-image")}_createInnerElement(){let n=document.createElement("div");n.textContent=this.getAttribute("numbertext")||"",n.classList.add("numbertext");let e=document.createElement("img");e.src=this.getAttribute("url")||"";let t=document.createElement("div");t.textContent=this.getAttribute("caption")||"",t.classList.add("text"),this.componentElement.appendChild(n),this.componentElement.appendChild(e),this.componentElement.appendChild(t)}_applyStyle(){let n=`
      wc-slideshow-image {
        display: contents;
      }

      .wc-slideshow-image {
        position: relative;
      }

      .wc-slideshow-image img {
        max-height: 300px;
        width: 100%;
        height: auto;
        object-fit: cover;
      }
      
      /* Caption text */
      .wc-slideshow-image .text {
        color: #f2f2f2;
        font-size: 15px;
        padding: 8px 12px;
        position: absolute;
        bottom: 8px;
        width: 100%;
        text-align: center;
      }

      /* Number text (1/3 etc) */
      .wc-slideshow-image .numbertext {
        color: #f2f2f2;
        font-size: 12px;
        padding: 8px 12px;
        position: absolute;
        top: 0;
      }      
`.trim();this.loadStyle("wc-slideshow-image-style",n)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-slideshow-image",Z);var V=class extends m{static get observedAttributes(){return["id","class","max-image-height","autoplay","autoplay-interval"]}constructor(){super(),this.slides=[],this.slideshowInterval=null,this.isPaused=!1,this.slideIndex=1,this.childComponentSelector="wc-slideshow-image";let n=this.querySelector(".wc-slideshow");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-slideshow","container"),this.appendChild(this.componentElement)),console.log("ctor:wc-slideshow")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-slideshow")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_render(){super._render();let n=this.querySelectorAll("wc-slideshow-image");if(n.forEach((t,o)=>{t.setAttribute("numbertext",`${o+1} / ${n.length}`),t.querySelectorAll("img").forEach(s=>s.style.maxHeight=this.getAttribute("max-image-height")||"300px")}),this.slides=this.querySelectorAll(".wc-slideshow-image.slide"),this.querySelector(".wc-slideshow > *")){this.slideIndex=parseInt(this.dataset.slideIndex||1);let t=this.querySelector(".prev"),o=this.querySelector(".next");t.addEventListener("click",this._prevSlide.bind(this)),o.addEventListener("click",this._nextSlide.bind(this))}else this.componentElement.innerHTML="",this._createInnerElement();this._startSlideshow(),document.addEventListener("visibilitychange",this._handleVisibilityChange.bind(this)),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-slideshow")}_createInnerElement(){this.querySelectorAll("wc-slideshow > *:not(.wc-slideshow)").forEach(o=>{this.componentElement.appendChild(o)});let e=document.createElement("a");e.classList.add("prev"),e.textContent="\u276E",e.addEventListener("click",this._prevSlide.bind(this));let t=document.createElement("a");t.textContent="\u276F",t.classList.add("next"),t.addEventListener("click",this._nextSlide.bind(this)),this.componentElement.appendChild(e),this.componentElement.appendChild(t)}_handleHelper(n,e="next"){let{detail:t}=n,{selector:o}=t,i=Array.isArray(o);typeof o=="string"||i?document.querySelectorAll(o).forEach(r=>{r===this&&(e==="next"?this._nextSlide({target:this}):e==="prev"?this._prevSlide({target:this}):e==="start"?(this.setAttribute("autoplay",""),this.isPaused=!1,this._startSlideshow()):e==="stop"&&(this.removeAttribute("autoplay"),this.isPaused=!0,clearInterval(this.slideshowInterval)))}):o===this&&(e==="next"?this._nextSlide({target:this}):e==="prev"?this._prevSlide({target:this}):e==="start"?(this.setAttribute("autoplay",""),this.isPaused=!1,this._startSlideshow()):e==="stop"&&(this.removeAttribute("autoplay"),this.isPaused=!0,clearInterval(this.slideshowInterval)))}_handleNext(n){this._handleHelper(n,"next")}_handlePrev(n){this._handleHelper(n,"prev")}_handleStart(n){this._handleHelper(n,"start")}_handleStop(n){this._handleHelper(n,"stop")}_prevSlide(n){n?.target&&(this.isPaused=!0,clearInterval(this.slideshowInterval)),this.slideIndex-=1,this._showSlide()}_nextSlide(n){n?.target&&(this.isPaused=!0,clearInterval(this.slideshowInterval)),this.slideIndex+=1,this._showSlide()}_showSlide(){this.slideIndex>this.slides.length&&(this.slideIndex=1),this.slideIndex<1&&(this.slideIndex=this.slides.length),this.slides.forEach(n=>n.style.display="none"),this.slides[this.slideIndex-1].style.display="block",this.dataset.slideIndex=this.slideIndex}_startSlideshow(){if(this.hasAttribute("autoplay")&&!this.isPaused){let n=parseInt(this.getAttribute("autoplay-interval"))||5e3;this.slideshowInterval=setInterval(()=>this._nextSlide(),n)}this._showSlide()}_handleVisibilityChange(){document.hidden?(this.isPaused=!0,clearInterval(this.slideshowInterval)):(this.isPaused=!1,this._startSlideshow())}_applyStyle(){let n=`
      wc-slideshow {
        display: contents;
      }
      .wc-slideshow {

      }
      /* Slideshow container */
      .wc-slideshow.container {
        max-width: 1000px;
        position: relative;
        margin: auto;
      }

      /* Hide the images by default */
      .wc-slideshow .slide {
        display: none;
      }

      /* Next & previous buttons */
      .wc-slideshow .prev,
      .wc-slideshow .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        margin-top: -22px;
        padding: 16px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
      }

      /* Position the "next button" to the right */
      .wc-slideshow .next {
        right: 0;
        border-radius: 3px 0 0 3px;
      }

      /* On hover, add a black background color with a little bit see-through */
      .wc-slideshow .prev:hover,
      .wc-slideshow .next:hover {
        background-color: rgba(0,0,0,0.8);
      }

      .wc-slideshow .active {
        background-color: #717171;
      }

      /* Fading animation */
      .wc-slideshow .fade {
        animation-name: slideshow-fade;
        animation-duration: 1.5s;
      }

      @keyframes slideshow-fade {
        from {
          opacity: .4;
        }
        to {
          opacity: 1;
        }
      }
`.trim();this.loadStyle("wc-slideshow-style",n)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-slideshow:next",this._handleNext.bind(this)),document.body.addEventListener("wc-slideshow:prev",this._handlePrev.bind(this)),document.body.addEventListener("wc-slideshow:start",this._handleStart.bind(this)),document.body.addEventListener("wc-slideshow:stop",this._handleStop.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-slideshow:next",this._handleNext.bind(this)),document.body.removeEventListener("wc-slideshow:prev",this._handlePrev.bind(this)),document.body.removeEventListener("wc-slideshow:start",this._handleStart.bind(this)),document.body.removeEventListener("wc-slideshow:stop",this._handleStop.bind(this));let n=this.querySelector(".prev"),e=this.querySelector(".next");n&&n.removeEventListener("click",this._prevSlide.bind(this)),e&&e.removeEventListener("click",this._nextSlide.bind(this)),document.removeEventListener("visibilitychange",this._handleVisibilityChange.bind(this))}};customElements.define("wc-slideshow",V);var X=class extends m{static get observedAttributes(){return["id","class","label","active"]}constructor(){super();let n=this.querySelector(".wc-tab-item");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-tab-item"),this.appendChild(this.componentElement)),console.log("ctor:wc-tab-item")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-tab-item")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="test"||super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-tab-item > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-tab-item")}_createInnerElement(){Array.from(this.children).filter(e=>!e.matches("wc-tab-item")&&!e.matches(".wc-tab-item")).forEach(e=>{this.componentElement.appendChild(e)})}_applyStyle(){let n=`
      wc-tab-item {
        display: contents;
      }
      .wc-tab-item {
        display: flex;
        flex-direction: column;
        flex: 1 1 0%;
        min-height: 0;
        min-width: 0;
        
        position: relative;
      }
    `.trim();this.loadStyle("wc-tab-item-style",n)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-tab-item",X);var Q=class extends m{static get observedAttributes(){return["id","class","animate","vertical"]}constructor(){super(),this.childComponentSelector="wc-tab-item";let n=this.querySelector(".wc-tab");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-tab"),this.appendChild(this.componentElement)),console.log("ctor:wc-tab")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-tab")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="animate"||n==="vertical"||super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-tab > *")?this.querySelectorAll(".tab-link").forEach(t=>t.addEventListener("click",this._handleClick.bind(this))):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),setTimeout(()=>{location.hash.slice(1).split("+").forEach(t=>{this.querySelector(`button[data-label="${decodeURI(t)}"]`)?.click()})},100),console.log("_render:wc-tab")}_createInnerElement(){let n=document.createElement("div");n.classList.add("tab-nav");let e=document.createElement("div");e.classList.add("tab-body");let t=Array.from(this.children).filter(o=>!o.matches("wc-tab")&&!o.matches(".wc-tab"));t.forEach((o,i)=>{let s=o.querySelector(".wc-tab-item"),r=document.createElement("button");r.type="button",r.classList.add("tab-link"),r.addEventListener("click",this._handleClick.bind(this)),s?.classList.contains("active")&&r.classList.add("active"),r.textContent=o.getAttribute("label")||`Label ${i+1}`,r.dataset.label=o.getAttribute("label")||`Label ${i+1}`,n.appendChild(r)}),t.forEach(o=>{e.appendChild(o)}),this.componentElement.appendChild(n),this.componentElement.appendChild(e)}_handleHelper(n,e="click"){let{detail:t}=n,{selector:o,subSelector:i}=t,s=Array.isArray(o);typeof o=="string"||s?document.querySelectorAll(o).forEach(l=>{l===this&&e==="click"&&this.querySelector(i)?.click()}):o===this&&e==="click"&&this.querySelector(i)?.click()}_handleOnClick(n){this._handleHelper(n,"click")}_handleClick(n){n.stopPropagation(),n.preventDefault();let{target:e}=n;e.closest(".wc-tab").querySelectorAll(".active").forEach(c=>{c.closest("wc-tab")==this&&c.classList.remove("active")}),e.classList.add("active");let i=e.textContent,s=this.querySelector(`.wc-tab-item[label='${i}']`);s.classList.add("active");let r={detail:{label:i}},l=new CustomEvent("tabchange",r);s.dispatchEvent(l),location.hash=this._buildActiveTabStringFromRoot(e)}_buildActiveTabStringFromRoot(n){function e(s){let r=s.closest("wc-tab"),l=r;for(;r;){let c=r.parentElement?.closest("wc-tab");if(!c){l=r;break}r=c}return l}function t(s){let r=[],l=s.querySelector(":scope > .wc-tab > .tab-nav");if(l){let d=Array.from(l.querySelectorAll(":scope > button.active"));for(let h of d)r.push(h.textContent.trim())}let c=Array.from(s.querySelectorAll(":scope > .wc-tab > .tab-body > wc-tab-item > .wc-tab-item.active > wc-tab"));for(let d of c)r=r.concat(t(d));return r}let o=e(n);return o?t(o).join("+"):""}_applyStyle(){let n=`
      wc-tab {
        display: contents;
      }
      wc-tab .wc-tab {
        position: relative;
        overflow: hidden;
      }
      wc-tab[vertical] .wc-tab {
        display: flex;
        flex-direction: row;
      }
      wc-tab .wc-tab .tab-nav {
        position: relative;
        display: flex;
        flex-direction: row;
        overflow: hidden;
      }
      wc-tab[vertical] .wc-tab .tab-nav {
        flex-direction: column;
        overflow: initial;
        border-right: none;
      }
      wc-tab .wc-tab .tab-nav .tab-link {
        background-color: transparent;
        border: none;
        border-bottom: 1px solid var(--card-bg-color);
        border-radius: 0;
        outline: none;
        cursor: pointer;
        padding: 10px 16px;
        user-select: none;
        transition: 0.3s;
      }
      wc-tab .wc-tab .tab-nav .tab-link.active,
      wc-tab .wc-tab .tab-nav .tab-link:hover {
        border-top-left-radius: .5rem;
        border-top-right-radius: .5rem;
        border-bottom: 1px solid var(--card-bg-color);
        background-color: var(--card-bg-color);
      }

      wc-tab .wc-tab .tab-body {
        display: flex;
        flex-direction: column;
        flex: 1 1 0%;
        min-height: 0;
        background-color: var(--card-bg-color);
      }
      wc-tab[vertical] .wc-tab .tab-body {
        border-top: 1px solid var(--card-border-color);
      }
      wc-tab .wc-tab .tab-body wc-tab-item .wc-tab-item {
        display: none;
      }
      wc-tab[animate] .wc-tab .tab-body wc-tab-item .wc-tab-item {
        animation: tab-fade 1s;
      }
      wc-tab .wc-tab .tab-body wc-tab-item .wc-tab-item.active {
        display: flex;
      }

      /* Add styling for nested tabs */
      wc-tab .wc-tab .tab-body wc-tab {
        margin-top: 1rem;
      }
      
      @keyframes tab-fade {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    `.trim();this.loadStyle("wc-tab-style",n)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-tab:click",this._handleOnClick.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-tab:click",this._handleOnClick.bind(this)),this.querySelectorAll(".tab-link").forEach(e=>e.removeEventListener("click",this._handleClick.bind(this)))}};customElements.define("wc-tab",Q);if(!customElements.get("wc-tabulator-column")){class a extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-tabulator-column",a)}if(!customElements.get("wc-tabulator-func")){class a extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-tabulator-func",a)}if(!customElements.get("wc-tabulator-row-menu")){class a extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-tabulator-row-menu",a)}if(!customElements.get("wc-tabulator")){class a extends m{static get observedAttributes(){return["id","class"]}icons={eye:{viewport:"0 0 640 512",d:"M117.2 136C160.3 96 217.6 64 288 64s127.7 32 170.8 72c43.1 40 71.9 88 85.2 120c-13.3 32-42.1 80-85.2 120c-43.1 40-100.4 72-170.8 72s-127.7-32-170.8-72C74.1 336 45.3 288 32 256c13.3-32 42.1-80 85.2-120zM288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM192 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"},eyeSlash:{viewport:"0 0 640 512",d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},square:{viewport:"0 0 448 512",d:"M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"},squareCheck:{viewport:"0 0 448 512",d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"},remove:{viewport:"0 0 448 512",d:"M177.1 48l93.7 0c2.7 0 5.2 1.3 6.7 3.6l19 28.4-145 0 19-28.4c1.5-2.2 4-3.6 6.7-3.6zM354.2 80L317.5 24.9C307.1 9.4 289.6 0 270.9 0L177.1 0c-18.7 0-36.2 9.4-46.6 24.9L93.8 80 80.1 80 32 80l-8 0C10.7 80 0 90.7 0 104s10.7 24 24 24l11.6 0L59.6 452.7c2.5 33.4 30.3 59.3 63.8 59.3l201.1 0c33.5 0 61.3-25.9 63.8-59.3L412.4 128l11.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-8 0-48.1 0-13.7 0zm10.1 48L340.5 449.2c-.6 8.4-7.6 14.8-16 14.8l-201.1 0c-8.4 0-15.3-6.5-16-14.8L83.7 128l280.6 0z"},clone:{viewport:"0 0 512 512",d:"M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z"},check:{viewport:"0 0 448 512",d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},checkDouble:{viewport:"0 0 448 512",d:"M337 81c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-143 143L97 127c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l80 80c9.4 9.4 24.6 9.4 33.9 0L337 81zM441 201c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-247 247L41 295c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L143 465c9.4 9.4 24.6 9.4 33.9 0L441 201z"},listCheck:{viewport:"0 0 512 512",d:"M156.3 58.2c5.7-6.8 4.7-16.9-2-22.5s-16.9-4.7-22.5 2L62.9 120.3 27.3 84.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l48 48c3.2 3.2 7.5 4.9 12 4.7s8.7-2.3 11.6-5.7l80-96zm0 160c5.7-6.8 4.7-16.9-2-22.5s-16.9-4.7-22.5 2L62.9 280.3 27.3 244.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l48 48c3.2 3.2 7.5 4.9 12 4.7s8.7-2.3 11.6-5.7l80-96zM192 96c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L208 80c-8.8 0-16 7.2-16 16zm0 160c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-288 0c-8.8 0-16 7.2-16 16zM160 416c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-320 0c-8.8 0-16 7.2-16 16zm-64 0a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"},list:{viewport:"0 0 512 512",d:"M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM184 72c-13.3 0-24 10.7-24 24s10.7 24 24 24l304 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L184 72zm0 160c-13.3 0-24 10.7-24 24s10.7 24 24 24l304 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-304 0zm0 160c-13.3 0-24 10.7-24 24s10.7 24 24 24l304 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-304 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"},xmark:{viewport:"0 0 384 512",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},download:{viewport:"0 0 512 512",d:"M280 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 270.1-95-95c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L239 369c9.4 9.4 24.6 9.4 33.9 0L409 233c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95L280 24zM128.8 304L64 304c-35.3 0-64 28.7-64 64l0 80c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-80c0-35.3-28.7-64-64-64l-64.8 0-48 48L448 352c8.8 0 16 7.2 16 16l0 80c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-80c0-8.8 7.2-16 16-16l112.8 0-48-48zM432 408a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"}};funcs={};rowMenus=[];rowMenu=[{label:this.createMenuLabel("Select All Rows",this.icons.listCheck),action:(e,t)=>{t.getTable().selectRow()}},{label:this.createMenuLabel("Un-Select Rows",this.icons.list),action:(e,t)=>{t.getTable().deselectRow()}},{label:this.createMenuLabel("Select Row",this.icons.check),action:(e,t)=>{t.select()}},{label:this.createMenuLabel("Un-Select Row",this.icons.xmark),action:(e,t)=>{t.deselect()}},{separator:!0},{label:this.createMenuLabel("Delete Row",this.icons.remove),action:(e,t)=>{console.log("Deleting row..."),wc.Prompt.question({title:"Are you sure?",text:"This record will be deleted. Are you sure?",callback:o=>{this.funcs.onDelete&&this.funcs.onDelete(t,o)}})}},{label:this.createMenuLabel("Clone Row",this.icons.clone),action:(e,t)=>{let o={title:"Clone Record(s)",icon:"info",focusConfirm:!1,template:"template#clone-template",didOpen:()=>{let i=document.querySelector(".swal2-container");i&&(htmx.process(i),_hyperscript.processNode(i))},callback:i=>{this.funcs.onClone&&this.funcs.onClone(t,i)}};wc.Prompt.fire(o)}},{separator:!0},{label:this.createMenuLabel("Download Table",this.icons.download),action:(e,t)=>{console.log("Download row..."),wc.Prompt.notify({icon:"info",title:"Download Format?",text:"Please select the format:",input:"select",inputPlaceholder:"Select a format",inputOptions:{csv:"CSV",json:"JSON",html:"HTML",pdf:"PDF",xlsx:"XLSX"},callback:o=>{let i=t.getTable();switch(o){case"csv":i.download("csv","data.csv");break;case"json":i.download("json","data.json");break;case"html":i.download("html","data.html");break;case"pdf":i.download("pdf","data.pdf");break;case"xlsx":i.download("xlsx","data.xlsx",{});break}wc.Prompt.toast({title:"Download in progress...",type:"success"})}})}}];constructor(){super(),this.table=null,this._internals=this.attachInternals();let e=this.querySelector(".wc-tabulator");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-tabulator"),this.componentElement.id=this.getAttribute("id")||"wc-tabulator",this.appendChild(this.componentElement)),console.log("ctor:wc-tabulator")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("conntectedCallback:wc-tabulator")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}async _handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_render(){super._render(),this.querySelector(".wc-tabulator > *")||(this.componentElement.innerHTML="",this._createInnerElement()),console.log("_render:wc-tabulator")}async _createInnerElement(){let e=this.hasAttribute("pagination"),t=this.getAttribute("pagination-size"),o=this.getAttribute("pagination-counter"),i=this.getAttribute("movable-columns"),s=this.getAttribute("resizable-columns"),r=this.getAttribute("resizable-column-guide"),l=this.getAttribute("movable-rows"),c=this.getAttribute("row-header"),d=this.getAttribute("row-height"),h=this.getAttribute("row-formatter"),u=this.getAttribute("resizable-rows"),p=this.getAttribute("resizable-row-guide"),b=this.getAttribute("frozen-rows"),g=this.getAttribute("persistence"),v=this.getAttribute("header-visible"),E=this.getAttribute("row-context-menu"),x=this.getAttribute("placeholder"),C=this.getAttribute("selectable-rows"),L=this.getAttribute("col-field-formatter")||"{}",T=this.getAttribute("responsive-layout"),I=this.getAttribute("group-by"),M=this.getAttribute("initial-filter"),D=this.getAttribute("initial-sort"),B=this.getAttribute("row-click"),H=this.getAttribute("row-selected"),j=this.getAttribute("row-deselected");if(L){let y=JSON.parse(L);y&&y.params&&y.params.url&&(y.params.url=this.resolveFormatter(y.params,y.params.url)),y&&y.formatter&&y.params&&(y.formatter=this.resolveFormatter(y.params,y.formatter)),this.colFieldFormatter=y}this.getFuncs(),this.getRowMenu();let f={columns:this.getColumnsConfig(),layout:this.getAttribute("layout")||"fitData",filterMode:"remote",sortMode:"remote",ajaxURL:this.getAttribute("ajax-url")||"",ajaxURLGenerator:this.getAjaxURLGenerator.bind(this),ajaxConfig:this.getAjaxConfig(),ajaxResponse:this.handleAjaxResponse.bind(this)};if(e&&(f.pagination=e),f.pagination&&(f.paginationMode="remote",t?f.paginationSize=parseInt(t)||10:f.paginationSize=10),o&&(f.paginationCounter=o),i&&(f.movableColumns=i.toLowerCase()=="true"),s&&(f.resizableColumns=s.toLowerCase()=="true"),r&&(f.resizableColumnGuide=r.toLowerCase()=="true"),l&&(f.movableRows=l.toLowerCase()=="true"),c){let y=JSON.parse(c);y.cellClick&&(y.cellClick=this.resolveFunc(y.cellClick),f.rowHeader=y)}h&&(f.rowFormatter=this.resolveRowFormatter(h)),d&&(f.rowHeight=parseInt(d)),u&&(f.resizableRows=u.toLowerCase()=="true"),p&&(f.resizableRowGuide=p.toLowerCase()=="true"),b&&(f.frozenRows=parseInt(b)),g&&(f.persistence=g.toLowerCase()=="true"),f.persistence&&(f.persistenceID=container.id),v&&(f.headerVisible=v.toLowerCase()=="true"),E&&E=="rowContextMenu"&&(f.rowContextMenu=this.rowMenu),x&&(f.placeholder=x),C&&(isNaN(parseInt(C))?f.selectableRows=C.toLowerCase()=="true":f.selectableRows=parseInt(C)),I&&(f.groupBy=I),T&&(f.responsiveLayout=T),M&&(f.initialFilter=JSON.parse(M),this.initialFilter=f.initialFilter),D&&(f.initialSort=JSON.parse(D),this.initialSort=f.initialSort),B&&(this.rowClick=this.resolveFunc(B)),H&&(this.rowSelected=this.resolveFunc(H)),j&&(this.rowDeselected=this.resolveFunc(j)),await this.renderTabulator(f)}async renderTabulator(e){await Promise.all([this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"),this.loadScript("https://unpkg.com/jspdf-autotable@3.8.4/dist/jspdf.plugin.autotable.js"),this.loadScript("https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js"),this.loadScript("https://cdn.jsdelivr.net/npm/luxon@2.3.1/build/global/luxon.min.js"),this.loadCSS("https://unpkg.com/tabulator-tables@6.3.0/dist/css/tabulator.min.css"),this.loadLibrary("https://unpkg.com/tabulator-tables@6.3.0/dist/js/tabulator.min.js","Tabulator")]),this.table=new Tabulator(this.componentElement,e),this.table.on("tableBuilt",async()=>{console.log("wc-tabulator:tableBuilt - broadcasting wc-tabulator:ready"),"onInit"in this.funcs&&this.funcs.onInit(this.table),wc.EventHub.broadcast("wc-tabulator:ready",[],""),wc.EventHub.broadcast("wc-tabulator-ready",[],""),typeof htmx<"u"&&(await P(1e3),htmx.process(this))}),"onCellEdited"in this.funcs&&this.table.on("cellEdited",this.funcs.onCellEdited.bind(this)),"onCellDblClick"in this.funcs&&this.table.on("cellDblClick",this.funcs.onCellDblClick.bind(this)),this.rowClick&&this.table.on("rowClick",this.rowClick.bind(this)),this.rowSelected&&this.table.on("rowSelected",this.rowSelected.bind(this)),this.rowDeselected&&this.table.on("rowDeselected",this.rowDeselected.bind(this)),this.table.on("pageLoaded",o=>{typeof htmx<"u"&&setTimeout(()=>{htmx.process(this)},10)});let t=!1;this.table.on("dataFiltering",o=>{console.log("dataFiltering",o)})}getFuncs(){this.querySelectorAll("wc-tabulator-func").forEach(t=>{let o=t.getAttribute("name"),i=t.textContent,s=new Function(`return (${i})`)();this.funcs[o]=s,t.innerHTML=""})}getRowMenu(){this.querySelectorAll("wc-tabulator-row-menu").forEach(t=>{let o=t.getAttribute("order"),i=t.hasAttribute("separator"),s={};if(i)s={separator:!0,order:o};else{let r=t.getAttribute("label"),l=t.getAttribute("icon"),c=t.textContent,d=new Function(`return (${c})`)();s={label:this.createMenuLabel(r,this.icons[l]),action:d,order:o}}t.innerHTML="",this.rowMenus.push(s)}),this.rowMenus.forEach(t=>{t.order!==null&&!isNaN(t.order)&&t.order>=0?this.rowMenu.splice(t.order,0,t):this.rowMenu.push(t)})}getColumnsConfig(){let e=[];return this.querySelectorAll("wc-tabulator-column").forEach(o=>{let i=o.getAttribute("field"),s=o.getAttribute("title")||i,r=o.getAttribute("width"),l=o.getAttribute("width-grow"),c=o.getAttribute("width-shrink"),d=o.getAttribute("min-width"),h=o.getAttribute("max-width"),u=o.getAttribute("max-initial-width"),p=o.getAttribute("resizable"),b=o.getAttribute("editable"),g=o.getAttribute("frozen"),v=o.getAttribute("responsive"),E=o.getAttribute("tooltip"),x=o.getAttribute("css-class"),C=o.getAttribute("row-handle"),L=o.getAttribute("html-output"),T=o.getAttribute("print"),I=o.getAttribute("clipboard"),M=o.getAttribute("title-formatter"),D=o.getAttribute("formatter"),B=o.getAttribute("formatter-params"),H=o.getAttribute("hoz-align"),j=o.getAttribute("vert-align")||"middle",f=o.getAttribute("header-hoz-align"),y=o.getAttribute("visible"),ce=o.getAttribute("header-sort"),de=o.getAttribute("header-sort-starting-dir"),he=o.getAttribute("header-sort-tristate"),ue=o.getAttribute("sorter"),pe=o.getAttribute("sorter-params"),me=o.getAttribute("header-filter"),be=o.getAttribute("header-filter-params"),ge=o.getAttribute("header-filter-placeholder"),we=o.getAttribute("header-filter-func"),fe=o.getAttribute("header-menu"),$=o.getAttribute("editor"),ve=o.getAttribute("editor-params"),ye=o.getAttribute("cell-click"),Ee=o.getAttribute("bottom-calc"),xe=o.getAttribute("bottom-calc-params"),Ce=o.getAttribute("top-calc"),ke=o.getAttribute("top-calc-params"),w={field:i,title:s};if(r&&(w.width=r),l&&(w.widthGrow=parseInt(l)),c&&(w.widthShrink=parseInt(c)),d&&(w.minWidth=d),h&&(w.maxWidth=h),u&&(w.maxInitialWidth=u),p&&(w.resizable=p.toLowerCase()=="true"),b&&(w.editable=b.toLowerCase()=="true"),b&&(b.toLowerCase()=="true"||b.toLowerCase()=="false"?w.editable=b.toLowerCase()=="true":w.editable=this.resolveFunc(b)),g&&(w.frozen=g.toLowerCase()=="true"),v&&(w.responsive=parseInt(v)),E&&(w.tooltip=E),x&&(w.cssClass=x),C&&(w.rowHandle=C.toLowerCase()=="true"),L&&(w.htmlOutput=L),T&&(w.print=T.toLowerCase()=="true"),I&&(w.clipboard=I.toLowerCase()=="true"),ce&&(w.headerSort=ce.toLowerCase()=="true"),de&&(w.headerSortStartingDir=de),he&&(w.headerSortTristate=he.toLowerCase()=="true"),me&&(w.headerFilter=me),be&&(w.headerFilterParams=JSON.parse(be)),ge&&(w.headerFilterPlaceholder=ge),we&&(w.headerFilterFunc=we),fe&&fe=="headerMenu"&&(w.headerMenu=this.headerMenu.bind(this)),$&&($=="dateEditor"?w.editor=this.dateEditor.bind(this):w.editor=$),ve&&(w.editorParams=JSON.parse(ve)),ye&&(w.cellClick=this.resolveFunc(ye)),M&&(w.titleFormatter=M),D?w.formatter=this.resolveCellFormatter(D):i&&this.colFieldFormatter?.cols?.includes(i)&&(w.formatter=this.colFieldFormatter.formatter),B){let W=JSON.parse(B);W&&W.url&&(W.url=this.resolveFormatter(W,W.url)),w.formatterParams=W}else i&&this.colFieldFormatter?.cols?.includes(i)&&(w.formatterParams=this.colFieldFormatter.params);H&&(w.hozAlign=H),j&&(w.vertAlign=j),f&&(w.headerHozAlign=f),y&&(w.visible=y.toLowerCase()=="true"),ue&&(w.sorter=ue),pe&&(w.sorterParams=JSON.parse(pe)),Ee&&(w.bottomCalc=Ee),xe&&(w.bottomCalcParams=JSON.parse(xe)),Ce&&(w.topCalc=Ce),ke&&(w.topCalcParams=JSON.parse(ke)),e.push(w)}),e}resolveRowFormatter(e){try{if(e)return e.startsWith("function")?new Function("row",`return (${e})(row);`):this[e]?this[e].bind(this):window[e]?window[e]:e}catch(t){return console.error(`Error resolving row formatter: ${t.message}`),null}}resolveFunc(e){try{return e.startsWith("function")?new Function(`return (${e})`)():e.includes("=>")?new Function(`return (${e})`)():this[e]?this[e]:window[e]?window[e]:(console.warn(`Func "${e}" not found.`),null)}catch(t){return console.error(`Error resolving func: ${t.message}`),null}}resolveFormatter(e,t){try{return t.startsWith("function")?new Function(`return (${t})`)(e):this[t]?this[t].bind(this):window[t]?window[t]:(console.warn(`Formatter "${t}" not found.`),null)}catch(o){return console.error(`Error resolving formatter: ${o.message}`),null}}pageRowNum=function(e,t,o){var i=e.getRow(),s=e.getTable(),r=s.getPage()||1,l=s.getPageSize(),c=i.getPosition(!0);return(r-1)*l+c};resolveCellFormatter(e){try{if(e)return e.startsWith("function")?new Function("cell",`return (${e})(cell);`):this[e]?this[e].bind(this):window[e]?window[e]:e}catch(t){return console.error(`Error resolving formatter: ${t.message}`),null}}urlFormatter(e,t,o){let i=e.getColumn().getDefinition().formatterParams.routePrefix||"screen",s=e.getColumn().getDefinition().formatterParams.screen,r=e.getColumn().getDefinition().formatterParams.screen_id,l=e.getColumn().getDefinition().formatterParams.id_name,d=e.getData()._id,h="";return s?h=`/${i}/${s}/${d}`:h=`/${i}/${r}?${l}=${d}`,h}linkFormatter(e,t,o){var i=e.getValue(),s=document.createElement("a");let r=e.getColumn().getDefinition().formatterParams.routePrefix||"screen",l=e.getColumn().getDefinition().formatterParams.screen,c=e.getColumn().getDefinition().formatterParams.screen_id,d=e.getColumn().getDefinition().formatterParams.id_name,u=e.getData()._id,p="";return l?p=`/${r}/${l}/${u}`:p=`/${r}/${c}?${d}=${u}`,s.setAttribute("href",p),t.target&&s.setAttribute("target",t.target),s.innerText=t.labelField?e.getData()[t.labelField]:i,t.attributes&&typeof t.attributes=="object"&&Object.entries(t.attributes).forEach(([b,g])=>{s.setAttribute(b,g)}),s}toggleSelect(e,t){t.getRow().toggleSelect()}headerMenu(){var e=[],t=this.table.getColumns();let o=this.createMenuLabel("Hide Filter",this.icons.eyeSlash);e.push({label:o,action:async s=>{let r=[],l=this.table.getColumns();s.stopPropagation();for(let c of l)await c.updateDefinition({headerFilter:!1})}});let i=this.createMenuLabel("Show Filter",this.icons.eye);e.push({label:i,action:s=>{let r=this.getColumnsConfig();s.stopPropagation(),this.table.setColumns(r)}}),e.push({separator:!0});for(let s of t){let r=this.createHeaderMenuIcon(s,this.icons.square,this.icons.squareCheck),l=document.createElement("span");l.classList.add("flex"),l.classList.add("flex-row"),l.classList.add("gap-2");let c=document.createElement("span");c.textContent=" "+s.getDefinition().title,c.textContent=c.textContent.replace("null","").replace("undefined",""),c.classList.add("pointer-events-none"),l.appendChild(r),l.appendChild(c),e.push({label:l,action:d=>{let{target:h}=d;d.stopPropagation(),s.toggle();let u=h.querySelector("path");u.setAttribute("d",s.isVisible()?this.icons.squareCheck.d:this.icons.square.d),u.classList.add("pointer-events-none"),this.table.redraw()}})}return e}createHeaderMenuIcon(e){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("aria-hidden","true"),t.setAttribute("focusable","false"),t.setAttribute("fill","currentColor"),t.classList.add("h-4"),t.classList.add("w-4"),t.classList.add("align-text-top"),t.classList.add("pointer-events-none"),t.setAttribute("viewBox",this.icons.square.viewport);let o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",e.isVisible()?this.icons.squareCheck.d:this.icons.square.d),o.classList.add("pointer-events-none"),t.appendChild(o),t}createMenuLabel(e,t){let o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("aria-hidden","true"),o.setAttribute("focusable","false"),o.setAttribute("fill","currentColor"),o.classList.add("h-4"),o.classList.add("w-4"),o.classList.add("align-text-top"),o.classList.add("pointer-events-none"),o.setAttribute("viewBox",t.viewport);let i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",t.d),i.classList.add("pointer-events-none"),o.appendChild(i);let s=document.createElement("span");s.classList.add("flex"),s.classList.add("flex-row"),s.classList.add("gap-2");let r=document.createElement("span");return r.textContent=" "+e,r.classList.add("pointer-events-none"),s.appendChild(o),s.appendChild(r),s}localdatetime(e,t,o){let{format:i}=t,s=e.getValue();if(!s)return"";let r=luxon.DateTime.DATETIME_MED;switch(i){case"DATE_SHORT":r=luxon.DateTime.DATE_SHORT;break;case"DATE_MED":r=luxon.DateTime.DATE_MED;break;case"DATE_MED_WITH_WEEKDAY":r=luxon.DateTime.DATE_MED_WITH_WEEKDAY;break;case"DATE_FULL":r=luxon.DateTime.DATE_FULL;break;case"DATE_HUGE":r=luxon.DateTime.DATE_HUGE;break;case"DATETIME_SHORT":r=luxon.DateTime.DATETIME_SHORT;break;case"DATETIME_STANDARD":r={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};break;case"DATETIME_SHORT_WITH_SECONDS":r=luxon.DateTime.DATETIME_SHORT_WITH_SECONDS;break;case"DATETIME_MED":r=luxon.DateTime.DATETIME_MED;break;case"DATETIME_MED_WITH_SECONDS":r=luxon.DateTime.DATETIME_MED_WITH_SECONDS;break;case"DATETIME_MED_WITH_WEEKDAY":r=luxon.DateTime.DATETIME_MED_WITH_WEEKDAY;break;case"DATETIME_FULL":r=luxon.DateTime.DATETIME_FULL;break;case"DATETIME_FULL_WITH_SECONDS":r=luxon.DateTime.DATETIME_FULL_WITH_SECONDS;break;case"DATETIME_HUGE":r=luxon.DateTime.DATETIME_HUGE;break;case"DATETIME_HUGE_WITH_SECONDS":r=luxon.DateTime.DATETIME_HUGE_WITH_SECONDS;break}let l=new Date(s);return isNaN(l)?"(Invalid Date)":luxon.DateTime.fromISO(s,{zone:"utc"}).setZone("America/New_York").toLocaleString(r)}linklocaldatetime(e,t,o){let i=this.urlFormatter(e,t,o),s=this.localdatetime(e,t,o);return`<a href="${i}">${s}</a>`}dateEditor(e,t,o,i){var s=luxon.DateTime.fromFormat(e.getValue(),"dd/MM/yyyy").toFormat("yyyy-MM-dd");input=document.createElement("input"),input.setAttribute("type","date"),input.style.padding="4px",input.style.width="100%",input.style.boxSizing="border-box",input.value=s,t(function(){input.focus(),input.style.height="100%"});function r(){input.value!=s?o(luxon.DateTime.fromFormat(input.value,"yyyy-MM-dd").toFormat("dd/MM/yyyy")):i()}return input.addEventListener("blur",r),input.addEventListener("keydown",function(l){l.keyCode==13&&r(),l.keyCode==27&&i()}),input}getAjaxConfig(){return{method:"GET",headers:{"Content-Type":"application/json"}}}getAjaxURLGenerator(e,t,o){let i=[],s=JSON.parse(this.getAttribute("ajax-params-map")||"{}");for(let[h,u]of Object.entries(s))i.push(`${u}=${o[h]}`);if(i.length===0){let{page:h,size:u}=o;if(h&&u)i.push(`page=${h}`),i.push(`size=${u}`);else{let p=this.getAttribute("record-size");p&&i.push(`size=${p}`)}}let r=JSON.parse(this.getAttribute("ajax-params")||"{}");for(let[h,u]of Object.entries(r))i.push(`${h}=${u}`);let{filter:l}=o;if(l&&l.length>0){let h=this.dedupeByField(l);i.push(`filter=${JSON.stringify(h)}`)}let{sort:c}=o;c&&c.length>0&&i.push(`sort=${JSON.stringify(c)}`);let d=i.join("&");return e.includes("?")?e+`&${d}`:e+`?${d}`}dedupeByField(e){let t=new Set;return e.filter(o=>t.has(o.field)?!1:(t.add(o.field),!0))}handleAjaxResponse(e,t,o){let{results:i}=o;if(this.hasAttribute("pagination")){let{data:s,last_page:r,last_row:l}=o;return s==null&&r===0?{last_page:0,last_row:0,data:[]}:s&&r&&l?{last_page:r,last_row:l,data:s}:{last_page:10,data:i}}else return i}_applyStyle(){this.loadStyle("wc-tabulator-style",`
  /* Tabulator */
  wc-tabulator {
    display: contents;
  }
  .wc-tabulator.tabulator {
    background-color: var(--card-bg-color);
    border: 1px solid var(--card-border-color);
  }
  .wc-tabulator.tabulator.rounded {
    border-radius: 10px;
  }

  /* Table Header */
  .wc-tabulator.tabulator .tabulator-header {
    border-bottom: none;
  }
  .wc-tabulator.tabulator .tabulator-header,
  .wc-tabulator.tabulator .tabulator-header .tabulator-col {
    color: var(--card-color);
    background-color: var(--card-border-color);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-col:not(:last-of-type) {
    border-right: 1px solid var(--text-3);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-col:last-of-type {
    border-right: 1px solid transparent;
  }
  /*Allow column header names to wrap lines*/
  .wc-tabulator.tabulator .tabulator-header .tabulator-col,
  .wc-tabulator.tabulator .tabulator-header .tabulator-col-row-handle {
    white-space: normal;
  }
  .wc-tabulator.tabulator .tabulator-header input,
  .wc-tabulator.tabulator .tabulator-row .tabulator-cell input {
    accent-color: var(--accent-color);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers .tabulator-col:hover {
    background-color: var(--primary-bg-color);
    color: var(--surface-1);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers .tabulator-col:hover input {
    color: var(--component-color);
  }

  /* Table Rows */
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd .tabulator-cell.tabulator-row-header.tabulator-row-handle,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd {
    color: var(--text-1);
    background-color: var(--card-bg-color);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even .tabulator-cell.tabulator-row-header.tabulator-row-handle,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even {
    color: var(--text-1);
    background-color: var(--surface-5);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd .tabulator-cell.tabulator-row-header.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even .tabulator-cell.tabulator-row-header.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar {
    background: var(--text-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row .tabulator-cell.tabulator-row-header.tabulator-row-handle {
      border-bottom: none;
  }
  .wc-tabulator .tabulator-row .tabulator-cell a {
    color: var(--text-1);
    text-decoration: underline;
    text-decoration-color: var(--text-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd.tabulator-selected,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even.tabulator-selected {
    background-color: var(--primary-bg-color);
    color: var(--surface-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd:hover:not(.tabulator-selected),
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even:hover:not(.tabulator-selected) 
  {
    background-color: var(--primary-bg-color);
    color: var(--surface-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd:hover:not(.tabulator-selected) a,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even:hover:not(.tabulator-selected) a 
  {
    color: var(--surface-1);
    text-decoration-color: var(--surface-1);
  }
  .wc-tabulator.tabulator.tabulator-block-select .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-placeholder {
    background-color: var(--secondary-bg-color);
  }
  .wc-tabulator .tabulator-row .tabulator-cell {
    border-right: 1px solid var(--text-3);
  }
  .wc-tabulator .tabulator-row .tabulator-cell:last-child {
    border-right: 1px solid transparent;
  }
  /*
  .wc-tabulator .tabulator-tableholder .tabulator-row .tabulator-cell {
    border-right: 1px solid var(--text-3);
  }
  */
  .wc-tabulator .tabulator-tableholder .tabulator-row .tabulator-cell:last-of-type {
    border-right: 1px solid transparent;
  }    

  /* Table Footer */
  .wc-tabulator.tabulator .tabulator-footer {
    border-top: none;
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents {
    color: var(--card-color);
    background-color: var(--card-border-color);
    border-top: 1px solid var(--text-3);
    border-top: 1px solid transparent;
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents .tabulator-page {
    color: var(--card-color);
    background-color: var(--card-border-color);
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents .tabulator-page.active {
    color: var(--card-color);
    background-color: var(--card-border-color);
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents .tabulator-page[disabled] {
    pointer-events: none;
  }

  /* Table Groups */
  .wc-tabulator.tabulator .tabulator-row.tabulator-group > span {
    color: var(--card-color);  
  }

  /* Table Calcs */
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-top,
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-bottom {
    color: var(--card-color) !important;
    background-color: var(--card-border-color) !important;

    /*
    border-color: var(--component-border-color);
    border-top: 1px solid var(--component-border-color);
    border-bottom: 1px solid var(--component-border-color);
    */
  } 
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-top {
    border-top: 1px solid var(--text-3);
    border-bottom: 1px solid var(--text-3);
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-bottom {
    border-top: 1px solid var(--text-3);
    border-bottom: 1px solid transparent;
  }

  
  .wc-tabulator.tabulator .tabulator-row.tabulator-unselectable.tabulator-calcs.tabulator-calcs-top,
  .wc-tabulator.tabulator .tabulator-row.tabulator-unselectable.tabulator-calcs.tabulator-calcs-bottom {
    color: var(--card-color) !important;
    background-color: var(--card-border-color) !important;
    /*
    border-color: var(--component-border-color);
    border-top: 1px solid var(--component-border-color);
    border-bottom: 1px solid var(--component-border-color);
    */
  } 

  /* Table Popup */
  .tabulator-menu.tabulator-popup-container {
    color: var(--text-1);
    background-color: var(--surface-1);
  }
  .tabulator-menu.tabulator-popup-container .tabulator-menu-item:hover {
    color: var(--card-color);
    background-color: var(--card-bg-color);
  }

  /* Tabulator Edit List / Popup Container */
  .tabulator-edit-list.tabulator-popup-container {
    color: var(--text-1);
    background-color: var(--surface-1);
  }
  .tabulator-edit-list-item.tabulator-edit-list-group-level-0 {
    color: var(--text-1);
  }
  .tabulator-edit-list-item.tabulator-edit-list-group-level-0:hover {
    color: var(--card-color);
    background-color: var(--card-bg-color);
  }
      `)}}customElements.define("wc-tabulator",a)}if(!customElements.get("wc-template-preview")){class a extends m{static get observedAttributes(){return[]}constructor(){super(),this.childComponentSelector="wc-input";let e=this.querySelector(".wc-template-preview");if(e)this.componentElement=e;else{this.componentElement=document.createElement("div");let t=this.getAttribute("cls")||"";this.componentElement.className=`wc-template-preview ${t}`,this.appendChild(this.componentElement),this._createElement()}console.log("ctor:wc-template-preview")}async _connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-template-preview")}_disconnectedCallback(){this._unWireEvents(),console.log("disconnectedCallback:wc-template-preview")}_createElement(){let e=this.getAttribute("record-id")||"",t=this.getAttribute("slug")||"",o=`<div class="flex flex-row justify-between">
            <wc-input name="preview_toggle" 
              class="row items-center gap-1"
              lbl-label="Preview"
              type="radio"
              radio-group-class="row modern text-2xs"
              value="off"
              >
              <option value="on">Show</option>
              <option value="off">Hide</option>
            </wc-input>
            <wc-input name="drag_toggle" 
              class="row items-center gap-1 hidden"
              lbl-label="Drag n Drop"
              type="radio"
              radio-group-class="row modern text-2xs"
              value="off"
              >
              <option value="on">Enable</option>
              <option value="off">Disable</option>
            </wc-input>
        </div>
      `,i="";e==="create"||e===""?i=`/v/${t}/create`:i=`/v/${t}/${e}`,this.src=i;let s=`${o}
        <iframe class="preview hidden"
                src=""
                style="height: calc(-360px + 100vh);"
                >
        </iframe>
      `.trim();this.componentElement.innerHTML=s}_handleAttributeChange(e,t){super._handleAttributeChange(e,t)}_applyStyle(){let e=`
        wc-template-preview {
          display: contents;
        }
        .wc-template-preview {
        }
      `.trim();this.loadStyle("wc-template-preview-style",e)}_wireEvents(){super._wireEvents();let e=this.querySelector("iframe.preview"),o=this.querySelector('wc-input input[name="preview_toggle"]').closest("wc-input"),s=this.querySelector('wc-input input[name="drag_toggle"]').closest("wc-input");o.addEventListener("change",r=>{let{target:l}=r,c=s.querySelector(".wc-input");l.value==="on"?(e.src=this.src,c.classList.remove("hidden"),this.componentElement.classList.add("col-1"),e.classList.remove("hidden")):(e.src="",c.classList.add("hidden"),this.componentElement.classList.remove("col-1"),e.classList.add("hidden"))}),s.addEventListener("change",r=>{let{target:l}=r;l.value==="on"?(e.contentDocument.body.classList.add("preview-frame"),wc.EventHub.broadcast("wc-template-preview:enable-drag","","")):(e.contentDocument.body.classList.remove("preview-frame"),wc.EventHub.broadcast("wc-template-preview:disable-drag","",""))})}_unWireEvents(){super._unWireEvents();let e=this.querySelector("iframe.preview"),o=this.querySelector('wc-input input[name="preview_toggle"]').closest("wc-input"),s=this.querySelector('wc-input input[name="drag_toggle"]').closest("wc-input");o.removeEventListener("change",r=>{let{target:l}=r,c=s.querySelector(".wc-input");l.value==="on"?(e.src=this.src,c.classList.remove("hidden"),this.componentElement.classList.add("col-1"),e.classList.remove("hidden")):(e.src="",c.classList.add("hidden"),this.componentElement.classList.remove("col-1"),e.classList.add("hidden"))}),s.removeEventListener("change",r=>{let{target:l}=r;l.value==="on"?(e.contentDocument.body.classList.add("preview-frame"),wc.EventHub.broadcast("wc-template-preview:enable-drag","","")):(e.contentDocument.body.classList.remove("preview-frame"),wc.EventHub.broadcast("wc-template-preview:disable-drag","",""))})}}customElements.define("wc-template-preview",a)}var ee=class extends m{static get observedAttributes(){return["id","class","theme","mode"]}constructor(){super(),this.prefersDark=window.matchMedia("(prefers-color-scheme: dark)").matches,this.prefersLight=window.matchMedia("(prefers-color-scheme: light)").matches;let n=this.querySelector(".wc-theme-selector");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-theme-selector"),this.appendChild(this.componentElement)),console.log("ctor:wc-theme-selector")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-theme-selector")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="theme"?this.componentElement.querySelector(`button[data-theme="${e}"]`)?.click():super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-theme-selector > *")||(this.componentElement.innerHTML="",this._createInnerElement()),this._wireEvents(),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-theme-selector")}_createInnerElement(){let n=["theme-rose","theme-petal","theme-sunset","theme-peach","theme-fire","theme-desert","theme-golden","theme-honey","theme-amber","theme-olive","theme-moss","theme-avocado","theme-lime","theme-fern","theme-yellow","theme-meadow","theme-cornsilk","theme-sage","theme-forest","theme-jungle","theme-emerald","theme-mint","theme-turquoise","theme-aqua","theme-lagoon","theme-ice","theme-ocean","theme-azure","theme-sky","theme-midsky","theme-deepsky","theme-royal","theme-twilight","theme-lavender","theme-violet","theme-grape","theme-plum","theme-fuchsia","theme-cottoncandy","theme-blush","theme-bubblegum"],e=document.createElement("template");e.innerHTML=`
      <div class="relative row flex-wrap">
        ${n.map(t=>`
          <button class="theme-button flat h-10 w-10 rounded-t-md ${t}" type="button" data-theme="${t}" title="${t}">
            <svg class="selectmark h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
              <path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/>
            </svg>
          </button>
          `.trim()).join("")}
      </div>
      <wc-input name="theme_mode"
        class="col"
        lbl-label="Light or Dark?"
        type="checkbox"
        toggle-switch
        ${this.prefersDark?"checked":""}
        _="on change
          if me.value
            remove .light from document.documentElement
            add .dark to document.documentElement
          else
            remove .dark from document.documentElement
            add .light to document.documentElement
          end
        end"
        >
      </wc-input>
      `.trim(),this.componentElement.appendChild(e.content.cloneNode(!0))}_applyStyle(){this.loadStyle("wc-theme-selector-style",`
      wc-theme-selector {
        display: contents;
      }
      wc-theme-selector .wc-theme-selector {

      }
      wc-theme-selector .wc-theme-selector .theme-button {
        padding: 0;
      }
      wc-theme-selector .wc-theme-selector .selectmark {
        padding: 0;
        pointer-events: none;
      }
    `)}_handleThemeClick(n){let{target:e}=n;console.log("target",e);let t=e.getAttribute("data-theme");this._setTheme(e,t),localStorage.setItem("theme",t.replace("theme-",""))}_setTheme(n,e){this.componentElement.querySelectorAll("button[data-theme]").forEach(o=>{o.classList.remove("selected"),o.innerHTML=""}),n.classList.add("selected"),n.innerHTML=`<svg class="selectmark h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/>
      </svg>`.trim(),document.documentElement.classList.forEach(o=>{o.startsWith("theme-")&&document.documentElement.classList.remove(o)}),document.documentElement.classList.add(e)}_handleLoadTheme(){let e=`theme-${localStorage.getItem("theme")||"rose"}`,t=this.componentElement.querySelector(`button[data-theme="${e}"]`);this._setTheme(t,e)}_wireEvents(){super._wireEvents(),this.componentElement.querySelectorAll("button[data-theme]").forEach(e=>e.addEventListener("click",this._handleThemeClick.bind(this))),this.componentElement.addEventListener("load",this._handleLoadTheme.bind(this))}_unWireEvents(){super._unWireEvents(),this.componentElement.querySelectorAll("button[data-theme]").forEach(e=>e.removeEventListener("click",this._handleThemeClick.bind(this)))}};customElements.define("wc-theme-selector",ee);var te=class extends m{static get observedAttributes(){return["id","class","items"]}constructor(){super(),this._items=[];let n=this.querySelector(".wc-timeline");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-timeline"),this.appendChild(this.componentElement)),console.log("ctor:wc-timeline")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-timeline")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-timeline > *")||(this._moveDeclarativeOptions(),this.componentElement.innerHTML="",this._items.forEach((e,t)=>{let o=this._createElement(e.label,e.content,t);this.componentElement.appendChild(o)})),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-timeline")}_createElement(n,e,t){let o="left";t%2!==0&&(o="right");let i=document.createElement("div");i.classList.add("timeline-container",o);let s=document.createElement("div");s.classList.add("timeline-card");let r=document.createElement("h2");r.textContent=n;let l=document.createElement("p");return l.textContent=e,s.appendChild(r),s.appendChild(l),i.appendChild(s),i}_applyStyle(){let n=`
      wc-timeline {
        display: contents;
      }
        
      .wc-timeline,
      .wc-timeline * {
        box-sizing: border-box;
      }

      .wc-timeline {
        position: relative;
        max-width: 1200px;
        margin: 0 auto;
      }

      /* The actual timeline (the vertical ruler) */
      .wc-timeline::after {
        content: '';
        position: absolute;
        width: 6px;
        background-color: var(--primary-bg-color);
        top: 0;
        bottom: 0;
        left: 50%;
        margin-left: -3px;
      }

      /* Container around content */
      .wc-timeline .timeline-container {
        padding: 10px 40px;
        position: relative;
        background-color: inherit;
        width: 50%;
      }

      /* The circles on the timeline */
      .wc-timeline .timeline-container::after {
        content: '';
        position: absolute;
        width: 25px;
        height: 25px;
        right: -17px;
        background-color: var(--component-color);
        border: 4px solid var(--container-border-color);
        top: 15px;
        border-radius: 50%;
        z-index: 1;
      }

      /* Place the container to the left */
      .wc-timeline .left {
        left: 0;
      }

      /* Place the container to the right */
      .wc-timeline .right {
        left: 50%;
      }

      /* Add arrows to the left container (pointing right) */
      .wc-timeline .left::before {
        content: " ";
        height: 0;
        position: absolute;
        top: 22px;
        width: 0;
        z-index: 1;
        right: 30px;
        border: medium solid white;
        border-width: 10px 0 10px 10px;
        border-color: transparent transparent transparent var(--card-bg-color);
      }

      /* Add arrows to the right container (pointing left) */
      .wc-timeline .right::before {
        content: " ";
        height: 0;
        position: absolute;
        top: 22px;
        width: 0;
        z-index: 1;
        left: 30px;
        border: medium solid white;
        border-width: 10px 10px 10px 0;
        border-color: transparent var(--card-bg-color); transparent transparent;
      }

      /* Fix the circle for containers on the right side */
      .wc-timeline .right::after {
        left: -16px;
      }

      /* The actual content */
      .wc-timeline .timeline-card {
        padding: 20px 30px;
        background-color: var(--card-bg-color);
        color: var(--card-color);
        position: relative;
        border-radius: 6px;
      }
      /* Media queries - Responsive timeline on screens less than 600px wide */
      @media screen and (max-width: 600px) {
        /* Place the timelime to the left */
        .wc-timeline::after {
          left: 31px;
        }
        
        /* Full-width containers */
        .wc-timeline .timeline-container {
          width: 100%;
          padding-left: 70px;
          padding-right: 25px;
        }
        
        /* Make sure that all arrows are pointing leftwards */
        .wc-timeline .timeline-container::before {
          left: 60px;
          border: medium solid white;
          border-width: 10px 10px 10px 0;
          border-color: transparent white transparent transparent;
        }

        /* Make sure all circles are at the same spot */
        .wc-timeline .left::after,
        .wc-timeline .right::after {
          left: 15px;
        }
        
        /* Make all right containers behave like the left ones */
        .wc-timeline .right {
          left: 0%;
        }
      }`.trim();this.loadStyle("wc-timeline-style",n)}_unWireEvents(){super._unWireEvents()}_moveDeclarativeOptions(){let n=this.querySelectorAll("option");n.length>0&&(this._items=[]),n.forEach((e,t)=>{let o={label:e.value,content:e.textContent.trim()};this._items.push(o)}),Array.from(n).forEach(e=>e.remove())}};customElements.define("wc-timeline",te);if(!customElements.get("wc-article-skeleton")){class a extends m{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-article-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle();let e={detail:{}},t=new CustomEvent("load",e);this.dispatchEvent(t)}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="article-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-article-skeleton max-w-full m-4 border border-solid card-border-color p-4 space-y-8 animate-pulse md:space-y-0 md:space-x-8 rtl:space-x-reverse md:flex md:items-center",this.componentElement.innerHTML=`
        <div class="flex items-center justify-center w-full h-48 card-bg-color rounded-md sm:w-96">
          <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
            <path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"/>
          </svg>
        </div>
        <div class="w-full">
          <div class="h-2.5 card-bg-color rounded-full w-48 mb-4"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[480px] mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[440px] mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[460px] mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[360px]"></div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
wc-article-skeleton {
  display: contents;
}
wc-article-skeleton .wc-article-skeleton {
  background-color: var(--surface-1);
}
/* Space Utilities */
.space-y-8 > * + * {
  margin-top: 2rem;
}
.md:space-y-0 > * + * {
  margin-top: 0;
}
.md:space-x-8 > * + * {
  margin-left: 2rem;
}
.rtl:space-x-reverse > * + * {
  margin-left: 0;
  margin-right: 2rem;
}

.sm:w-96 {
  width: 24rem;
}
.max-w-[480px] {
  max-width: 480px;
}
.max-w-[440px] {
  max-width: 440px;
}
.max-w-[460px] {
  max-width: 460px;
}
.max-w-[360px] {
  max-width: 360px;
}
      `.trim();this.loadStyle("wc-article-skeleton",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-article-skeleton",a)}if(!customElements.get("wc-card-skeleton")){class a extends m{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-card-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="card-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-card-skeleton max-w-full m-4 p-4 border border-solid card-border-color rounded-md shadow animate-pulse md:p-6",this.componentElement.innerHTML=`
        <div class="flex items-center justify-center h-48 mb-4 card-bg-color rounded-md">
          <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 20">
              <path d="M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"/>
              <path d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"/>
          </svg>
        </div>
        <div class="h-2.5 card-bg-color rounded-full w-48 mb-4"></div>
        <div class="h-2 card-bg-color rounded-full mb-2.5"></div>
        <div class="h-2 card-bg-color rounded-full mb-2.5"></div>
        <div class="h-2 card-bg-color rounded-full"></div>
        <div class="flex items-center mt-4">
          <svg class="text-color-2 w-10 h-10 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"/>
            </svg>
            <div>
                <div class="h-2.5 card-bg-color rounded-full w-32 mb-2"></div>
                <div class="w-48 h-2 card-bg-color rounded-full"></div>
            </div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
      wc-card-skeleton {
        display: contents;
      }
      wc-card-skeleton .wc-card-skeleton {
        background-color: var(--surface-1);
      }
      `.trim()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-card-skeleton",a)}if(!customElements.get("wc-list-skeleton")){class a extends m{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-list-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="list-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-list-skeleton m-4 p-4 space-y-4 border border-solid card-border-color rounded-md shadow animate-pulse md:p-6",this.componentElement.innerHTML=`
        <div class="flex items-center justify-between">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
wc-list-skeleton {
  display: contents;
}
wc-list-skeleton .wc-list-skeleton {
  background-color: var(--surface-1);
}
/* Spacing */
.md:p-6 {
  padding: 1.5rem;
}
.space-y-4 > * + * {
  margin-top: 1rem;
}

/* Width and Height */
.max-w-md {
  max-width: 28rem;
}

/* Shadows */
.shadow {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
}
      `.trim();this.loadStyle("wc-list-skeleton-style",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-list-skeleton",a)}if(!customElements.get("wc-table-skeleton")){class a extends m{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-table-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,t){e==="items"||super._handleAttributeChange(e,t)}_createElement(){this.componentElement.id="table-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-table-skeleton max-w-full m-4 p-4 space-y-4 border border-solid card-border-color rounded-md shadow animate-pulse md:p-6",this.componentElement.innerHTML=`
        <!-- Table Header Skeleton -->
        <div class="flex items-center justify-between">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <!-- Table Row Skeletons -->
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
wc-table-skeleton {
  display: contents;
}
wc-table-skeleton .wc-table-skeleton {
  background-color: var(--surface-1);
}
/* Spacing */
.md:p-6 {
  padding: 1.5rem;
}
.space-y-4 > * + * {
  margin-top: 1rem;
}

/* Shadows */
.shadow {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
}
      `.trim();this.loadStyle("wc-table-skeleton-style",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-table-skeleton",a)}var ne=class extends m{static get observedAttributes(){return["id","class","size","speed","thickness"]}constructor(){super();let n=this.querySelector(".wc-loader");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-loader"),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-loader")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="size"?(this.componentElement.style.height=e,this.componentElement.style.width=e):n==="speed"?this.componentElement.style.animationDuration=e:n==="thickness"?this.componentElement.style.borderWidth=e:super._handleAttributeChange(n,e)}_render(){super._render();let n=this.querySelectorAll(".wc-loader > *");n.length>0&&(this.componentElement.innerHTML="",n.forEach(e=>this.componentElement.appendChild(e))),typeof htmx<"u"&&htmx.process(this)}_applyStyle(){let n=`
      wc-loader {
        display: contents;
      }

      wc-loader .wc-loader {
        border-width: 16px;
        border-style: solid;
        border-color: var(--primary-color);
        border-top-color: var(--primary-bg-color);
        border-radius: 50%;
        width: 120px;
        height: 120px;
        animation: loader-spin 2s linear infinite;
      }

      @keyframes loader-spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `.trim();this.loadStyle("wc-loader-style",n)}_handleHelper(n,e="show"){let{detail:t}=n,{selector:o}=t,i=Array.isArray(o);typeof o=="string"||i?document.querySelectorAll(o).forEach(r=>{r===this&&(e==="show"?this.componentElement.classList.remove("hidden"):e==="hide"?this.componentElement.classList.add("hidden"):e==="toggle"&&this.componentElement.classList.toggle("hidden"))}):document.querySelector(o)===this&&(e==="show"?this.componentElement.classList.remove("hidden"):e==="hide"?this.componentElement.classList.add("hidden"):e==="toggle"&&this.componentElement.classList.toggle("hidden"))}_handleShow(n){this._handleHelper(n,"show")}_handleHide(n){this._handleHelper(n,"hide")}_handleToggle(n){this._handleHelper(n,"toggle")}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-loader:show",this._handleShow.bind(this)),document.body.addEventListener("wc-loader:hide",this._handleHide.bind(this)),document.body.addEventListener("wc-loader:toggle",this._handleToggle.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-loader:show",this._handleShow.bind(this)),document.body.removeEventListener("wc-loader:hide",this._handleHide.bind(this)),document.body.removeEventListener("wc-loader:toggle",this._handleToggle.bind(this))}};customElements.define("wc-loader",ne);var oe=class a extends HTMLElement{static get observedAttributes(){return["hx-get","hx-post","hx-put","hx-delete","hx-target","hx-trigger","hx-swap","hx-select","hx-push-url","hx-vals","hx-headers","hx-indicator","hx-params","hx-ext","hx-prompt","hx-confirm","hx-on","hx-include"]}constructor(){super(),this.classList.add("contents")}connectedCallback(){let n=this.parentElement;n?(this.applyAttributes(n),n.addEventListener("click",this.raiseEvent.bind(this))):console.warn("No parent container found for HTMX attributes.")}applyAttributes(n){a.observedAttributes.forEach(e=>{this.hasAttribute(e)&&n.setAttribute(e,this.getAttribute(e))}),a.observedAttributes.forEach(e=>{this.hasAttribute(e)&&this.removeAttribute(e)})}raiseEvent(n){let e=new CustomEvent("custom-event",{detail:"hello world"});document.body.dispatchEvent(e)}};customElements.define("wc-behavior",oe);if(!customElements.get("wc-visibility-change")){class a extends HTMLElement{static get observedAttributes(){return["hx-verb","hx-url","hx-target","hx-swap","hx-indicator","hx-push-url","hx-select"]}constructor(){super(),this.classList.add("contents"),this.handleVisibilityChange=this.handleVisibilityChange.bind(this),this._pendingAttributes={},this._isConnected=!1}async connectedCallback(){this._isConnected||(console.log("Initial visibility state:",document.visibilityState),console.log("Is document hidden?",document.hidden),document.addEventListener("visibilitychange",this.handleVisibilityChange)),this._isConnected=!0,this._applyPendingAttributes()}disconnectedCallback(){this.form&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange(){if(document.hidden)console.log("Tab is in the background");else{let e=this.getAttribute("hx-verb")||"GET",t=this.getAttribute("hx-url")||"",o=this.getAttribute("hx-target")||"",i=this.getAttribute("hx-swap")||"",s=this.getAttribute("hx-indicator")||"",r=this.getAttribute("hx-push-url")||"",l=this.getAttribute("hx-select")||"";htmx&&e&&t&&o&&i&&htmx.ajax(e,t,{target:o,swap:i,indicator:s,pushUrl:r,select:l}),console.log("Tab is in the foreground")}}attributeChangedCallback(e,t,o){this._isConnected?this._handleAttributeChange(e,o):this._pendingAttributes[e]=o}_applyPendingAttributes(){Object.keys(this._pendingAttributes).forEach(e=>{let t=this._pendingAttributes[e];this._handleAttributeChange(e,t)}),this._pendingAttributes={}}_handleAttributeChange(e,t){}}customElements.define("wc-visibility-change",a)}var ie=class extends HTMLElement{static get observedAttributes(){return["event-name","action","action-target"]}constructor(){super(),this.classList.add("contents")}connectedCallback(){let n=this.getAttribute("event-name")||"";n?document.body.addEventListener(n,this._handleEvent.bind(this)):console.warn("No event-name provided!")}disconnectedCallback(){let n=this.getAttribute("event-name")||"";n&&document.body.removeEventListener(n,this._handleEvent.bind(this))}_handleEvent(n){let{target:e,detail:t}=n,o=this.getAttribute("action-target")||"",i=document.querySelector(o);if(i){let{cls:s,action:r,item:l,selector:c}=t;if(r==="add-class")i.classList.add(s);else if(r==="remove-class")i.classList.remove(s);else if(r==="toggle-class")i.classList.toggle(s);else if(r==="add-item"){let d=document.createElement("div");d.innerHTML=l,i.appendChild(d.firstChild)}else r==="remove-item"?document.querySelector(c).remove():r==="click"&&document.querySelector(c).click()}console.log("_handleEvent:target",e,"detail:",t,"actionTarget:",o)}};customElements.define("wc-event-handler",ie);if(!customElements.get("wc-event-hub")){class a extends HTMLElement{events={};constructor(){super(),this.loadCSS=k.bind(this),this.loadScript=S.bind(this),this.loadLibrary=_.bind(this),this.loadStyle=A.bind(this),console.log("ctor:wc-event-hub")}connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):(window.wc||(window.wc={}),window.wc.EventHub=this,this._applyStyle()),console.log("conntectedCallback:wc-event-hub")}disconnectedCallback(){}broadcast(e,t,o,i){let s={detail:{selector:t,subSelector:o,custom:i}},r=new CustomEvent(e,s);document.body.dispatchEvent(r),window.parent.document&&window.parent.document.body.dispatchEvent(r)}_applyStyle(){this.loadStyle("wc-event-hub-style",`
      wc-event-hub {
        display: contents;
      }
      `)}}customElements.define("wc-event-hub",a)}if(!customElements.get("wc-mask-hub")){class a extends HTMLElement{static get observedAttributes(){return[]}constructor(){super(),this.loadCSS=k.bind(this),this.loadScript=S.bind(this),this.loadLibrary=_.bind(this),this.loadStyle=A.bind(this),console.log("ctor:wc-mask-hub")}async connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):(await this.renderMask(),this._applyStyle()),console.log("conntectedCallback:wc-mask-hub")}disconnectedCallback(){}async renderMask(){await Promise.all([this.loadLibrary("https://cdnjs.cloudflare.com/ajax/libs/imask/7.6.1/imask.min.js","IMask")]),window.wc||(window.wc={}),window.wc.MaskHub=this}phoneMask(e){let{target:t}=e,o=IMask(t,{mask:[{mask:"(000) 000-0000",startsWith:""}],dispatch:function(i,s){let r=(s.value+i).replace(/\D/g,"");return s.compiledMasks[0]}})}_applyStyle(){this.loadStyle("wc-mask-hub-style",`
      wc-mask-hub {
        display: contents;
      }
      `)}}customElements.define("wc-mask-hub",a)}if(!customElements.get("wc-hotkey")){class a extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.getAttribute("keys")||"",t=this.getAttribute("target")||"";if(!e||!t){console.error('WcHotkey requires "keys" and "target" attributes.');return}let o=document.querySelector(t);if(!o){console.error(`Target element not found for selector: ${t}`);return}let i=e.split("+"),s={metaKey:i.includes("cmd"),ctrlKey:i.includes("ctrl"),shiftKey:i.includes("shift"),altKey:i.includes("alt"),key:i.find(l=>!["cmd","ctrl","shift","alt"].includes(l))||""},r=l=>{s.metaKey===l.metaKey&&s.ctrlKey===l.ctrlKey&&s.shiftKey===l.shiftKey&&s.altKey===l.altKey&&s.key.toLowerCase()===l.key.toLowerCase()&&(l.preventDefault(),o.click())};document.addEventListener("keydown",r),this.cleanup=()=>{document.removeEventListener("keydown",r)}}disconnectedCallback(){this.cleanup&&this.cleanup()}}customElements.define("wc-hotkey",a)}if(!customElements.get("wc-link")){class a extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.getAttribute("url");if(e){let t=`wc-link-${this.id||this.dataset.id||crypto.randomUUID()}`;if(window.wc||(window.wc={}),window.wc.scriptsLoaded||(window.wc.linksLoaded={}),document.getElementById(t))console.log(`Link already exists, skipping append: ${e}`),document.body.dispatchEvent(new CustomEvent("link-loaded",{detail:{url:e},bubbles:!0,composed:!0}));else{let o=document.createElement("link");o.rel="stylesheet",o.href=e,o.id=t,o.onload=()=>{console.log(`Link loaded: ${e}`),window.wc.linksLoaded[e]=!0,document.body.dispatchEvent(new CustomEvent("link-loaded",{detail:{url:e},bubbles:!0,composed:!0}))},o.onerror=()=>{console.error(`Failed to load link: ${e}`),document.body.dispatchEvent(new CustomEvent("link-error",{detail:{url:e},bubbles:!0,composed:!0}))},document.head.appendChild(o),console.log(`Added link: ${e}`)}}else console.warn("No URL provided for wc-link component.");this.remove()}}customElements.define("wc-link",a)}if(!customElements.get("wc-script")){class a extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.getAttribute("src");if(window.wc||(window.wc={}),window.wc.scriptsLoaded||(window.wc.scriptsLoaded={}),e){let t=`wc-script-${this.id||this.dataset.id||crypto.randomUUID()}`;if(document.getElementById(t))console.log(`Script already exists, skipping append: ${e}`),document.body.dispatchEvent(new CustomEvent("script-loaded",{detail:{src:e},bubbles:!0,composed:!0}));else{let o=document.createElement("script");o.type="text/javascript",o.src=e,o.id=t,o.onload=()=>{console.log(`Script loaded: ${e}`),window.wc.scriptsLoaded[e]=!0,document.body.dispatchEvent(new CustomEvent("script-loaded",{detail:{src:e},bubbles:!0,composed:!0}))},o.onerror=()=>{console.error(`Failed to load script: ${e}`),document.body.dispatchEvent(new CustomEvent("script-error",{detail:{src:e},bubbles:!0,composed:!0}))},document.head.appendChild(o),console.log(`Added script: ${e}`)}}else console.warn("No src provided for wc-script component.");this.remove()}}customElements.define("wc-script",a)}if(!customElements.get("wc-javascript")){class a extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.textContent.trim();if(e){let t=`wc-javascript-${this.id||this.dataset.id||crypto.randomUUID()}`;if(document.getElementById(t)){console.log("Script already exists, skipping append:",t);let o=window.wc.scripts[t];o&&(console.log("Calling script function..."),o())}else{window.wc||(window.wc={}),window.wc.scripts||(window.wc.scripts={}),window.wc.loadCSS=k,window.wc.loadScript=S,window.wc.loadLibrary=_,window.wc.loadStyle=A;let o=this.hasAttribute("defer"),i=document.createElement("script");i.type="text/javascript",i.textContent=e,i.id=t,o&&i.setAttribute("defer",""),document.head.appendChild(i)}}this.textContent=""}}customElements.define("wc-javascript",a)}if(!customElements.get("wc-prompt")){class a extends HTMLElement{constructor(){super(),this.loadCSS=k.bind(this),this.loadScript=S.bind(this),this.loadLibrary=_.bind(this),this.loadStyle=A.bind(this),this.table=null,console.log("ctor:wc-prompt")}async connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):await this.renderPrompt(),this._applyStyle(),this.wireEvents(),console.log("conntectedCallback:wc-prompt")}disconnectedCallback(){this.unWireEvents()}async renderPrompt(){await Promise.all([this.loadCSS("https://unpkg.com/notie/dist/notie.min.css"),this.loadLibrary("https://unpkg.com/notie","notie"),this.loadLibrary("https://unpkg.com/sweetalert2@11.15.10/dist/sweetalert2.all.js","Swal")]),window.wc||(window.wc={}),window.wc.Prompt=this,wc.EventHub.broadcast("wc-prompt:ready","","")}banner(e){let{text:t="",type:o="info",stay:i=!1,time:s=3,position:r="top"}=e;notie.alert({type:o,text:t,stay:i,time:s,position:r})}toast(e){let{title:t="",icon:o="success",position:i="top-end"}=e;Swal.mixin({toast:!0,title:t,position:i,icon:o,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",Swal.stopTimer),r.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({})}async success(e){let{title:t="",text:o="",footer:i="",callback:s=null}=e,{value:r}=await Swal.fire({icon:"success",title:t,text:o,footer:i});return this.handleResult(e,r)}async error(e){let{title:t="",text:o="",footer:i="",callback:s=null}=e,{value:r}=await Swal.fire({icon:"error",title:t,text:o,footer:i});return this.handleResult(e,r)}async warning(e){let{title:t="",text:o="",footer:i="",callback:s=null}=e,{value:r}=await Swal.fire({icon:"warning",title:t,text:o,footer:i});return this.handleResult(e,r)}async info(e){let{title:t="",text:o="",footer:i="",callback:s=null}=e,{value:r}=await Swal.fire({icon:"info",title:t,text:o,footer:i});return this.handleResult(e,r)}async question(e){let{title:t="",text:o="",footer:i="",showCancelButton:s=!0,callback:r=null}=e,{value:l}=await Swal.fire({icon:"question",title:t,text:o,footer:i,showCancelButton:s});return this.handleResult(e,l)}async notify(e){let o=document.querySelector("body").dataset.theme,{icon:i="",title:s="",text:r="",showConfirmButton:l=!0,input:c="",inputOptions:d={},inputPlaceholder:h="",callback:u=null}=e,p={container:"",popup:o,header:"",title:"",closeButton:"",icon:"",image:"",htmlContainer:"",input:"",inputLabel:"",validationMessage:"",actions:"",confirmButton:"theme-ocean-blue",denyButton:"",cancelButton:"theme-slate-storm",loader:"",footer:"",timerProgressBar:""},{value:b}=await Swal.fire({customClass:p,icon:i,title:s,html:r,input:c,inputOptions:d,inputPlaceholder:h,backdrop:!1,focusConfirm:!1,showCancelButton:!0,showConfirmButton:l,willOpen:()=>{e.willOpen!==void 0&&e.willOpen()},didOpen:()=>{e.didOpen!==void 0&&e.didOpen()}});return this.handleResult(e,b)}async notifyTemplate(e){let o=document.querySelector("body").dataset.theme,{template:i="",didOpen:s=null,preConfirm:r=null,callback:l=null}=e,c={container:"",popup:o,header:"",title:"",closeButton:"",icon:"",image:"",htmlContainer:"",input:"",inputLabel:"",validationMessage:"",actions:"",confirmButton:"theme-ocean-blue",denyButton:"",cancelButton:"theme-slate-storm",loader:"",footer:"",timerProgressBar:""},{value:d}=await Swal.fire({customClass:c,template:i,didOpen:s,preConfirm:r,callback:l});return this.handleResult(e,d)}async fire(e){let s={...{container:"",popup:document.querySelector("body").dataset.theme,header:"",title:"",closeButton:"",icon:"",image:"",htmlContainer:"",input:"",inputLabel:"",validationMessage:"",actions:"",confirmButton:"theme-ocean-blue",denyButton:"",cancelButton:"theme-slate-storm",loader:"",footer:"",timerProgressBar:"",backdrop:!1,focusConfirm:!1,showCancelButton:!0,showConfirmButton:!0,willOpen:()=>{e.willOpen!==void 0&&e.willOpen()},didOpen:()=>{e.didOpen!==void 0&&e.didOpen()}},...e},{value:r}=await Swal.fire(s);return this.handleResult(e,r)}handleResult(e,t){if(t)return t.dismiss!==Swal.DismissReason.cancel&&t.value!==""?e.callback!==void 0?e.callback(t):t:e.callback(!1)}_applyStyle(){this.loadStyle("wc-prompt-style",`
      wc-prompt {
        display: contents;
      }
      .swal2-container .swal2-popup {
        background-color: var(--surface-5);
        color: var(--text-1);
      }
      .swal2-container .swal2-popup .swal2-title {
        color: var(--text-1);
      }
      .swal2-container .swal2-popup .swal2-html-container {
        background-color: var(--surface-5);
        color: var(--text-1);
        overflow: visible;
        text-align: inherit;
        z-index: auto;
      }
      .swal2-container .swal2-popup .swal2-actions .swal2-confirm {
        background-color: var(--primary-bg-color);
      }
      .swal2-container .swal2-popup .swal2-actions .swal2-cancel {
        background-color: var(--secondary-bg-color);
      }
      .swal2-container .swal2-popup input,
      .swal2-container .swal2-popup select,
      .swal2-container .swal2-popup textarea {
        background-color: var(--component-bg-color);
        border: 1px solid var(--component-border-color);
        border-radius: 0.375rem;
        color: var(--component-color);
        padding: 0.375rem;
      }
      `)}wireEvents(){document.body.addEventListener("wc-prompt:banner",e=>{this.banner(e.detail)}),document.body.addEventListener("wc-prompt:toast",e=>{this.toast(e.detail)}),document.body.addEventListener("wc-prompt:success",async e=>this.success(e.detail)),document.body.addEventListener("wc-prompt:error",async e=>this.error(e.detail)),document.body.addEventListener("wc-prompt:warning",async e=>this.warning(e.detail)),document.body.addEventListener("wc-prompt:info",async e=>this.info(e.detail)),document.body.addEventListener("wc-prompt:question",async e=>this.question(e.detail)),document.body.addEventListener("wc-prompt:notify",async e=>this.notify(e.detail)),document.body.addEventListener("wc-prompt:notify-template",async e=>this.notifyTemplate(e.detail))}unWireEvents(){document.body.removeEventListener("wc-prompt:banner",e=>{this.banner(e.detail)}),document.body.removeEventListener("wc-prompt:toast",e=>{this.toast(e.detail)}),document.body.removeEventListener("wc-prompt:success",async e=>this.success(e.detail)),document.body.removeEventListener("wc-prompt:error",async e=>this.error(e.detail)),document.body.removeEventListener("wc-prompt:warning",async e=>this.warning(e.detail)),document.body.removeEventListener("wc-prompt:info",async e=>this.info(e.detail)),document.body.removeEventListener("wc-prompt:question",async e=>this.question(e.detail)),document.body.removeEventListener("wc-prompt:notify",async e=>this.notify(e.detail)),document.body.removeEventListener("wc-prompt:notify-template",async e=>this.notifyTemplate(e.detail))}}customElements.define("wc-prompt",a)}if(!customElements.get("wc-theme")){class a extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){this._handleLoadTheme()}_handleLoadTheme(){let t=`theme-${localStorage.getItem("theme")||"rose"}`;document.documentElement.classList.forEach(o=>{o.startsWith("theme-")&&document.documentElement.classList.remove(o)}),document.documentElement.classList.add(t)}}customElements.define("wc-theme",a)}var se=class extends m{static get observedAttributes(){return["class"]}constructor(){super(),this.passThruAttributes=["id","name","method","action","hx-post","hx-put","hx-target","hx-swap","hx-push-url"],this.passThruEmptyAttributes=[],this.ignoreAttributes=[];let n=this.querySelector(".wc-form");n?this.componentElement=n:(this.componentElement=document.createElement("form"),this.componentElement.classList.add("wc-form"),this.appendChild(this.componentElement)),console.log("ctor:wc-form")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-form")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="test"||super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-form > *")||(this.componentElement.innerHTML="",this.passThruAttributes.forEach(e=>{if(this.hasAttribute(e)){let t=this.getAttribute(e);this.componentElement?.setAttribute(e,t)}}),this.passThruAttributes.forEach(e=>{this.removeAttribute(e)}),this._moveDeclarativeInner(),this._wireEvents()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-form")}_moveDeclarativeInner(){let n=this.querySelectorAll("wc-form > *:not(.wc-form)");n.length>0&&n.forEach(e=>this.componentElement.appendChild(e))}_handleSubmit(n){n.preventDefault();let{target:e}=n,t=this.componentElement.querySelectorAll("[disabled]");t.forEach(o=>o.disabled=!1),t.forEach(o=>o.removeAttribute("disabled")),e.submit(),t.forEach(o=>o.disabled=!0),t.forEach(o=>o.setAttribute("disabled",""))}_applyStyle(){let n=`
      wc-form {
        display: contents;
      }

      .wc-form {
        position: relative;
      }
    `.trim();this.loadStyle("wc-form-style",n)}_wireEvents(){super._wireEvents(),this.componentElement.addEventListener("submit",this._handleSubmit.bind(this))}_unWireEvents(){super._unWireEvents(),this.componentElement.removeEventListener("submit",this._handleSubmit.bind(this))}};customElements.define("wc-form",se);var re=class a extends q{static get observedAttributes(){return["name","id","class","type","value","placeholder","lbl-label","lbl-class","radio-group-class","checked","disabled","readonly","required","autocomplete","autofocus","min","max","minlength","maxlength","pattern","step","multiple","novalidate","elt-class","toggle-swtich"]}static get icons(){return[{name:"email-stroke",icon:`
          <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke-width="0.75" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"></path>
          </svg>
        `.trim()},{name:"email-fill",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="CurrentColor">
            <path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/>
          </svg>
        `.trim()},{name:"tel-stroke",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="0.75" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"></path>
          </svg>
        `.trim()},{name:"tel-fill",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor">
            <path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/>
          </svg>
        `.trim()},{name:"currency-circle",icon:`
          <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke-width="0.75" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        `.trim()},{name:"currency-symbol",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" fill="currentColor">
            <path d="M160 0c17.7 0 32 14.3 32 32l0 35.7c1.6 .2 3.1 .4 4.7 .7c.4 .1 .7 .1 1.1 .2l48 8.8c17.4 3.2 28.9 19.9 25.7 37.2s-19.9 28.9-37.2 25.7l-47.5-8.7c-31.3-4.6-58.9-1.5-78.3 6.2s-27.2 18.3-29 28.1c-2 10.7-.5 16.7 1.2 20.4c1.8 3.9 5.5 8.3 12.8 13.2c16.3 10.7 41.3 17.7 73.7 26.3l2.9 .8c28.6 7.6 63.6 16.8 89.6 33.8c14.2 9.3 27.6 21.9 35.9 39.5c8.5 17.9 10.3 37.9 6.4 59.2c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11l0 33.4c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-34.9c-.4-.1-.9-.1-1.3-.2l-.2 0s0 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.1-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.5 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.6 .4-16.7-1.3-20.4c-1.9-4-5.6-8.4-13-13.3c-16.4-10.7-41.5-17.7-74-26.3l-2.8-.7s0 0 0 0C119.4 279.3 84.4 270 58.4 253c-14.2-9.3-27.5-22-35.8-39.6c-8.4-17.9-10.1-37.9-6.1-59.2C23.7 116 52.3 91.2 84.8 78.3c13.3-5.3 27.9-8.9 43.2-11L128 32c0-17.7 14.3-32 32-32z"/>
          </svg>
        `.trim()}]}constructor(){super(),this.passThruAttributes=["autocomplete","placeholder","min","max","minlength","maxlength","pattern","step","multiple"],this.passThruEmptyAttributes=["autofocus","disabled","readonly","required","novalidate"],this.ignoreAttributes=["lbl-label","toggle-switch"];let n=this.querySelector(".wc-input");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-input","relative"),this.appendChild(this.componentElement)),console.log("ctor:wc-input")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-input")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){if(this.passThruAttributes.includes(n)&&this.formElement?.setAttribute(n,e),this.passThruEmptyAttributes.includes(n)&&((this.getAttribute("type")||"text")==="radio"?this.querySelectorAll('input[type="radio"]').forEach(i=>{i.setAttribute(n,"")}):this.formElement?.setAttribute(n,"")),this.ignoreAttributes.includes(n),n==="lbl-class"){let t=this.getAttribute("name");this.querySelector(`label[for="${t}"]`)?.classList.add(e)}else if(n==="radio-group-class"){let t=this.querySelector(".radio-group");e.split(" ").forEach(i=>{i&&t?.classList.add(i.trim())}),t?.classList.add("text-2xs")}else n==="type"?(this.formElement?.setAttribute("type",e),e==="checkbox"?this.hasAttribute("checked")?(this.formElement?.setAttribute("checked",""),this.formElement?.setAttribute("value","bool:True")):(this.formElement?.removeAttribute("checked"),this.formElement?.setAttribute("value","bool:False")):e==="currency"&&this.formElement?.setAttribute("type","number")):super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-input > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-input")}_createInnerElement(){let n=this.getAttribute("lbl-label")||"",e=this.getAttribute("name"),t=this.getAttribute("type")||"text",o=this.hasAttribute("toggle-switch");if(n){let i=document.createElement("label"),s=this.getAttribute("value")||"";t==="range"&&s?i.textContent=`${n} (${s})`:i.textContent=n,i.setAttribute("for",e),this.componentElement.appendChild(i)}if(this.formElement=document.createElement("input"),this.formElement.setAttribute("form-element",""),this.formElement.setAttribute("type",t),t==="radio"){let i=[],s=this.querySelectorAll("option");s.forEach(l=>{let c=l.textContent.trim(),d=l.value.trim();i.push({key:c,value:d})}),s.forEach(l=>l.remove()),i.length==0&&(i=this.getAttribute("options")?JSON.parse(this.getAttribute("options")):[]);let r=document.createElement("div");r.classList.add("radio-group"),i.forEach(l=>{let c=document.createElement("label");c.classList.add("radio-option"),c.textContent=l.key;let d=document.createElement("input");d.setAttribute("type","radio"),d.setAttribute("name",e),d.setAttribute("value",l.value),l.value===this.getAttribute("value")&&d.setAttribute("checked",""),c.prepend(d),r.appendChild(c)}),this.componentElement.appendChild(r)}else if(t==="checkbox"&&o){this.formElement.classList.add("toggle-checkbox");let i=document.createElement("div");i.classList.add("toggle-wrapper"),i.appendChild(this.formElement);let s=document.createElement("span");s.classList.add("toggle-switch"),i.appendChild(s),this.componentElement.appendChild(i);let r=document.createElement("input");r.name=e,r.type="hidden",r.checked=!0,r.value="bool:False",this.componentElement.appendChild(r)}else if(t==="currency"){this.formElement.setAttribute("type","number");let i=document.createElement("span");i.classList.add("icon");let s=a.icons.find(r=>r.name==="currency-symbol");i.innerHTML=s.icon,this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(i)}else if(t==="email"){let i=document.createElement("span");i.classList.add("icon");let s=a.icons.find(r=>r.name==="email-fill");i.innerHTML=s.icon,this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(i)}else if(t==="tel"){let i=document.createElement("span");i.classList.add("icon");let s=a.icons.find(r=>r.name==="tel-fill");i.innerHTML=s.icon,this.formElement.setAttribute("_",`on load or input
          call wc.MaskHub.phoneMask(event)
          me.setCustomValidity('')
        end`),this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(i)}else this.componentElement.appendChild(this.formElement)}_applyStyle(){let n=`
      wc-input {
        display: contents;
      }
      /*
      wc-input label {
        margin-bottom: 0.250rem;
      }
      wc-input input {
        background-color: var(--surface-3);
        border: 1px solid var(--surface-4);
        border-radius: 0.375rem;
        color: var(--text-1);
        padding: 0.375rem;
        width: 100%;
      }
      wc-input input:-webkit-autofill {
        background-color: var(--surface-3);
        color: var(--surface-4);
        box-shadow: 0 0 0px 1000px var(--surface-3) inset;
        -webkit-text-fill-color: var(--text-1);
        transition: background-color 5000s ease-in-out 0s;
      }
      input:focus-visible {
        outline: var(--surface-4) solid 2px;
        outline-offset: 0px;
      }
      input:user-invalid {
        outline: solid 2px var(--invalid-color);
        outline-offset: 0px;
      }
      input[type="checkbox"],
      input[type="range"] {
        background-color: var(--component-bg-color);
        border: 1px solid var(--component-border-color);
        accent-color: var(--component-bg-color);
      }
      input[type="checkbox"]:hover,
      input[type="range"]:hover {
        accent-color: var(--primary-bg-color);
      }
      input[type="button"] {
        position: relative;
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
        border: 1px solid var(--primary-bg-color);
        border: none;
        border-radius: 0.375rem;
        padding: 0.5rem;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }
      input[type="button"]:focus-visible {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 2px;  
      }
      input[type="button"]:disabled {
        cursor: not-allowed;
        opacity: 0.7;
      }
      input[type="button"]:hover:not(:disabled) {
        background-color: var(--primary-alt-bg-color);
      }
      */


      div.wc-input :disabled:not(.toggle-checkbox),
      div.wc-textarea :disabled,
      div.wc-select :disabled,
      div.wc-code-mirror :disabled 
      {
        cursor: not-allowed;
        opacity: 0.7;
        font-style: italic;  
      }
      div.wc-input label:has(:disabled),
      div.wc-textarea label:has(:disabled),
      div.wc-select label:has(:disabled),
      div.wc-code-mirror label:has(:disabled)
      {
        cursor: not-allowed;
      }
      div.wc-input:has(:disabled) label,
      div.wc-textarea:has(:disabled) label,
      div.wc-select:has(:disabled) label,
      div.wc-code-mirror:has(:disabled) label
      {
        opacity: 0.7;
        font-style: italic;
      }
      div.wc-input:has(:required) label,
      div.wc-textarea:has(:required) label,
      div.wc-select:has(:required) label,
      /*div.wc-code-mirror:has(:required) label*/
      div.wc-code-mirror[required] label
      {
        font-weight: bold;
      }
      div.wc-input:has(:required) label::after,
      div.wc-textarea:has(:required) label::after,
      div.wc-select:has(:required) label::after,
      /*div.wc-code-mirror:has(:required) label::after*/
      div.wc-code-mirror[required] label::after
      {
        content: ' *';
        font-weight: bold;
      }



      wc-input input {
        width: 100%;
      }
      wc-input .toggle-wrapper {
        position: relative;
        width: 50px;
        height: 22px;
        display: inline-block;
      }

      wc-input .toggle-checkbox {
        opacity: 0;
        width: 100%;
        height: 100%;
      }
      wc-input .toggle-checkbox:focus-visible + .toggle-switch {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 0px;
      }

      wc-input .toggle-switch {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--toggle-off);
        border: 1px solid var(--component-border-color);
        border-radius: 25px;
        /* cursor: pointer; */
        transition: background-color 0.4s;
        pointer-events: none;
      }

      .xdark wc-input .toggle-switch {
        background-color: var(--toggle-off);
        border: 1px solid var(--component-border-color);
        transition: background-color 0.25s;
      }

      wc-input .toggle-switch::before {
        position: absolute;
        content: "";
        height: 15px;
        width: 15px;
        left: 2px;
        bottom: 2px;
        background-color: var(--primary-bg-color);
        border: 1px solid var(--toggle-off);
        border-radius: 50%;
        transition: transform 0.4s;
      }

      wc-input .toggle-checkbox:checked + .toggle-switch::before {
        border: 1px solid var(--toggle-on);
      }
      wc-input .toggle-checkbox:checked + .toggle-switch {
        background-color: var(--toggle-on);
      }
      .xdark wc-input .toggle-checkbox:checked + .toggle-switch {
        background-color: var(--component-bg-color);
      }

      wc-input .toggle-checkbox:checked + .toggle-switch::before {
        transform: translateX(27px);
      }

      wc-input .toggle-checkbox:disabled + .toggle-switch {
        opacity: 0.7;
      }




      wc-input .radio-group {
        display: inline-flex;
        min-height: 20.5px;
      }
      wc-input .radio-group:not(.modern) {
        gap: 0.875rem;
      }
      wc-input .radio-group .radio-option {
        display: inline-flex;
        align-items: center;
        position: relative;
        outline: none;
      }
      wc-input .radio-group:not(.modern) .radio-option {
        padding-left: 12px;
        align-self: center;
      }
      wc-input .radio-group.col:not(.modern) .radio-option {
        padding-left: 12px;
        align-self: self-start;
      }
      wc-input .radio-group.modern {
        border: 1px solid var(--component-bg-color);
        border-radius: 5px;
      }
      wc-input .radio-group.modern .radio-option {
        padding: 0 0.5rem;
        background-color: var(--component-bg-color);
        color: var(--primary-color);
        border-right: 1px solid var(--component-bg-color);
      }
      wc-input .radio-group.modern .radio-option:first-child {
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
      }
      wc-input .radio-group.modern .radio-option:last-child {
        border-right: none;
        border-top-right-radius: 5px;
        border-bottom-right-radius: 5px;
      }
      wc-input .radio-group .radio-option input[type="radio"] {
        opacity: 0;
        margin: 0;
      }
      wc-input .radio-group.modern .radio-option input[type="radio"] {
        position: absolute;
      }
      wc-input .radio-group.modern .radio-option:hover:not(:has(input[type="radio"]:disabled)) {
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
      }
      wc-input .radio-group.modern .radio-option:has(input[type="radio"]:checked) {
        background-color: var(--primary-bg-color);
        color: var(--secondary-alt-color);
      }
      wc-input .radio-group.modern:has(:focus-within) {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 0px;
        border: 1px solid transparent;
      }
      wc-input .radio-group:not(.modern) .radio-option::before {
        content: "";
        display: inline-block;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        border: 2px solid var(--component-border-color);
        background-color: var(--white-color);
        transition: border-color 0.3s;
        position: absolute;
        left: 0;
        top: 0;
      }
      wc-input .radio-group:not(.modern) .radio-option:has(:checked)::after {
        content: "";
        display: inline-block;
        width: 10px; /* Slightly smaller than outer circle */
        height: 10px;
        border-radius: 50%;
        background-color: var(--primary-bg-color);
        position: absolute;
        left: 5px;
        top: 5px;
        transition: background-color 0.3s;
      }
      wc-input .radio-option:hover::before {
        border-color: var(--secondary-bg-color);
      }
      wc-input .radio-group:not(.modern) .radio-option:focus-within::after {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 0px;
      }




      wc-input input[type="email"] {
        padding-left: 25px;
        min-width: 130px;
      }
      wc-input input[type="email"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }


      wc-input input[type="tel"] {
        padding-left: 25px;
        min-width: 130px;
      }
      wc-input input[type="tel"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }

      wc-input[type="currency"] input[type="number"] {
        padding-left: 25px;
      }
      wc-input[type="currency"] input[type="number"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }


    `.trim();this.loadStyle("wc-input-style",n)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-input",re);var le=class extends q{static get observedAttributes(){return["name","id","class","multiple","value","items","url","display-member","value-member","lbl-label","disabled","required","autofocus","elt-class"]}constructor(){super(),this.selectedOptions=[],this.mode=this.getAttribute("mode")||"chip",this.highlightedIndex=-1;let n=this.querySelector(".wc-select");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-select","relative"),this.appendChild(this.componentElement)),console.log("ctor:wc-select")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-select")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="autofocus"?this.formElement?.setAttribute("autofocus",""):n==="url"?e&&fetch(e).then(t=>t.json()).then(t=>{this._items=t,this._generateOptionsFromItems(),this._items.forEach(o=>{if(o.selected){let i=this.getAttribute("display-member")||"key",s=this.getAttribute("value-member")||"value";this.addChip(o[s],o[i])}})}):n==="items"?(typeof e=="string"&&(this._items=JSON.parse(e),this._generateOptionsFromItems(),this._items.forEach(t=>{if(t.selected){let o=this.getAttribute("display-member")||"key",i=this.getAttribute("value-member")||"value";this.addChip(t[i],t[o])}})),this.removeAttribute("items")):n==="disabled"?this.formElement?.setAttribute("disabled",""):n==="required"?this.formElement?.setAttribute("required",""):n==="multiple"?this.formElement?.setAttribute("multiple",""):n==="lbl-label"||n==="value-member"||n==="display-member"||super._handleAttributeChange(n,e)}_render(){super._render(),this.querySelector(".wc-select > *")||(this.componentElement.innerHTML="",this._createInnerElement(),this.querySelectorAll("option[selected]").forEach(t=>{this.addChip(t.value,t.textContent)})),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-select")}_createInnerElement(){let n=this.getAttribute("lbl-label")||"",e=this.getAttribute("name"),t=this.querySelectorAll("option");if(this.hasAttribute("lbl-label")){let s=document.createElement("label");s.textContent=n,this.getAttribute("mode")==="chip"?s.setAttribute("for","dropdownInput"):s.setAttribute("for",e),this.componentElement.appendChild(s)}let o=document.createElement("select");o.id=e,o.name=e,this.getAttribute("multiple")&&(o.multiple=!0,o.setAttribute("multiple",""));let i=this.getAttribute("size");if(i&&o.setAttribute("size",i),t.forEach(s=>{o.appendChild(s)}),this.formElement=o,this.getAttribute("mode")==="chip"){o.name=e;let s=document.createElement("div");s.classList.add("row");let r=document.createElement("div");r.classList.add("chip-container"),r.id="chipContainer",s.appendChild(r);let l=document.createElement("div");l.classList.add("dropdown");let c=document.createElement("input");c.classList.add("dropdown-input"),c.id="dropdownInput",c.setAttribute("placeholder","Add or select..."),this.hasAttribute("disabled")&&c.setAttribute("disabled",""),this.hasAttribute("required")&&c.setAttribute("required",""),l.appendChild(c);let d=document.createElement("div");d.classList.add("options-container"),d.id="optionsContainer",d.innerHTML=Array.from(t).map(h=>`<div class="option" data-value="${h.value}">${h.textContent}</div>`).join(""),l.appendChild(d),l.appendChild(o),s.appendChild(l),this.componentElement.appendChild(s)}else this.componentElement.appendChild(o);this.removeAttribute("name"),this.attachEventListeners()}_generateOptionsFromItems(){let n=this.getAttribute("display-member")||"key",e=this.getAttribute("value-member")||"value",t=this.getAttribute("value")||null;this.formElement.innerHTML="",this._items.forEach(i=>{let s=document.createElement("option");typeof i=="object"?(s.value=i[e],s.textContent=i[n]):(s.value=i,s.textContent=i),s.value==t&&(s.selected=!0),this.formElement.appendChild(s)});let o=this.querySelector(".options-container");if(o){let i=this.formElement.querySelectorAll("option");o.innerHTML=Array.from(i).map(s=>`<div class="option" data-value="${s.value}">${s.textContent}</div>`).join("")}}_applyStyle(){let n=`
      wc-select {
        display: contents;
      }
      wc-select .chip-container { 
        display: none;
        flex-wrap: wrap; 
        gap: 5px; 
        margin-bottom: 5px; 
      }
      wc-select[mode="chip"] .chip-container { 
        display: flex; 
      }

      wc-select .chip { 
        display: flex; 
        align-items: center; 
        padding: 5px; 
        background-color: var(--primary-bg-color); 
        color: var(--primary-color);
        border-radius: 15px; 
        font-size: 0.75rem; /* 12px */
        line-height: 1rem; /* 16px */
      }
      wc-select .chip-close { 
        margin-left: 5px; 
        cursor: pointer; 
        font-weight: bold; 
      }
      wc-select:has(:disabled) .chip {
        opacity: 0.7;
        font-style: italic;
      }
      wc-select:has(:disabled) .chip .chip-close {
        display: none;
      }
      wc-select .dropdown { 
        display: flex; 
        flex-direction: row;
        flex: 1 1 0%;
        position: relative; 
      }
      wc-select .dropdown-input { 
        display: none;
        width: 100%;
        min-width: 85px;
        padding: 0.375rem;
      }
      wc-select .chip-container:has(.chip) + .dropdown .dropdown-input {
        margin-left: 0.5rem;
      }
      wc-select[mode="chip"] .dropdown-input { 
        display: block; 
      }
      wc-select .options-container { 
        display: none;
        position: absolute; 
        top: 29.5px; 
        left: 0; 
        right: 0; 
        background: var(--secondary-bg-color); 
        color: var(--primary-color);
        border: 1px solid var(--accent-bg-color); 
        max-height: 150px;
        margin-left 0.5rem;
        overflow-y: auto; 
        z-index: 10; 
      }

      wc-select[mode="chip"] .options-container { 
        display: none;
      }
      wc-select .chip-container:has(.chip) + .dropdown .options-container {
        margin-left: 0.5rem;
      }
      wc-select .option { 
        padding: 5px; 
        cursor: pointer; 
      }
      wc-select .option.highlighted { 
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
      }
      wc-select .option:hover { 
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
      }
      wc-select select { 
        display: block; 
        width: 100%; 
        padding: 5px; 
      }
      wc-select[mode="multiple"] select { 
        display: block;
      }
      wc-select[mode="chip"] select { 
        display: none;
      }
      wc-select select:disabled { 
        cursor: not-allowed;
        opacity: 0.7;
        font-style: italic;
      }
      wc-select select:disabled option {
        color: var(--component-alt-color);
      }
      wc-select .dropdown-input:disabled {
        cursor: not-allowed;
        opacity: 0.7;
        font-style: italic;
      }
    `.trim();this.loadStyle("wc-select-style",n)}attachEventListeners(){let n=this.querySelector("#dropdownInput"),e=this.querySelector("#optionsContainer"),t=this.querySelector("#chipContainer");this.mode==="chip"&&n&&(n?.addEventListener("focus",()=>e.style.display="block"),n?.addEventListener("input",()=>this.filterOptions(n.value)),e?.addEventListener("click",o=>{o.target.classList.contains("option")&&(this.addChip(o.target.getAttribute("data-value"),o.target.textContent),e.style.display="none",n.value="")}),n?.addEventListener("keydown",o=>this.handleKeyboardNavigation(o)),document.addEventListener("click",o=>{this.contains(o.target)||(e.style.display="none")}),t?.addEventListener("click",o=>{if(o.target.classList.contains("chip-close")){let s=o.target.closest(".chip").getAttribute("data-value");this.removeChip(s)}}))}handleKeyboardNavigation(n){let e=this.querySelector("#optionsContainer"),t=Array.from(e.querySelectorAll(".option")).filter(i=>i.style.display!=="none"),o=this.hasAttribute("allow-dynamic");if(n.key==="ArrowDown")n.preventDefault(),this.highlightedIndex=(this.highlightedIndex+1)%t.length,this.updateHighlight(t);else if(n.key==="ArrowUp")n.preventDefault(),this.highlightedIndex=(this.highlightedIndex-1+t.length)%t.length,this.updateHighlight(t);else if(n.key==="Enter"&&this.highlightedIndex>=0){n.preventDefault();let i=t[this.highlightedIndex];this.addChip(i.getAttribute("data-value"),i.textContent),this.resetDropdown()}else if(n.key==="Enter"&&o){n.preventDefault();let i=n.target.value;this.addChip(i,i),this.resetDropdown()}else n.key==="Escape"&&this.resetDropdown()}updateHighlight(n){n.forEach(e=>e.classList.remove("highlighted")),this.highlightedIndex>=0&&this.highlightedIndex<n.length&&n[this.highlightedIndex].classList.add("highlighted")}resetDropdown(){let n=this.querySelector("#dropdownInput"),e=this.querySelector("#optionsContainer");this.highlightedIndex=-1,n.value="",e.style.display="none",this.updateHighlight([])}filterOptions(n){this.querySelector("#optionsContainer").querySelectorAll(".option").forEach(o=>{o.textContent.toLowerCase().includes(n.toLowerCase())&&!this.selectedOptions.includes(o.getAttribute("data-value"))?o.style.display="block":o.style.display="none"}),this.highlightedIndex=-1,this.updateHighlight([])}addChip(n,e){let t=this.hasAttribute("allow-dynamic");this.selectedOptions.includes(n)||setTimeout(()=>{if(t){let i=this.querySelector("select");if(!Array.from(i.options).some(r=>r.value===n)){let r=new Option(e,n);i.add(r)}}this.selectedOptions.push(n),this.updateSelect(),this.updateChips(),this.updateDropdownOptions();let o=new Event("change");this.dispatchEvent(o)},10)}removeChip(n){this.selectedOptions=this.selectedOptions.filter(t=>t!==n),this.updateSelect(),this.updateChips(),this.updateDropdownOptions();let e=new Event("change");this.dispatchEvent(e)}updateChips(){let n=this.querySelector("#chipContainer");n&&this.mode==="chip"&&(n.innerHTML=this.selectedOptions.map(e=>{let t=Array.from(this.querySelectorAll("option")).find(i=>i.value===e),o=t?t.textContent:e;return`<div class="chip" data-value="${e}">${o}<span class="chip-close">&times;</span></div>`}).join(""))}updateSelect(){let n=this.querySelector("select");n.innerHTML=Array.from(this.querySelectorAll("option")).map(e=>`<option value="${e.value}" ${this.selectedOptions.includes(e.value)?"selected":""}>${e.textContent}</option>`).join("")}updateDropdownOptions(){let n=this.querySelector("#optionsContainer");n&&Array.from(n.querySelectorAll(".option")).forEach(e=>{e.style.display=this.selectedOptions.includes(e.getAttribute("data-value"))?"none":"block"})}};customElements.define("wc-select",le);var ae=class extends q{static get observedAttributes(){return["name","id","class","value","rows","cols","placeholder","lbl-label","disabled","readonly","required","autofocus","elt-class"]}constructor(){super(),this.firstContent="",this.firstChild&&this.firstChild.nodeName=="#text"&&(this.firstContent=this.firstChild.textContent,this.removeChild(this.firstChild));let n=this.querySelector(".wc-textarea");n?this.componentElement=n:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-textarea","relative"),this.appendChild(this.componentElement)),console.log("ctor:wc-textarea")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-textarea")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(n,e){n==="autofocus"?this.formElement?.setAttribute("autofocus",""):n==="lbl-label"||(n==="disabled"?this.formElement?.setAttribute("disabled",""):n==="readonly"?this.formElement?.setAttribute("readonly",""):n==="required"?this.formElement?.setAttribute("required",""):n==="placeholder"?this.formElement?.setAttribute("placeholder",e):n==="cols"?this.formElement?.setAttribute("cols",e):n==="rows"?this.formElement?.setAttribute("rows",e):super._handleAttributeChange(n,e))}_render(){super._render(),this.querySelector(".wc-textarea > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-textarea")}_createInnerElement(){let n=this.getAttribute("lbl-label")||"",e=this.getAttribute("name");if(n){let o=document.createElement("label");o.textContent=n,o.setAttribute("for",e),this.componentElement.appendChild(o)}this.formElement=document.createElement("textarea"),this.formElement.setAttribute("form-element",""),this.componentElement.appendChild(this.formElement);let t=this.getAttribute("value")||"";this.firstContent&&!t&&this.setAttribute("value",this.firstContent.trim())}_applyStyle(){let n=`
      wc-textarea {
        display: contents;
      }
    `.trim();this.loadStyle("wc-textarea-style",n)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-textarea",ae);export{O as applyRule,je as checkResources,Ue as countElements,Fe as disableSortable,ze as enableSortable,Ke as extractRules,Ze as extractSrcElements,Re as fetchApi,Se as generateUniqueId,Me as getSourcePropertyValue,Ae as hide,Te as hideAndShow,Ye as initRules,qe as isCustomElement,k as loadCSS,_ as loadLibrary,S as loadScript,A as loadStyle,De as loadStylesheet,Be as locator,We as locatorAll,Ge as processJSONField,Le as show,P as sleep,Ie as testSchema,Je as toggleIndicator,Ne as updateJetTemplate,$e as waitForPropertyPolling,Pe as waitForResourcePolling,He as waitForSelectorPolling,_e as waitForSelectorsPolling,Oe as waitForThenHideAndShow};
