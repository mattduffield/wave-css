function We(l){return l.tagName.includes("-")}function Se(){return"xxxx-xxxx-xxxx-xxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}function _(l){return new Promise((t,e)=>{if(document.querySelector(`link[rel="stylesheet"][href="${l}"]`)){t();return}let o=document.createElement("link");o.rel="stylesheet",o.href=l,o.onload=()=>t(),o.onerror=i=>e(i),document.head.appendChild(o);let n=setInterval(()=>{getComputedStyle(document.body).getPropertyValue("display")&&(clearInterval(n),t())},50)})}function A(l){return new Promise((t,e)=>{if(document.querySelector(`script[src="${l}"]`)){t();return}let o=document.createElement("script");o.src=l,o.onload=t,o.onerror=e,document.head.appendChild(o)})}function S(l,t){return new Promise((e,o)=>{if(document.querySelector(`script[src="${l}"]`)){if(t&&window[t])e();else{let i=setInterval(()=>{window[t]&&(clearInterval(i),e())},50)}return}let n=document.createElement("script");n.src=l,n.onload=()=>{if(t&&!window[t]){let i=setInterval(()=>{window[t]&&(clearInterval(i),e())},50)}else e()},n.onerror=i=>{o(i)},document.head.appendChild(n)})}function L(l,t){return new Promise((e,o)=>{if(document.querySelector(`style#${l}`)){e();return}let n=document.createElement("style");n.id=l,n.textContent=t.trim(),n.onload=e,n.onerror=o,document.head.appendChild(n)})}function De(l){return new Promise((t,e)=>{if(document.querySelector(`link[href="${l}"]`)){t();return}let o=document.createElement("link");o.rel="stylesheet",o.href=l,o.onload=t,o.onerror=e,document.head.appendChild(o)})}function $e(l,t){if(l.matches&&l.matches(t))return l;let e=l.querySelector(t);if(e)return e;let o=l.querySelectorAll("*");for(let n of o)if(n.shadowRoot){let i=this.locator(n.shadowRoot,t);if(i)return i}}function je(l,t){let e=[];l.matches&&l.matches(t)&&e.push(l),e.push(...l.querySelectorAll(t));let o=l.querySelectorAll("*");for(let n of o)n.shadowRoot&&e.push(...this.locatorAll(n.shadowRoot,t));return e}function ze(l,t=3e3,e=100){return new Promise((o,n)=>{let i=Date.now(),s=()=>{let r=document.querySelector(l);r&&r.offsetParent!==null?o(r):Date.now()-i>t?n(new Error(`Timeout: Selector "${l}" not found or not visible after ${t}ms`)):setTimeout(s,e)};s()})}function Be(l,t){let e=!1;return e=wc.linksLoaded[l]&&wc.scriptsLoaded[t],e}function Oe(l=[],t=[],e=5e3,o=100){return new Promise((n,i)=>{let s=Date.now(),r=Array.isArray(l)?l:[l],a=Array.isArray(t)?t:[t],c=()=>{let d=r.length===0||r.every(m=>window.wc?.scriptsLoaded?.[m]===!0),h=a.length===0||a.every(m=>window.wc?.linksLoaded?.[m]===!0);d&&h?n():Date.now()-s>e?i(new Error(`Timeout: Dependencies not available after ${e}ms. Scripts: ${JSON.stringify(r)}, Links: ${JSON.stringify(a)}`)):setTimeout(c,o)};c()})}function Le(l=[],t=3e3){return new Promise((e,o)=>{let n=Date.now(),i=Array.isArray(l)?l:[l],s=()=>{i.every(a=>document.querySelector(a)!==null)?e():Date.now()-n>t?o(new Error(`Timeout: Not all selectors available after ${t}ms. Missing selectors: ${JSON.stringify(i)}`)):requestAnimationFrame(s)};s()})}function Pe(l,t,e=3e3){return new Promise((o,n)=>{let i=Date.now(),s=()=>{l[t]?o():Date.now()-i>e?n(new Error(`Timeout: ${e}ms. Propery: ${t} not available on element.`)):requestAnimationFrame(s)};s()})}async function z(l){return new Promise(t=>setTimeout(t,l))}function Te(l){document.querySelector(l).classList.add("hidden")}function Me(l){document.querySelector(l).classList.remove("hidden")}function qe(l,t){Te(l),Me(t)}async function Fe(l,t,e=3e3,o=500){await Le([l,t],e),await z(o),qe(l,t)}function Re(l,t,e){try{fetch(l,{method:"GET"}).then(o=>o.text()).then(o=>{t&&t(o)})}catch(o){e&&e(o)}}function Ue(l){if(l){let t={animation:150,draggable:".preview-draggable",onEnd:function(e){let o={e,event:"onEnd",item:e.item,from:e.from,to:e.to,oldIndex:e.oldIndex,newIndex:e.newIndex};wc?.EventHub?.broadcast("sortable:on-end","","",o)}};if(typeof Sortable<"u"){let e=new Sortable(l,t);wc.EventHub.events[l]=e}}}function Je(l){wc?.EventHub?.events[l].destroy()}function Ge(l,t,e,o){let n=2;t=t-n,e=e-n;let i=o.editor,s=i.getValue(),r=new RegExp(`<wc-form[^>]*id=["']${l}["'][^>]*>([\\s\\S]*?)<\\/wc-form>`),a=s.match(r);if(a){let c=a[1],d=/<div[^>]*class=["'][^"']*preview-draggable[^"']*["'][^>]*>[\s\S]*?<\/div>/g,h=c.match(d)||[];if(h.length===0)return;if(t>=0&&t<h.length&&e>=0&&e<h.length){let w=h.splice(t,1)[0];h.splice(e,0,w)}let m=c.replace(d,()=>h.shift()),u=s.replace(c,m);i.setValue(u)}}function Ne(l){let t=-1;return l&&(t=document.querySelectorAll(l).length),t}function Ke(l,t){let e=document.querySelector(l);e&&(t?e.classList.add("htmx-request"):e.classList.remove("htmx-request"))}function Ye(l,t){let o=l.detail.elt.closest("form"),n=o.querySelector(t);if(console.log("-->Attempting to process JSON for selector: ",t,o),n)try{let r=function(a,c=""){for(let d in a)if(Object.prototype.hasOwnProperty.call(a,d)){let h=a[d],m=c?`${c}.${d}`:d;if(h!==null&&typeof h=="object"&&!Array.isArray(h))r(h,m);else if(Array.isArray(h))h.forEach((u,w)=>{if(typeof u=="object"&&u!==null)r(u,`${m}[${w}]`);else{let b=document.createElement("input");b.type="hidden",b.name=`${m}[${w}]`,b.value=u,b.setAttribute("data-json-field","true"),o.appendChild(b),console.log("-->Appending array primitive:",b)}});else{let u=document.createElement("input");u.type="hidden",u.name=m,u.value=h,u.setAttribute("data-json-field","true"),o.appendChild(u),console.log("-->Appending primitive:",u)}}};o.querySelectorAll('input[data-json-field="true"]').forEach(a=>a.remove());let s=JSON.parse(n.value);console.log("-->JSON contents: ",s),r(s,"json_data"),console.log("-->Processing complete for selector: ",t,o)}catch(i){console.error("Error parsing JSON:",i)}}function He(l,t){if(l==null)return!1;if("const"in t)return l===t.const;if("enum"in t)return Array.isArray(t.enum)&&t.enum.includes(l);if("minimum"in t){let e=typeof l=="number"?l:parseFloat(l);if(isNaN(e)||e<t.minimum)return!1}if("maximum"in t){let e=typeof l=="number"?l:parseFloat(l);if(isNaN(e)||e>t.maximum)return!1}if("minLength"in t&&String(l).length<t.minLength||"maxLength"in t&&String(l).length>t.maxLength)return!1;if("pattern"in t){let e=new RegExp(t.pattern);if(typeof l!="string"||!e.test(l))return!1}return!0}function Ie(l,t,e){let o="";if(l?(o=`[data-id="${l}"]`,t&&(o+=` ${t}`)):t&&(o=t),!o)return;let n=document.querySelector(o);if(n)return e&&e in n?n[e]:n.type==="checkbox"?n.checked:n.value}function O(l){let{effect:t,condition:e,tgtDataId:o,tgtSelector:n,tgtProperty:i}=l,{scope:s,schema:r,srcDataId:a,srcSelector:c,srcProperty:d,property:h}=e,m=Ie(a,c,d),u=!1;r&&(u=He(m,r));let w=`[data-id="${o}"]`;n&&(w+=` ${n}`);let b=document.querySelector(w);if(b)switch(t){case"COPY":b[i]=m;break;case"COPY-TOLOWER":b[i]=m.toString().toLowerCase();break;case"COPY-TOLOWER-UNDERSCORE":b[i]=m.toString().toLowerCase().replaceAll(" ","_");break;case"HIDE":b.style.display=u?"none":"";break;case"SHOW":b.style.display=u?"":"none";break;case"DISABLE":b.disabled=u;break;case"ENABLE":b.disabled=!u;break;case"REQUIRE":b.required=!u;break;case"UN-REQUIRE":b.required=u;break;default:console.warn("Unknown rule effect:",t)}}function Ze(l){Array.from(new Set(l.map(e=>e.condition.srcDataId))).forEach(e=>{document.querySelectorAll(`[data-id="${e}"]`).forEach(o=>{let n=Array.from(l).filter(i=>i.condition.srcDataId==e);o.addEventListener("change",()=>{n.forEach(O)}),o.addEventListener("input",()=>{n.forEach(O)})})}),l.forEach(O)}function Xe(l){let t=[];return function e(o){!o||typeof o!="object"||(o.rules&&t.push(...o.rules),Array.isArray(o.elements)&&o.elements.forEach(e))}(l),t}var p=class extends HTMLElement{constructor(){super(),this._wcId=Se(),this.loadCSS=_.bind(this),this.loadScript=A.bind(this),this.loadLibrary=S.bind(this),this.loadStyle=L.bind(this),this.childComponent=null,this.childComponentSelector="",this._pendingAttributes={},this._isConnected=!1,this.componentElement=null,this.formElement=null}get wcId(){return this._wcId}connectedCallback(){this.childComponentSelector?(console.log("connectedCallback:waiting for ",this.childComponentSelector," to be loaded..."),this._waitForChildren(this.childComponentSelector).then(()=>{this._connectedCallback()})):this._connectedCallback()}_connectedCallback(){this._render(),this.dataset.wcId=this.wcId,this.childComponentName?this._waitForChild(()=>this[this.childComponentName]).then(()=>{this._isConnected=!0,this._applyPendingAttributes()}):(this._isConnected=!0,this._applyPendingAttributes())}disconnectedCallback(){}attributeChangedCallback(t,e,o){this._isConnected?this._handleAttributeChange(t,o):this._pendingAttributes[t]=o}_applyPendingAttributes(){Object.keys(this._pendingAttributes).forEach(t=>{let e=this._pendingAttributes[t];this._handleAttributeChange(t,e)}),this._pendingAttributes={}}_handleAttributeChange(t,e){if(t==="name")this._handleNameToIdLinkage(e);else if(t==="elt-class"){let o=this.querySelector("[form-element]");o&&o.setAttribute("class",e)}else t==="class"?e&&e.replace("contents","").split(" ").forEach(i=>{i&&(this.componentElement.classList.add(i),this.classList.remove(i))}):this.componentElement.setAttribute(t,e)}_handleNameToIdLinkage(t){t&&this.formElement&&!this.formElement.hasAttribute("id")&&(this.formElement.setAttribute("id",t),this.formElement.setAttribute("name",t),this.removeAttribute("name"))}_render(){this.classList.add("contents"),console.log("wc-base-component:_render")}async _waitForChild(t){return new Promise(e=>{let o=setInterval(()=>{t()&&(clearInterval(o),e())},50)})}async _waitForChildren(t){let e=Array.from(this.querySelectorAll(t));await Promise.all(e.map(o=>new Promise(n=>{o.isConnected?n():o.addEventListener("connected",n,{once:!0})})))}_applyStyle(){}_wireEvents(){}_unWireEvents(){}};var H=class extends p{static formAssociated=!0;constructor(){super(),this._internals=this.attachInternals(),this._value=""}get value(){return this._isCheckbox()?this.checked:this._value}set value(t){this._isCheckbox()?this.checked=t:(this._value=t,this._internals.setFormValue(this._value))}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get checked(){return this.formElement?.checked||!1}set checked(t){this._isCheckbox()&&(this.formElement.checked=t,this._internals.setFormValue(t?"bool:True":"bool:False"))}get validity(){return this._internals.validity}get validationMessage(){return this._internals.validationMessage}get willValidate(){return this._internals.willValidate}checkValidity(){return this._internals.checkValidity()}reportValidity(){return this._internals.reportValidity()}_handleValidation(){let t="";if(t==="span")if(this.formElement?.validity.valid)this.componentElement.querySelector(".error-message")?.remove();else{let e=document.createElement("span");e.classList.add("error-message"),e.textContent=this.formElement?.validationMessage,this.componentElement.appendChild(e)}else if(t==="tooltip")if(this.formElement?.validity.valid)this.formElement?.removeAttribute("data-error"),this.formElement?.setAttribute("title",this.formElement?.getAttribute("data-has-title")),this.formElement?.removeAttribute("data-has-title");else{let e=this.formElement?.validationMessage;this.formElement?.setAttribute("data-error",e),this.formElement?.setAttribute("data-has-title",this.formElement?.getAttribute("title")||""),this.formElement?.setAttribute("title","")}this._internals.setValidity(this.formElement?.validity,this.formElement?.validationMessage)}connectedCallback(){super.connectedCallback(),this.formElement=this.querySelector("input, select, textarea"),this._wireEvents()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="value"?this._isCheckbox()?this.checked=e!==null&&e!=="false"&&e!=="bool:False":(this.formElement&&(this.formElement?.setAttribute("value",e),"value"in this.formElement&&(this.formElement.value=e)),this.value=e):super._handleAttributeChange(t,e)}_handleInputChange(t){let{target:e}=t;if(this._isCheckbox()?(e.checked?this.formElement.value="bool:True":this.formElement.value="bool:False",this.checked=e.checked):this.value=e.value,this._isRange()){let o=this.querySelector("label"),n=this.getAttribute("lbl-label")||"";o&&n&&(o.textContent=`${n} (${e.value})`)}this._handleValidation()}_isCheckbox(){return this.formElement?.type==="checkbox"}_isRange(){return this.formElement?.type==="range"}_wireEvents(){super._wireEvents(),this.formElement&&(this.formElement.addEventListener("input",this._handleInputChange.bind(this)),this.formElement.addEventListener("change",this._handleInputChange.bind(this)))}_unWireEvents(){super._unWireEvents(),this.formElement&&(this.formElement.removeEventListener("input",this._handleInputChange.bind(this)),this.formElement.removeEventListener("change",this._handleInputChange.bind(this)))}};var P=class extends p{static get observedAttributes(){return["id","class","items","allow-many"]}constructor(){super(),this._items=[];let t=this.querySelector(".wc-accordion");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-accordion"),this.appendChild(this.componentElement)),console.log("ctor:wc-accordion")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-accordion")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):t==="allow-many"||super._handleAttributeChange(t,e)}_render(){super._render();let t=this.querySelectorAll(".wc-accordion > *");t.length>0?(this.componentElement.innerHTML="",t.forEach(e=>this.componentElement.appendChild(e))):(this._moveDeclarativeOptions(),this.componentElement.innerHTML="",this._items.forEach(e=>{let o=this._createHeader(e.label,e.selected);this.componentElement.appendChild(o);let n=this._createPanel(e.content);this.componentElement.appendChild(n)})),this._setActive(),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-accordion")}_createHeader(t,e){let o=this.hasAttribute("allow-many"),n=document.createElement("button");return n.classList.add("accordion-header"),o?n.setAttribute("_",`on click
        toggle .active on me
        set panel to me.nextElementSibling
        if panel.style.maxHeight then
          set panel.style.maxHeight to null
        else
          set panel.style.maxHeight to panel.scrollHeight + 'px'
        end
      `):n.setAttribute("_",`on click
        set hdrs to .accordion-header in my parentElement
        repeat for x in hdrs
          if x is not me then
            remove .active from x
            set panel to x.nextElementSibling
            set panel.style.maxHeight to null
          end
        end
        toggle .active on me
        set panel to me.nextElementSibling
        if panel.style.maxHeight then
          set panel.style.maxHeight to null
        else
          set panel.style.maxHeight to panel.scrollHeight + 'px'
        end
      `),e&&n.classList.add("active"),n.textContent=t,n}_createPanel(t){let e=document.createElement("div");e.classList.add("accordion-panel");let o=document.createElement("p");return o.innerHTML=t,e.appendChild(o),e}_moveDeclarativeOptions(){let t=this.querySelectorAll("option");t.length>0&&(this._items=[]),t.forEach(e=>{let o={label:e.value,content:e.innerHTML.trim(),selected:e.hasAttribute("selected")||!1};this._items.push(o)}),Array.from(t).forEach(e=>e.remove())}_setActive(){setTimeout(()=>{this.querySelectorAll(".wc-accordion .accordion-header").forEach(e=>{if(e.classList.contains("active")){let o=e.nextElementSibling;o.style.maxHeight=o.scrollHeight+"px"}})},10)}_applyStyle(){let t=`
      wc-accordion {
        display: contents;
      }

      .wc-accordion .accordion-header {
        background-color: var(--button-bg-color);
        color: var(--button-color);
        cursor: pointer;
        padding: 18px;
        width: 100%;
        border: none;
        border-radius: 0;
        text-align: left;
        outline: none;
        font-size: 15px;
        transition: 0.4s;
      }

      .wc-accordion .active,
      .wc-accordion .accordion-header:hover {
        background-color: var(--button-hover-bg-color);
        color: var(--button-hover-color);
      }

      .wc-accordion .accordion-header:after {
        content: '+';
        color: var(--primary-color);
        font-weight: bold;
        float: right;
        margin-left: 5px;
        font-size: 18px;
        line-height: 1;
        text-align: center;
        width: 20px;
        height: 20px;
      }

      .wc-accordion .active:after {
        content: '-';
        color: var(--primary-color);
        font-size: 20px;
      }

      .wc-accordion .accordion-panel {
        padding: 0 18px;
        background-color: var(--component-bg-color);
        color: var(--component-color);
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
      }
    `.trim();this.loadStyle("wc-accordion-style",t)}_handleHelper(t,e="open"){let{detail:o}=t,{selector:n,subSelector:i}=o,s=i||".accordion-header",r=Array.isArray(n);typeof n=="string"||r?document.querySelectorAll(n).forEach(c=>{if(c===this){let d=c?.querySelector(s);e==="open"?d?.classList.contains("active")||d?.click():e==="close"?d?.classList.contains("active")&&d?.click():e==="toggle"&&d?.click()}}):n?.querySelector(s)?.click()}_handleOpen(t){this._handleHelper(t,"open")}_handleClose(t){this._handleHelper(t,"close")}_handleToggle(t){this._handleHelper(t,"toggle")}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-accordion:open",this._handleOpen.bind(this)),document.body.addEventListener("wc-accordion:close",this._handleClose.bind(this)),document.body.addEventListener("wc-accordion:toggle",this._handleToggle.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-accordion:open",this._handleOpen.bind(this)),document.body.removeEventListener("wc-accordion:close",this._handleClose.bind(this)),document.body.removeEventListener("wc-accordion:toggle",this._handleToggle.bind(this))}};customElements.define("wc-accordion",P);if(!customElements.get("wc-article-card")){class l extends p{static get observedAttributes(){return["id","class","url","img-url","article-type"]}constructor(){super(),this.imgUrl="",this.articleTypes={news:"https://images.pexels.com/photos/1755683/pexels-photo-1755683.jpeg?auto=compress&cs=tinysrgb&w=768",css:"https://miro.medium.com/v2/da:true/resize:fit:768/0*1YrO9YLbwHnzExsO",technology:"https://images.pexels.com/photos/2653362/pexels-photo-2653362.jpeg?auto=compress&cs=tinysrgb&w=768",programming:"https://images.pexels.com/photos/6424591/pexels-photo-6424591.jpeg?auto=compress&cs=tinysrgb&w=768"},this.articleData=null,this.articleType="news";let e=this.querySelector(".wc-article-card");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-article-card"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this.getAttribute("url")&&this.fetchArticleData(this.getAttribute("url")),await this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,o){e==="url"||(e==="img-url"?this.imgUrl=o:e==="article-type"?this.imgUrl=this.articleTypes[o]||this.articleTypes.news:super._handleAttributeChange(e,o))}async fetchArticleData(e){try{let o=await fetch(`/api/article-metadata?url=${encodeURIComponent(e)}`);this.articleData=await o.json(),this._createElement()}catch(o){console.error("Error fetching article data:",o)}}_createElement(){if(!this.articleData)return;let e=this.getAttribute("url"),{title:o,description:n,imageUrl:i,publishDate:s,domain:r}=this.articleData;this.imgUrl&&(i=this.imgUrl),this.componentElement.innerHTML=`
        <div class="article-card-image">
          <img src="${i||""}" alt="${o}">
        </div>
        <div class="article-card-content">
          <a class="article-card-title" href="${e}" target="_blank">${o}</a>
          <p class="article-card-description">${n}</p>
          <div class="article-card-meta">
            <span class="article-card-domain">${r}</span>
            <span class="article-card-date">${new Date(s).toLocaleDateString()}</span>
          </div>
        </div>
      `.trim()}_applyStyle(){let e=`
        wc-article-card {
          display: contents;
        }
        .articles-container {
          max-width: 1200px;
          margin: 0 auto;
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 20px;
          padding: 20px;
        }
        .wc-article-card {
          background-color: var(--primary-bg-color);
          color: var(--primary-color);
          box-shadow: var(--card-shadow);
          overflow: hidden;
          transition: transform 0.2s, box-shadow 0.2s;
        }
        .wc-article-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        .wc-article-card .article-card-image {
          width: 100%;
          height: 200px;
          object-fit: cover;
          background: #e5e7eb;
        }
        .wc-article-card .article-card-content {
          padding: 16px;
        }
        .wc-article-card .article-card-title {
          margin: 0 0 8px 0;
          font-size: 1.25rem;
          color: var(--swatch-1);
          text-decoration: none;
        }
        .wc-article-card a.article-card-title:hover {
          text-shadow: var(--swatch-3) 1px 0 10px;
        }
        .wc-article-card .article-card-description {
          margin: 0 0 16px 0;
          font-size: 0.875rem;
          line-height: 1.5;
          color: var(--swatch-2);
        }
        .wc-article-card .article-card-meta {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.75rem;
          color: var(--swatch-3);
        }
        .wc-article-card .article-card-source {
          font-weight: 500;
        }
      `.trim();this.loadStyle("wc-article-card",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-article-card",l)}var F=class extends p{static get observedAttributes(){return["id","class","caption","img-url","min-height"]}constructor(){super();let t=this.querySelector(".wc-background-image");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-background-image"),this.appendChild(this.componentElement)),console.log("ctor:wc-background-image")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-background-image")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):t==="caption"||t==="img-url"||t==="min-height"||super._handleAttributeChange(t,e)}_render(){super._render();let t=this.querySelectorAll(".wc-background-image > *");if(t.length>0)this.componentElement.innerHTML="",t.forEach(e=>this.componentElement.appendChild(e));else{this.componentElement.innerHTML="";let e=this.getAttribute("img-url")||"",o=this.getAttribute("min-height")||"100%";this.componentElement.style.backgroundImage=`url("${e}")`,this.componentElement.style.minHeight=o;let n=this._createElement();this.componentElement.appendChild(n)}typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-background-image")}_createElement(){let t=this.getAttribute("caption")||"",e=document.createElement("div");e.classList.add("caption");let o=document.createElement("span");return o.classList.add("border"),o.textContent=t,e.appendChild(o),e}_applyStyle(){let t=`
      wc-background-image {
        display: contents;
      }
      .wc-background-image {
        position: relative;
        opacity: 0.65;
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
      }
      .wc-background-image .caption {
        position: absolute;
        left: 0;
        top: 50%;
        width: 100%;
        text-align: center;
        color: #000;
      }
      .wc-background-image .caption span.border {
        background-color: #111;
        color: #fff;
        padding: 18px;
        font-size: 25px;
        letter-spacing: 10px;
      }
      /* Turn off parallax scrolling for tablets and phones */
      /* @media only screen and (max-device-width: 1024px) { */
      @media (max-device-width: 768px) {
        .wc-background-image {
          background-attachment: scroll;
        }
      }      
    `.trim();this.loadStyle("wc-background-image-style",t)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-background-image",F);if(!customElements.get("wc-breadcrumb-item")){class l extends p{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-breadcrumb-item")}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,o){e==="items"||super._handleAttributeChange(e,o)}_createElement(){this.componentElement.id="breadcrumb-item",this.componentElement.className="wc-breadcrumb-item flex flex-row px-2 gap-4",this.componentElement.innerHTML=`
        <a href="/v/home"
           hx-get="/v/home"
           hx-target="#viewport"
           hx-swap="innerHTML transition:true"
           hx-push-url="true"
           hx-indicator="#content-loader">
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <a href="/v/screen_list/list"
          hx-get="/v/screen_list/list"
          hx-target="#viewport"
          hx-swap="innerHTML transition:true"
          hx-push-url="true"
          hx-indicator="#content-loader">
          Screens
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <span>
          screen
        </span>
      `.trim()}_applyStyle(){let e=`
      wc-breadcrumb-item {
        display: contents;
      }
      wc-breadcrumb-item .wc-breadcrumb-item {
        /* background-color: var(--surface-1); */
      }
      `.trim()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-breadcrumb-item",l)}if(!customElements.get("wc-breadcrumb")){class l extends p{static get observedAttributes(){return["id","class","doc-title"]}constructor(){super();let e=this.querySelector(".wc-breadcrumb");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement)),setTimeout(()=>{let o=[],n=this.getAttribute("doc-title")||"",i=this.querySelectorAll("wc-breadcrumb-item");Array.from(i).forEach(r=>{let a=r.getAttribute("label");a&&o.push(a)});let s=o.join(" > ");s&&(n?document.title=s+" - "+n:document.title=s)},250)}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,o){e==="items"||super._handleAttributeChange(e,o)}_getBreadcrumbItems(){let e=[{label:"",link:"/v/home"},{label:"Screens",link:"/v/screen_list/list"},{label:"screen",link:""}],o=[],n=this.querySelectorAll("wc-breadcrumb-item");return Array.from(n).forEach(i=>{let s=i.getAttribute("label")||"",r=i.getAttribute("link")||"";o.push({label:s,link:r})}),o}_createElement(){let e=[],o=this._getBreadcrumbItems();o.forEach((i,s)=>{s==0?e.push(`
            <a href="${i.link}"
              hx-get="${i.link}"
              hx-target="#viewport"
              hx-swap="innerHTML transition:true"
              hx-push-url="true"
              hx-indicator="#content-loader">
              <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
              </svg>
            </a>            
          `):o.length-1==s?e.push(`
            <span id="title-content">
              ${i.label}
            </span>            
          `):e.push(`
            <a href="${i.link}"
              hx-get="${i.link}"
              hx-target="#viewport"
              hx-swap="innerHTML transition:true"
              hx-push-url="true"
              hx-indicator="#content-loader">
              ${i.label}
            </a>
          `)});let n=e.join(`
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
      `);this.componentElement.id="breadcrumb",this.componentElement.className="wc-breadcrumb flex flex-row px-2 gap-3",this.componentElement.innerHTML=n,this.componentElement.innerHTML2=`
        <a href="/v/home"
           hx-get="/v/home"
           hx-target="#viewport"
           hx-swap="innerHTML transition:true"
           hx-push-url="true"
           hx-indicator="#content-loader">
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <a href="/v/screen_list/list"
          hx-get="/v/screen_list/list"
          hx-target="#viewport"
          hx-swap="innerHTML transition:true"
          hx-push-url="true"
          hx-indicator="#content-loader">
          Screens
        </a>
        <span>
          <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
        </span>
        <span>
          screen
        </span>
      `.trim()}_applyStyle(){let e=`
      wc-breadcrumb {
        display: contents;
      }
      wc-breadcrumb .wc-breadcrumb {
        /* background-color: var(--surface-1); */
      }
      `.trim()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-breadcrumb",l)}if(!customElements.get("wc-canvas-dot-highlight")){class l extends p{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-canvas-dot-highlight");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-canvas-dot-highlight"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._wireEvents(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,o){e==="items"||super._handleAttributeChange(e,o)}_createElement(){let e=Array.from(this.children).filter(n=>!n.matches("wc-canvas-dot-highlight")&&!n.matches(".wc-canvas-dot-highlight")),o=document.createElement("canvas");o.id="dotCanvas",this.componentElement.appendChild(o),e.forEach(n=>this.componentElement.appendChild(n))}_applyStyle(){let e=`
        wc-canvas-dot-highlight {
          display: contents;
        }
        .wc-canvas-dot-highlight {
          position: relative;
        }
        .wc-canvas-dot-highlight canvas {
          border-radius: 8px;
          border: 1px solid gray;
          border-radius: 10px;
          background-color: #111;
        }
      `.trim();this.loadStyle("wc-canvas-dot-highlight",e)}_wireEvents(){let e=this.componentElement.querySelector("#dotCanvas"),o=e.getContext("2d");e.width=window.innerWidth*.95,e.height=window.innerHeight*.95;let n={dotSpacing:20,dotRadius:1.25,highlightRadius:160,defaultColor:"#444",highlightColor:"#40E0D0",backgroundColor:"#111111",animationSpeed:.15},i=Math.floor(e.width/n.dotSpacing),s=Math.floor(e.height/n.dotSpacing),r=e.width/2,a=e.height/2,c=e.width/2,d=e.height/2,h=!1,m=0,u=0;e.addEventListener("mousemove",b=>{let y=e.getBoundingClientRect();r=b.clientX-y.left,a=b.clientY-y.top,h&&(m=r,u=a)}),e.addEventListener("mouseenter",b=>{h=!0;let y=e.getBoundingClientRect();r=b.clientX-y.left,a=b.clientY-y.top,m=r,u=a}),e.addEventListener("mouseleave",()=>{h=!1,m=0,u=0});function w(){o.fillStyle=n.backgroundColor,o.fillRect(0,0,e.width,e.height),c+=(m-c)*n.animationSpeed,d+=(u-d)*n.animationSpeed;for(let E=0;E<i;E++)for(let x=0;x<s;x++){let k=(E+.5)*n.dotSpacing,C=(x+.5)*n.dotSpacing;o.fillStyle=n.defaultColor,o.beginPath(),o.arc(k,C,n.dotRadius,0,Math.PI*2),o.fill()}let y=Math.sqrt(Math.pow(c-m,2)+Math.pow(d-u,2))<1;if(!h)return requestAnimationFrame(w);for(let E=0;E<i;E++)for(let x=0;x<s;x++){let k=(E+.5)*n.dotSpacing,C=(x+.5)*n.dotSpacing,T=k-c,M=C-d,q=Math.sqrt(T*T+M*M);if(q<n.highlightRadius){let I=Math.pow(1-q/n.highlightRadius,2),W=h?1:Math.max(0,1-(y?1:0));o.fillStyle=n.highlightColor,o.globalAlpha=I*W,o.beginPath(),o.arc(k,C,n.dotRadius,0,Math.PI*2),o.fill()}}o.globalAlpha=1,requestAnimationFrame(w)}window.addEventListener("resize",()=>{e.width=window.innerWidth*.95,e.height=window.innerHeight*.95,h||(m=e.width/2,u=e.height/2)}),w()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-canvas-dot-highlight",l)}if(!customElements.get("wc-code-mirror")){class l extends p{static get observedAttributes(){return["id","class","height","theme","mode","lbl-label","lbl-class","line-numbers","line-wrapping","fold-gutter","tab-size","indent-unit","value","disabled","required"]}constructor(){super(),this.childComponentName="editor",this._isResizing=!1,this._internals=this.attachInternals(),this.firstContent="",this.innerHTML.trim()!=""?(this.firstContent=this.innerHTML.replaceAll("=&gt;","=>"),this.innerHTML=""):this.firstChild&&this.firstChild.nodeName=="#text"&&(this.firstContent=this.firstChild.textContent,this.removeChild(this.firstChild));let e=this.querySelector(".wc-code-mirror");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-code-mirror"),this.appendChild(this.componentElement)),console.log("ctor:wc-code-mirror")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("conntectedCallback:wc-code-mirror")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}async _handleAttributeChange(e,o){if(e==="lbl-class"){let n=this.getAttribute("name");this.querySelector(`label[for="${n}"]`)?.classList.add(o)}else if(e==="theme")await this.loadTheme(o);else if(e==="mode")await this.loadMode(o);else if(e==="height")o&&this.editor.setSize(null,o);else if(e==="line-numbers"){o||o==""?this.editor.setOption("lineNumbers",!0):this.editor.setOption("lineNumbers",!1);let n=await this.getGutters();this.editor.setOption("gutters",n)}else if(e==="line-wrapping")o||o==""?this.editor.setOption("lineWrapping",!0):this.editor.setOption("lineWrapping",!1);else if(e==="fold-gutter"){o||o==""?this.editor.setOption("foldGutter",!0):this.editor.setOption("foldGutter",!1);let n=await this.getGutters();this.editor.setOption("gutters",n)}else e==="tab-size"?this.editor.setOption("tabSize",parseInt(o,10)):e==="indent-unit"?this.editor.setOption("indentUnit",parseInt(o,10)):e==="value"?this.editor.setValue(o):e==="disabled"?this.hasAttribute("disabled")?this.editor.setOption("readOnly","nocursor"):this.editor.setOption("readOnly",!1):super._handleAttributeChange(e,o)}_render(){super._render(),this.querySelector(".wc-code-mirror > *")?this.querySelector(".settings-icon").addEventListener("click",this._handleSettingsIconClick.bind(this)):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-code-mirror")}async _createInnerElement(){let e=this.getAttribute("lbl-label")||"",o=this.getAttribute("name")||"";if(!o)throw new Error("Name attribute must be provided.");if(e){let r=document.createElement("label"),a=this.getAttribute("value")||"";r.textContent=e,r.setAttribute("for",o),this.componentElement.appendChild(r)}this.editor=null,this.popoverId=`settings-popover-${this.getAttribute("name")||"wc-code-mirror"}`;let n=document.createElement("button");n.type="button",n.innerHTML=`
        <svg class="h-3 w-3" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512">
          <path d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/>
        </svg>
      `.trim(),n.className="settings-icon",n.setAttribute("popovertarget",this.popoverId),n.addEventListener("click",this._handleSettingsIconClick.bind(this)),this.componentElement.appendChild(n);let i=document.createElement("div");i.classList.add("settings-popover"),i.id=this.popoverId,i.setAttribute("popover","manual"),this.componentElement.appendChild(i);let s=this.getAttribute("value")||this.firstContent||"";await Promise.all([this.loadCSS("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css"),this.loadLibrary("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js","CodeMirror")]),await this.renderEditor(s),this._internals.setFormValue(s)}_handleSettingsIconClick(e){let o=this.querySelector(".settings-popover");this._buildSettingsPopover(o)}_buildSettingsPopover(e){let o=this.hasAttribute("line-numbers"),n=this.hasAttribute("line-wrapper"),i=this.hasAttribute("fold-gutter"),s=["apl","asciiarmor","asn.1","asterisk","brainfuck","clike","clojure","cmake","cobol","coffeescript","commonlisp","crystal","css","cypher","d","dart","diff","django","dockerfile","dtd","dylan","ebnf","ecl","eiffel","elm","erlang","factor","fcl","forth","fortran","gas","gfm","gherkin","go","groovy","haml","handlebars","haskell","haxe","htmlembedded","htmlmixed","http","idl","javascript","jinja2","julia","kotlin","litespec","livescript","lua","markdown","mathematica","mbox","mirc","mllike","modelica","mscgen","mumps","nginx","nsis","ntriples","octave","oz","pascal","perl","php","pig","powershell","properties","protobuf","pug","puppet","python","q","r","rpm","rst","ruby","rust","sas","sass","scheme","shell","sieve","slim","smalltalk","smarty","solr","soy","sparql","spreadsheet","sql","stex","stylus","swift","tcl","textile","tiddlywiki","tiki","toml","tornado","troff","ttcn","ttcn-cfg","turtle","twig","vb","vbscript","velocity","verilog","vhdl","vue","xml","xquery","yaml","yaml-frontmatter","z80"],r=["3024-day","3024-night","abcdef","ambiance","ayu-dark","ayu-mirage","base16-dark","base16-light","bespin","blackboard","cobalt","colorforth","default","darcula","dracula","duotone-dark","duotone-light","eclipse","elegant","erlang-dark","gruvbox-dark","hopscotch","icecoder","idea","isotope","lesser-dark","liquibyte","lucario","material","material-darker","material-palenight","material-ocean","mbo","mdn-like","midnight","monokai","moxer","neat","neo","night","nord","oceanic-next","panda-syntax","paraiso-dark","paraiso-light","pastel-on-dark","railscasts","rubyblue","seti","shadowfox","solarized","ssms","the-matrix","tomorrow-night-bright","tomorrow-night-eighties","ttcn","twilight","vibrant-ink","xq-dark","xq-light","yeti","yonce","zenburn"];e.innerHTML=`
        <div id="popover-form" class="popover-form col gap-3">
          <button id="closeButton" class="close-btn" type="button"
            popovertarget="${this.popoverId}" popovertargetaction="hide"
            >
            <span aria-hidden="true">X</span>
            <span class="sr-only">Close</span>
          </button>
          <div class="row gap-2">
            <wc-select class="col-1" name="theme-select" lbl-label="Theme" autofocus elt-class="w-full">
              ${r.map(a=>`<option value="${a}" ${a==this.getAttribute("theme")?"selected":""}>${a}</option>`).join("")}
            </wc-select>
            <wc-select class="col-1" name="mode-select" lbl-label="Mode" elt-class="w-full">
              ${s.map(a=>`<option value="${a}" ${a==this.getAttribute("mode")?"selected":""}>${a}</option>`).join("")}
            </wc-select>
          </div>
          <div class="row gap-2">
            <wc-input class="col-1" name="line-numbers" lbl-label="Line Numbers" ${o?"checked ":""}type="checkbox"></wc-input>
            <wc-input class="col-1" name="line-wrapper" lbl-label="Line Wrapper" ${n?"checked ":""}type="checkbox"></wc-input>
            <wc-input class="col-1" name="fold-gutter" lbl-label="Fold Gutter" ${i?"checked ":""}type="checkbox"></wc-input>
          </div>
          <div class="row gap-2">
            <wc-input class="col-1" name="tab-size" lbl-label="Tab Size" value="${this.getAttribute("tab-size")}" type="number"></wc-input>
            <wc-input class="col-1" name="indent-unit" lbl-label="Indent Unit" value="${this.getAttribute("indent-unit")}" type="number"></wc-input>
          </div>
          <div class="row gap-2 justify-end gap-x-4">
            <button class="" id="apply-settings" type="submit">
              Apply
            </button>
            <button class="btn-clear" id="cancel-settings" type="button">
              Cancel
            </button>
          </div>
        </div>
      `,e.querySelector("#closeButton").addEventListener("click",this._handleSettingsClose.bind(this),{once:!0}),e.querySelector("#apply-settings").addEventListener("click",this._handleSettingsApply.bind(this),{once:!0}),e.querySelector("#cancel-settings").addEventListener("click",this._handleSettingsClose.bind(this),{once:!0})}_handleSettingsApply(e){let o=this.querySelector(".settings-popover"),n=o.querySelector("#closeButton"),i=o.querySelector("#theme-select").value,s=o.querySelector("#mode-select").value,r=o.querySelector("#line-numbers").checked,a=o.querySelector("#line-wrapper").checked,c=o.querySelector("#fold-gutter").checked,d=o.querySelector("#tab-size").value,h=o.querySelector("#indent-unit").value;this.setAttribute("theme",i),this.setAttribute("mode",s),r?this.setAttribute("line-numbers",""):this.removeAttribute("line-numbers"),a?this.setAttribute("line-wrapper",""):this.removeAttribute("line-wrapper"),c?this.setAttribute("fold-gutter",""):this.removeAttribute("fold-gutter"),this.setAttribute("tab-size",d),this.setAttribute("indent-unit",h),this._handleSettingsClose(e)}_handleSettingsClose(e){e.preventDefault();let o=this.querySelector(".settings-popover");for(o.togglePopover();o.firstChild;)o.removeChild(o.firstChild)}get value(){return this.editor?.getValue()||""}set value(e){this.editor&&(this.editor.setValue(e),this._internals.setFormValue(e))}_applyStyle(){let e=`
        /* Container using flex or grid layout */
        .editor-container-flex {
          display: flex;
          gap: 10px;
          height: calc(100vh - 60px); /* Adjust for the header height */
          width: 100%;
          flex-wrap: wrap;
        }

        .editor-container-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 10px;
          height: calc(100vh - 60px); /* Adjust for the header height */
          width: 100%;
        }

        
        wc-code-mirror {
          display: contents;
        }

        /* Ensure that each editor fills its container */
        .wc-code-mirror {
          position: relative;
          width: 100%;
          display: flex;
          flex-direction: column;
          border: 2px solid transparent;

          overflow: hidden;
          resize: vertical;
    
          min-height: 10em;        
        }
        .wc-code-mirror:focus-within {
          /* border: 2px solid var(--primary-bg-color); */
        }

        .CodeMirror {
          height: auto;
          min-height: 150px;
          width: 100%;
          box-sizing: border-box; /* Avoid overflow caused by padding or borders */
          overflow: auto; /* Scroll within the editor */
        }
        
        .settings-icon {
          background: none;
          border: none;
          position: absolute;
          top: 2px;
          right: 5px;
          padding: 0;
          cursor: pointer;
          color: gray;
          font-size: 1.5em;
          z-index: 1;
        }
        
        .wc-code-mirror > label ~ .settings-icon {
          top: 22px;
        }

        .settings-popover {
          background: transparent;
          position: absolute;
          left: 0;
          right: 0;
          padding: 0;
          margin: 0 auto;
          height: 100%;
          width: 100%;
          border: none;
          display: flex;
          justify-items: center;
          align-items: center;
        }


        .settings-popover::backdrop {
          background: rgb(190 190 190 / 50%);
        }


        #popover-form {
          position: relative;
          padding: 20px;
          margin: 0 auto;
          border-radius: 5px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .close-btn {
          color: gray;
          border: none;
          background: none;
          position: absolute;
          right: 0.5rem;
          top: 0.5rem;
          padding: 0;
          cursor: pointer;
        }

        .sr-only:not(:focus):not(:active) {
          clip: rect(0 0 0 0); 
          clip-path: inset(50%);
          height: 1px;
          overflow: hidden;
          position: absolute;
          white-space: nowrap; 
          width: 1px;
        }

        /* JavaScript highlighting in web components */
        .cm-js-keyword { color: #66d9ef !important; }
        .cm-js-variable { color: #f8f8f2 !important; }
        .cm-js-def { color: #fd971f !important; }
        .cm-js-operator { color: #f92672 !important; }
        .cm-js-string { color: #e6db74 !important; }
        .cm-js-number { color: #ae81ff !important; }
        .cm-js-comment { color: #75715e !important; }
        .cm-js-property { color: #a6e22e !important; }
        .cm-js-atom { color: #ae81ff !important; }
      `.trim();this.loadStyle("wc-code-mirror-style",e)}async renderEditor(e){await Promise.all([this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/search/searchcursor.min.js"),this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/keymap/sublime.min.js"),this.loadScript("https://cdn.jsdelivr.net/npm/cm-show-invisibles@3.1.0/lib/show-invisibles.min.js")]);let o=await this.getGutters();this.editor=CodeMirror(this.componentElement,{mode:this.getAttribute("mode")||"javascript",theme:this.getAttribute("theme")||"default",lineNumbers:this.hasAttribute("line-numbers"),lineWrapper:this.hasAttribute("line-wrapper"),foldGutter:this.hasAttribute("fold-gutter"),gutters:o,extraKeys:{"Ctrl-Q":function(n){n.foldCode(n.getCursor())},Tab:n=>{if(n.somethingSelected())n.indentSelection("add");else{var i=Array(n.getOption("indentUnit")+1).join(" ");n.replaceSelection(i)}}},value:e,tabSize:parseInt(this.getAttribute("tab-size"),10)||4,indentUnit:parseInt(this.getAttribute("indent-unit"),10)||2,matchBrackets:!0,keyMap:"sublime",showInvisibles:!0}),await this.loadAssets(this.getAttribute("theme"),this.getAttribute("mode")),this.addWebComponentsJsHighlighting(),this.editor.on("change",async()=>{let n=this.editor.getValue();this._internals.setFormValue(n);let i=await this.getGutters();this.editor.setOption("gutters",i)})}static get formAssociated(){return!0}formResetCallback(){this.editor.setValue("")}formStateRestoreCallback(e){e&&this.editor.setValue(e)}formDisabledCallback(e){this.editor&&this.editor.setOption("readOnly",e)}async refresh(e=500){await z(e),this.editor.refresh(),this.editor.focus()}async getGutters(){this.hasAttribute("fold-gutter")&&(await this.loadCSS("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/foldgutter.min.css"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/foldcode.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/foldgutter.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/brace-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/comment-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/indent-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/fold/xml-fold.min.js"),await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/matchbrackets.min.js"));let e=[],o=this.hasAttribute("line-numbers"),n=this.hasAttribute("fold-gutter");return o&&n?e=["CodeMirror-linenumbers","CodeMirror-foldgutter"]:n&&(e=["CodeMirror-foldgutter"]),e}async loadAssets(e,o){e&&e!=="default"&&await this.loadTheme(e),o&&await this.loadMode(o)}async loadTheme(e){if(!e||e==="default")return;let o=`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/${e}.min.css`;document.querySelector(`link[href="${o}"]`)||await this.loadCSS(o),this.editor.setOption("theme",e)}async loadMode(e){let n={htmlmixed:["xml","css","javascript"],php:["htmlmixed","xml","css","javascript"],htmlembedded:["xml","javascript"],markdown:["htmlmixed","xml","css","javascript"]}[e];if(n&&n.length>0)for(let s of n)await this.loadScript(`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/${s}/${s}.min.js`);if(e==="litespec"){CodeMirror.registerHelper("fold","litespec",function(c,d){var h=d.line,m=c.getLine(h),u=m.indexOf("{");if(u===-1)return;var w=c.getTokenTypeAt(CodeMirror.Pos(h,u+1));if(w!=="brace")return;var b=c.findMatchingBracket(CodeMirror.Pos(h,u+1));return!b||!b.match||b.to===null?void 0:{from:CodeMirror.Pos(h,u+1),to:b.to}}),this.editor.setOption("foldOptions",{widget:"\u2194"});let r={litespec:["simple"]}[e];if(r&&r.length>0)for(let c of r)await this.loadScript(`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/mode/${c}.min.js`);if(["litespec"].includes(e)){await this.loadScript("https://mattduffield.github.io/lite-spec/dist/highlighters/litespec.mode.cm.js"),this.editor.setOption("mode",e);return}}let i=`https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/${e}/${e}.min.js`;document.querySelector(`script[src="${i}"]`)||await this.loadScript(i),this.editor.setOption("mode",e),["htmlmixed","php","markdown","htmlembedded"].includes(e)&&setTimeout(()=>{this.addWebComponentsJsHighlighting()},100)}_unWireEvents(){super._unWireEvents(),this.querySelector(".settings-icon").removeEventListener("click",this._handleSettingsIconClick.bind(this))}addWebComponentsJsHighlighting(){console.log("Adding JS highlighting to web components");let e=()=>{console.log("Applying highlighting to editor content");let o=this.editor.getValue().split(`
`),n=!1,i="",s=[],r=-1,a=-1;for(let c=0;c<o.length;c++){let d=o[c].trim();if(n){if(d.match(new RegExp(`</${i}>`))){if(a=c,n=!1,console.log(`Found closing tag at line ${c}: ${i}`),r!==-1&&a!==-1){let m=o.slice(r+1,a).join(`
`);console.log(`Processing JS content between lines ${r+1} and ${a}`),this.highlightJavaScript(m,r+1,a)}r=-1,a=-1,i=""}}else{let h=d.match(/<(wc-[a-zA-Z0-9-]+)(?:\s|>)/i);h&&(i=h[1],n=!0,r=c,console.log(`Found opening tag at line ${c}: ${i}`))}}};setTimeout(()=>{e(),this.editor.on("change",()=>{clearTimeout(this._highlightTimeout),this._highlightTimeout=setTimeout(()=>{e()},500)}),console.log("Added change listener for highlighting")},100)}highlightJavaScript(e,o,n){console.log("Highlighting JavaScript content");let i=this.editor.getDoc();i.findMarks({line:o,ch:0},{line:n,ch:0}).forEach(c=>c.clear());let r=e.split(`
`),a=[{pattern:/\b(function|var|let|const|return|if|else|endif|for|endfor|while|switch|case|break|continue|this|new|typeof|instanceof|class|async|await|in)\b/g,className:"cm-js-keyword"},{pattern:/\b(true|false|null|undefined)\b/g,className:"cm-js-atom"},{pattern:/\b\d+(\.\d+)?\b/g,className:"cm-js-number"},{pattern:/(["'`])(?:[^\\]|\\.)*?\1/g,className:"cm-js-string"},{pattern:/[+\-*/%=&|^<>!?:;,.]/g,className:"cm-js-operator"},{pattern:/=>/g,className:"cm-js-keyword"},{pattern:/\b\.[A-Za-z]+/g,className:"cm-js-property"}];r.forEach((c,d)=>{i.markText({line:o+d,ch:0},{line:o+d,ch:c.length},{className:"cm-wc-content"}),a.forEach(({pattern:h,className:m})=>{let u;for(h.lastIndex=0;(u=h.exec(c))!==null;){let w=u.index,b=w+u[0].length;i.markText({line:o+d,ch:w},{line:o+d,ch:b},{className:m})}})})}}customElements.define("wc-code-mirror",l)}var R=class extends p{static get observedAttributes(){return["id","class","gender","contact-name","contact-title"]}constructor(){super();let t=this.querySelector(".wc-contact-card");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-contact-card"),this.appendChild(this.componentElement)),console.log("ctor:wc-contact-card")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-contact-card")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){if(t=="gender"){let o=this.querySelector("img");e=="male"?o.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"):o.setAttribute("src","https://www.w3schools.com/howto/img_avatar2.png")}else if(t=="contact-name"){let o=this.querySelector("div.contact-card-name");o.innerHTML=e}else if(t=="contact-title"){let o=this.querySelector("div.contact-card-title");o.innerHTML=e}else super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-contact-card > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-contact-card")}_createInnerElement(){Array.from(this.children).filter(s=>!s.matches("wc-contact-card")&&!s.matches(".wc-contact-card")).forEach(s=>this.componentElement.appendChild(s));let e=document.createElement("img");e.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"),e.setAttribute("alt","Person"),e.setAttribute("width","100%");let o=document.createElement("div");o.classList.add("contact-card-container");let n=document.createElement("div");n.classList.add("contact-card-name","text-2xl","font-bold"),n.innerHTML="John Doe";let i=document.createElement("div");i.classList.add("contact-card-title","text-lg"),i.innerHTML="Boss",o.appendChild(n),o.appendChild(i),this.componentElement.appendChild(e),this.componentElement.appendChild(o)}_applyStyle(){this.loadStyle("wc-contact-card-style",`
      wc-contact-card {
        display: contents;
      }
      .wc-contact-card {
        box-shadow: 0 4px 8px 0 var(--card-border-color);
        transition: 0.3s;
        width: 40%;
        border-radius: 5px;
        background-color: var(--card-bg-color);
        color: var(--card-color);
      }
      .wc-contact-card:hover {
        box-shadow: 0 8px 16px 0 var(--card-border-color);
      }
      /* Add some padding inside the card container */
      .wc-contact-card .contact-card-container {
        padding: 2px 16px;
      }
      .wc-contact-card img {
        border-radius: 5px 5px 0 0;
      }
    `)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-contact-card",R);var U=class extends p{static get observedAttributes(){return["id","class","gender","person-name"]}constructor(){super();let t=this.querySelector(".wc-contact-chip");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-contact-chip"),this.appendChild(this.componentElement)),console.log("ctor:wc-contact-chip")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-contact-chip")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){if(t=="gender"){let o=this.querySelector("img");e=="male"?o.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"):o.setAttribute("src","https://www.w3schools.com/howto/img_avatar2.png")}else if(t=="person-name"){let o=this.querySelector("span.name-content");o.innerHTML=e}else super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-contact-chip > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-contact-chip")}_createInnerElement(){Array.from(this.children).filter(i=>!i.matches("wc-contact-chip")&&!i.matches(".wc-contact-chip")).forEach(i=>this.componentElement.appendChild(i));let e=document.createElement("img");e.setAttribute("src","https://www.w3schools.com/howto/img_avatar.png"),e.setAttribute("alt","Person"),e.setAttribute("height","96"),e.setAttribute("width","96");let o=document.createElement("span");o.classList.add("name-content"),o.innerHTML="John Doe";let n=document.createElement("span");n.classList.add("close-btn"),n.innerHTML="&times;",n.setAttribute("onclick",`
      const cnt = this.closest('wc-contact-chip.contents');
      cnt.classList.add('hidden');
    `),this.componentElement.appendChild(e),this.componentElement.appendChild(o),this.componentElement.appendChild(n)}_applyStyle(){this.loadStyle("wc-contact-chip-style",`
      wc-contact-chip {
        display: contents;
      }
      .wc-contact-chip {
        position: relative;
        display: inline-block;
        padding: 0 25px;
        height: 50px;
        font-size: 18px;
        line-height: 50px;
        border-radius: 25px;
        background-color: var(--card-bg-color);
        color: var(--card-color);
      }
      .wc-contact-chip img {
        float: left;
        margin: 0 0 0 -25px;
        height: 50px;
        width: 50px;
        border-radius: 50%;
      }
      .wc-contact-chip .name-content {
        margin: 0 10px;
      }
      .wc-contact-chip .close-btn {
        position: absolute;
        right: 10px;
        margin-left: 10px;
        color: var(--surface-8);
        font-weight: bold;
        font-size: 20px;
        cursor: pointer;
      }
      .wc-contact-chip .close-btn:hover {
        color: var(--surface-6);
      }
    `)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-contact-chip",U);var J=class extends p{static get observedAttributes(){return["id","class"]}constructor(){super();let t=this.querySelector(".wc-div");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-div"),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):t==="caption"||t==="img-url"||t==="min-height"||super._handleAttributeChange(t,e)}_render(){super._render();let t=this.querySelectorAll(".wc-div > *");t.length>0?(this.componentElement.innerHTML="",t.forEach(e=>this.componentElement.appendChild(e))):(this.componentElement.innerHTML="",this._moveDeclarativeInner()),typeof htmx<"u"&&htmx.process(this)}_moveDeclarativeInner(){let t=this.querySelectorAll("wc-div > *:not(.wc-div)");t.length>0&&t.forEach(e=>this.componentElement.appendChild(e))}_applyStyle(){let t=`
      wc-div {
        display: contents;
      }
      .wc-div {
        position: relative;
        display: block;
      }
    `.trim();this.loadStyle("wc-div-style",t)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-div",J);if(!customElements.get("wc-dropdown-item")){class l extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-dropdown-item",l)}var G=class extends p{static get observedAttributes(){return["id","class","label","mode","format"]}constructor(){super(),this.childComponentSelector="a,hr,wc-input",this.clickModes=["search","click"],this.mode=this.getAttribute("mode")||"click";let t=this.querySelector(".wc-dropdown");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-dropdown",this.mode),this.appendChild(this.componentElement)),console.log("ctor:wc-dropdown")}async connectedCallback(){super.connectedCallback(),await this._applyStyle(),this.classList.add("contents"),this.classList.remove("hidden"),this.componentElement.classList.remove("hidden"),this._wireEvents(),console.log("connectedCallback:wc-dropdown")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="label"||super._handleAttributeChange(t,e)}_render(){if(super._render(),this.querySelector(".wc-dropdown > *")){let e=this.querySelector(".dropbtn");if(this.clickModes.includes(this.mode)){e.addEventListener("click",this._handleClick.bind(this)),window.addEventListener("click",this._handleWindowClick.bind(this));let o=this.querySelector(".search");o&&o.addEventListener("input",this._handleInput.bind(this))}}else this.componentElement.innerHTML="",this._createInnerElement();typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-dropdown")}_createInnerElement(){let t=Array.from(this.children).filter(u=>!u.matches("wc-dropdown")&&!u.matches(".wc-dropdown")),e=this.getAttribute("id")||"",o=this.getAttribute("position-area")||"bottom span-left",n=this.getAttribute("position-try-fallbacks")||"--bottom-right, --bottom-left, --top-right, --top-left, --right, --left",i=this.getAttribute("label")||"",s=this.getAttribute("format")||"standard",r=this.getAttribute("dropdown-height")||"",a=document.createElement("button");i&&s==="standard"?(a.classList.add("dropbtn"),a.textContent=i):s==="grid-round"?(a.classList.add("dropbtn"),a.classList.add("grid-round"),a.innerHTML=`
          <svg class="h-5 w-5 align-middle pointer-events-none"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path d="M128 96A64 64 0 1 1 0 96a64 64 0 1 1 128 0zm0 160A64 64 0 1 1 0 256a64 64 0 1 1 128 0zM64 480a64 64 0 1 1 0-128 64 64 0 1 1 0 128zM288 96A64 64 0 1 1 160 96a64 64 0 1 1 128 0zM224 320a64 64 0 1 1 0-128 64 64 0 1 1 0 128zm64 96a64 64 0 1 1 -128 0 64 64 0 1 1 128 0zm96-256a64 64 0 1 1 0-128 64 64 0 1 1 0 128zm64 96a64 64 0 1 1 -128 0 64 64 0 1 1 128 0zM384 480a64 64 0 1 1 0-128 64 64 0 1 1 0 128z"/>
          </svg>
        `):s==="avatar"&&(a.classList.add("dropbtn"),a.classList.add("avatar"),a.innerHTML=`
          <svg class="h-4 w-4 align-middle pointer-events-none" fill="currentColor" viewBox="0 0 24 24">
            <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
        `);let c=document.createElement("div");c.classList.add("dropdown");let d=document.createElement("div");if(d.classList.add("dropdown-content","text-sm"),this.mode==="search"){let u=document.createElement("input");u.classList.add("search","component"),u.type="search",u.setAttribute("placeholder","Search..."),d.appendChild(u);let w="http://www.w3.org/2000/svg",b=document.createElementNS(w,"svg");b.setAttribute("xmlns",w),b.setAttribute("fill","none"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("stroke-width","1.5"),b.setAttribute("stroke","currentColor"),b.classList.add("search-svg","h-4","w-4","component");let y=document.createElementNS(w,"path");y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"),b.appendChild(y),d.appendChild(b),u.addEventListener("input",this._handleInput.bind(this))}t.forEach(u=>d.appendChild(u)),c.appendChild(d),c.append(a),this.componentElement.append(c),r&&(d.style.height=r,d.style.overflow="auto"),this.clickModes.includes(this.mode)&&(a.addEventListener("click",this._handleClick.bind(this)),window.addEventListener("click",this._handleWindowClick.bind(this)));let h=this.querySelector(".wc-dropdown");h.style.anchorName=`--${e}-anchor`;let m=this.querySelector(".wc-dropdown .dropdown-content");m.style.positionAnchor=`--${e}-anchor`,m.style.positionArea=o,m.style.positionTryFallbacks=n,m.style.minWidth=`${h.offsetWidth}px`}_handleHelper(t,e="open"){let{detail:o}=t,{selector:n}=o,i=".wc-dropdown",s=Array.isArray(n);if(typeof n=="string"||s)document.querySelectorAll(n).forEach(a=>{if(a===this){let c=a?.querySelector(i);e==="open"?c?.classList.add("show"):e==="close"?c?.classList.remove("show"):e==="toggle"&&c?.classList.toggle("show")}});else{let r=n?.querySelector(i);e==="open"?r?.classList.add("show"):e==="close"?r?.classList.remove("show"):e==="toggle"&&r?.classList.toggle("show")}}_handleOpen(t){this._handleHelper(t,"open")}_handleClose(t){this._handleHelper(t,"close")}_handleToggle(t){this._handleHelper(t,"toggle")}_handleClick(t){let{target:e}=t;e.closest(".wc-dropdown").classList.toggle("show")}_handleWindowClick(t){let{target:e}=t;if(e.matches(".dropbtn")||e.matches(".search")||e.closest(".halt-event"))return;this.querySelectorAll(".wc-dropdown").forEach(i=>i.classList.remove("show"))}_handleInput(t){let{target:e}=t,o=e.value.toLowerCase();this.querySelectorAll(".dropdown-content > *:not(.component)").forEach(i=>{i.textContent.toLowerCase().includes(o)?i.style.display="block":i.style.display="none"})}async _applyStyle(){let t=`
      wc-dropdown {
        /* display: contents; */
      }

      .wc-dropdown {
        display: flex;
        flex-direction: row;
      }

      /* Dropdown Button */
      .wc-dropdown .dropbtn {
        background-color: var(--button-bg-color);
        color: var(--button-color);
        padding: 16px;
        font-size: 16px;
        border: none;
        border-radius: 0;
      }
      .wc-dropdown .dropbtn.grid-round {
        background-color: transparent;
        padding: 4px;
      }
      .wc-dropdown .dropbtn.avatar {
        padding: 6px;
        border-radius: 50%;
        font-size: 0.825rem;
      }

      /* The container <div> - needed to position the dropdown content */
      .wc-dropdown .dropdown {
      }

      /* Dropdown Content (Hidden by Default) */
      .wc-dropdown .dropdown-content {
        display: none;
        position: absolute;
        background-color: var(--button-hover-bg-color);
        min-width: 160px;
        max-width: 250px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
      }

      .wc-dropdown .search {
        width: 100%;
        box-sizing: border-box;
        font-size: 12px;
        padding: 14px 20px 12px 35px;
        border-radius: 0;
      }
      .wc-dropdown .dropdown-content svg.search-svg {
        position: absolute;
        left: 8px;
        top: 20px;
        transform: translateY(-50%);
        width: 20px;
        height: 20px;
        stroke: var(--component-color);
        pointer-events: none;
      }

      /* Links inside the dropdown */
      /* .wc-dropdown .dropdown-content .wc-input, */
      .wc-dropdown .dropdown-content a {
        color: var(--component-color);
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }

      /* Change color of dropdown links on hover */
      /* .wc-dropdown .dropdown-content .wc-input:hover, */
      .wc-dropdown .dropdown-content a:hover {
        background-color: var(--component-border-color);
      }

      /* Show the dropdown menu on hover */
      .wc-dropdown:hover:not(.click):not(.search) .dropdown .dropdown-content {
        display: block;
      }
      .wc-dropdown.show .dropdown .dropdown-content {
        display: block;
      }

      /* Change the background color of the dropdown button when the dropdown content is shown */
      .wc-dropdown:hover:not(.click):not(.search) .dropdown .dropbtn {
        background-color: var(--button-hover-bg-color);
      }
      .wc-dropdown.show .dropdown .dropbtn {
        background-color: var(--button-hover-bg-color);
      }

      @position-try --bottom-left {
        position-area: bottom span-left;
      }
      @position-try --bottom-right {
        position-area: bottom span-right;
      }
      @position-try --top-left {
        position-area: top span-left;
      }
      @position-try --top-right {
        position-area: top span-right;
      }
      @position-try --right {
        position-area: right;
      }
      @position-try --left {
        position-area: left;
      }
    `.trim();await this.loadStyle("wc-dropdown-style",t)}_wireEvents(){super._wireEvents(),this.clickModes.includes(this.mode)&&(document.body.addEventListener("wc-dropdown:open",this._handleOpen.bind(this)),document.body.addEventListener("wc-dropdown:close",this._handleClose.bind(this)),document.body.addEventListener("wc-dropdown:toggle",this._handleToggle.bind(this)))}_unWireEvents(){if(super._unWireEvents(),this.clickModes.includes(this.mode)){document.body.removeEventListener("wc-dropdown:open",this._handleOpen.bind(this)),document.body.removeEventListener("wc-dropdown:close",this._handleClose.bind(this)),document.body.removeEventListener("wc-dropdown:toggle",this._handleToggle.bind(this)),this.querySelector(".dropbtn").removeEventListener("click",this._handleClick.bind(this)),window.removeEventListener("click",this._handleWindowClick.bind(this));let e=this.querySelector(".search");e&&e.removeEventListener("input",this._handleInput.bind(this))}}};customElements.define("wc-dropdown",G);var N=class extends p{static get observedAttributes(){return["id","class"]}constructor(){super();let t=this.querySelector(".wc-flip-box");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-flip-box"),this.appendChild(this.componentElement)),console.log("ctor:wc-flip-box")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-flip-box")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_render(){if(super._render(),!this.querySelector(".flip-box-inner")){this.componentElement.innerHTML="";let e=this._createInnerElement();this.componentElement.appendChild(e)}typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-flip-box")}_createInnerElement(){let t=document.createElement("div");t.classList.add("flip-box-inner");let e=this.querySelector('[slot="front"]'),o=this.querySelector('[slot="back"]');return e&&(e.classList.add("flip-box-front"),t.appendChild(e)),o&&(o.classList.add("flip-box-back"),t.appendChild(o)),this.componentElement.appendChild(t),t}_applyStyle(){let t=`
      wc-flip-box {
        display: contents;
      }

      /* The flip box container - set the width and height to whatever you want. We have added the border property to demonstrate that the flip itself goes out of the box on hover (remove perspective if you don't want the 3D effect */
      .wc-flip-box {
        background-color: transparent;
        /*
        width: 300px;
        height: 200px;
        */
        border: 1px solid var(--component-border-color);
        perspective: 1000px; /* Remove this if you don't want the 3D effect */
      }

      /* This container is needed to position the front and back side */
      .wc-flip-box .flip-box-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.8s;
        transform-style: preserve-3d;
      }

      /* Do an horizontal flip when you move the mouse over the flip box container */
      .wc-flip-box:hover .flip-box-inner {
        transform: rotateY(180deg);
      }

      /* Position the front and back side */
      .wc-flip-box .flip-box-front,
      .wc-flip-box .flip-box-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden; /* Safari */
        backface-visibility: hidden;
      }

      /* Style the front side */
      .wc-flip-box .flip-box-front {
        background-color: var(--card-bg-color);
        color: var(--text-1);
      }

      /* Style the back side */
      .wc-flip-box .flip-box-back {
        background-color: var(--card-bg-color);
        color: var(--text-1);
        transform: rotateY(180deg);
      }`.trim();this.loadStyle("wc-flip-box-style",t)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-flip-box",N);var K=class extends p{static get observedAttributes(){return["id","class","url","caption","modal","hover-overlay","hover-mode"]}constructor(){super();let t=this.querySelector(".wc-image");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-image"),this.appendChild(this.componentElement)),console.log("ctor:wc-image")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-image")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="url"||t==="caption"||t==="modal"||super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-image > *")?this.hasAttribute("modal")&&(this.querySelector(".img").addEventListener("click",this._showModal.bind(this)),this.querySelector(".overlay .closebtn").addEventListener("click",this._hideModal.bind(this))):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-image")}_createInnerElement(){let t=this.getAttribute("caption")||"",e=document.createElement("img");e.classList.add("img"),e.src=this.getAttribute("url")||"",e.alt=t;let o=document.createElement("div");if(o.textContent=t,o.classList.add("img-text"),this.componentElement.appendChild(e),this.componentElement.appendChild(o),this.hasAttribute("hover-overlay")){let a=this.getAttribute("hover-mode")||"bottom",c=document.createElement("div");c.classList.add("hover-overlay",a),this.querySelectorAll("wc-image > *:not(.wc-image").forEach(h=>c.appendChild(h)),this.componentElement.appendChild(c)}let n=document.createElement("div");n.classList.add("overlay","hidden");let i=document.createElement("button");i.classList.add("closebtn"),i.innerHTML="&times;",n.appendChild(i);let s=document.createElement("img");s.classList.add("overlay-img"),s.alt=t,n.appendChild(s);let r=document.createElement("div");r.textContent=t,r.classList.add("overlay-img-text"),n.appendChild(r),this.appendChild(n),this.hasAttribute("modal")&&(e.addEventListener("click",this._showModal.bind(this)),i.addEventListener("click",this._hideModal.bind(this)))}_handleHelper(t,e="show"){let{detail:o}=t,{selector:n}=o,i=Array.isArray(n);typeof n=="string"||i?document.querySelectorAll(n).forEach(r=>{r===this&&(e==="show"?this._showModal({target:this}):e==="hide"&&this._hideModal({target:this}))}):n===this&&(e==="show"?this._showModal({target:this}):e==="hide"&&this._hideModal({target:this}))}_handleShow(t){this._handleHelper(t,"show")}_handleHide(t){this._handleHelper(t,"hide")}_showModal(t){let{target:e}=t,o=this.querySelector(".overlay");if(o){let n=this.querySelector("img:not(.overlay-img)"),i=this.querySelector(".overlay-img");i.src=n.src,o.classList.remove("hidden"),o.classList.add("show")}}_hideModal(t){let{target:e}=t,o=this.querySelector(".overlay");o&&(o.classList.remove("show"),o.classList.add("hidden"))}_applyStyle(){let t=`
      wc-image {
        display: contents;
      }
      wc-image .wc-image {
        position: relative;
      }
      wc-image .wc-image .img {
        max-height: 300px;
        width: 100%;
        height: auto;
        object-fit: cover;
        transition: 0.3s;
      }
      wc-image[modal]:not([hover-overlay]) .wc-image .img {
        cursor: pointer;
      }
      wc-image[modal]:not([hover-overlay]) .wc-image .img:hover {
        opacity: 0.7;
      }
      wc-image .wc-image .img-text {
        color: #f2f2f2;
        font-size: 15px;
        padding: 8px 12px;
        position: absolute;
        bottom: 8px;
        width: 100%;
        text-align: center;
      }
      /* Overlay */
      wc-image .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        padding-top: 100px;
        background-color: transparent;
        transition: background-color 0.5s ease;
      }
      wc-image .overlay.show {
        background-color: rgba(0,0,0,0.8);
        z-index: 1;
      }
      wc-image .overlay .closebtn {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 40px;
        background-color: transparent;
      }
      wc-image .overlay .overlay-img {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 700px;
      }
      wc-image .overlay .overlay-img-text {
        color: #f2f2f2;
        font-size: 36px;
        padding: 8px 12px;
        position: absolute;
        width: 100%;
        text-align: center;
      }
      wc-image .overlay .overlay-img,
      wc-image .overlay .overlay-img-text {
        animation-name: img-zoom;
        animation-duration: 0.6s;
      }
      /* Hover Overlay */
      wc-image[hover-overlay] .hover-overlay.top {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 100%;
        height:0;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.top {
        top: 0;
        height: 100%;
      }
      wc-image[hover-overlay] .hover-overlay.bottom {
        position: absolute;
        bottom: 100%;
        left: 0;
        right: 0;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 100%;
        height:0;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.bottom {
        bottom: 0;
        height: 100%;
      }
      wc-image[hover-overlay] .hover-overlay.left {
        position: absolute;
        bottom: 0;
        left: 100%;
        right: 0;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 0;
        height: 100%;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.left {
        left: 0;
        width: 100%;
      }
      wc-image[hover-overlay] .hover-overlay.right {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 100%;
        background-color: var(--card-bg-color);
        overflow: hidden;
        width: 0;
        height: 100%;
        transition: .5s ease;
      }
      wc-image[hover-overlay] .wc-image:hover .hover-overlay.right {
        right: 0;
        width: 100%;
      }

      @keyframes img-zoom {
        from { transform: scale(0); }
        to { transform: scale(1); }
      }
    `.trim();this.loadStyle("wc-image-style",t)}_wireEvents(){super._wireEvents(),this.hasAttribute("modal")&&(document.body.addEventListener("wc-image:show",this._handleShow.bind(this)),document.body.addEventListener("wc-image:hide",this._handleHide.bind(this)))}_unWireEvents(){super._unWireEvents(),this.hasAttribute("modal")&&(document.body.removeEventListener("wc-image:show",this._handleShow.bind(this)),document.body.removeEventListener("wc-image:hide",this._handleHide.bind(this)),this.querySelector(".img").removeEventListener("click",this._showModal.bind(this)),this.querySelector(".overlay .closebtn").removeEventListener("click",this._hideModal.bind(this)))}};customElements.define("wc-image",K);var Y=class extends p{static get observedAttributes(){return["id","class","path","wrap"]}constructor(){super(),this._items=[];let t=this.querySelector(".wc-menu");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-menu"),this.appendChild(this.componentElement)),console.log("ctor:wc-menu")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-menu")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):t==="wrap"||super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-menu > *")?(this.querySelectorAll(".menu-link").forEach(n=>n.addEventListener("click",this._handleClick.bind(this))),this.querySelector(".menu-toggle").addEventListener("click",this._handleMenuToggle.bind(this)),this._setActiveLink()):(this.componentElement.innerHTML="",this._createInnerElement(),this._setActiveLink()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-menu")}_createInnerElement(){this._moveDeclarativeOptions();let t=document.createElement("div");t.classList.add("menu-items"),this.hasAttribute("wrap")&&t.classList.add("flex-wrap"),this._items.forEach(n=>{let i=this._createAnchor(n.name,n.label,n.selected);t.appendChild(i)});let e=document.createElement("div");e.classList.add("menu-toggle");let o=document.createElement("a");o.href="javascript:void(0);",o.classList.add("icon","row"),o.id="menuIcon",o.innerHTML=`
        <svg class="h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"/>
        </svg>
    `.trim(),o.addEventListener("click",this._handleMenuToggle.bind(this)),this.componentElement.appendChild(t),e.appendChild(o),this.componentElement.appendChild(e)}_moveDeclarativeOptions(){let t=this.querySelectorAll("option");t.length>0&&(this._items=[]),t.forEach(e=>{let o={name:e.value,label:e.textContent.trim(),selected:e.hasAttribute("selected")||!1};this._items.push(o)}),Array.from(t).forEach(e=>e.remove())}_createAnchor(t,e,o){let n=this.getAttribute("path")||"/static/views/",i=document.createElement("a");return i.classList.add("menu-link"),o&&i.classList.add("active"),i.dataset.name=t,i.textContent=e,i.setAttribute("href",`${n}${t}.html`),i.setAttribute("hx-get",`${n}${t}.html`),i.setAttribute("hx-trigger","click"),i.setAttribute("hx-target","#viewport"),i.setAttribute("hx-swap","innerHTML transition:true"),i.setAttribute("hx-push-url",`${n}${t}.html`),i.setAttribute("hx-select","#page-contents"),i.addEventListener("click",this._handleClick.bind(this)),i}_setActiveLink(){let t=this._getCurrentRoute(),e=this.querySelectorAll(".wc-menu a");t?e.forEach(o=>{o.dataset.name===t?o.classList.add("active"):o.classList.remove("active")}):e.length>0&&(e.forEach(o=>o.classList.remove("active")),e[0].classList.add("active"))}_getCurrentRoute(){return window.location.pathname.split("/").pop().split(".").shift()}_handleHelper(t,e="click"){let{detail:o}=t,{selector:n,subSelector:i}=o,s=Array.isArray(n);typeof n=="string"||s?document.querySelectorAll(n).forEach(a=>{a===this&&e==="click"&&this.querySelector(i)?.click()}):n===this&&e==="click"&&this.querySelector(i)?.click()}_handleOnClick(t){this._handleHelper(t,"click")}_handleClick(t){let{target:e}=t;this.querySelectorAll(".wc-menu a:not(.icon)").forEach(n=>n.classList.remove("active")),e.classList.add("active")}_handleMenuToggle(t){let{target:e}=t;e.classList.toggle("open"),this.querySelector("wc-menu .wc-menu").classList.toggle("open")}_applyStyle(){let t=`
      wc-menu {
        display: contents;
      }
      wc-menu .wc-menu {
        position: relative;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        background-color: var(--card-bg-color);
        overflow: hidden;
      }
      wc-menu .wc-menu .menu-items {
        display: flex;
        flex-direction: row;
      }
      wc-menu .wc-menu a {
        color: var(--primary-color);
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
        font-size: 17px;
        opacity: 0.75;
        user-select: none;
      }
      wc-menu .wc-menu a:hover {
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
        opacity: 1;
      }
      wc-menu .wc-menu a.active {
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
        opacity: 1;
      }
      wc-menu .wc-menu a.icon {
        display: none;
      }
      @media (max-width: 600px) {
        wc-menu .wc-menu a:not(.active) {
          display: none;
        }
        wc-menu .wc-menu a.icon {
          display: block;
        }
      }
      @media (max-width: 600px) {
        wc-menu .wc-menu.open {
          position: relative;
        }
        wc-menu .wc-menu.open .menu-items {
          flex-direction: column;
          flex: 1 1 0%;
        }
        wc-menu .wc-menu.open a:active {
          background-color: var(--primary-bg-color);
          color: var(--primary-color);
          opacity: 1;
        }
        wc-menu .wc-menu.open .icon {
          background-color: var(--primary-bg-color);
          color: var(--primary-color);
          opacity: 1;
          position: absolute;
          right: 0;
          top: 0;
        }
        wc-menu .wc-menu.open a {
          float: none;
          display: block;
          text-align: left;
        }
      }
    `.trim();this.loadStyle("wc-menu-style",t)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-menu:click",this._handleOnClick.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-menu:click",this._handleOnClick.bind(this)),this.querySelectorAll(".menu-link").forEach(o=>o.removeEventListener("click",this._handleClick.bind(this))),this.querySelector(".menu-toggle").removeEventListener("click",this._handleMenuToggle.bind(this))}};customElements.define("wc-menu",Y);if(!customElements.get("wc-save-button")){class l extends p{static get observedAttributes(){return[]}constructor(){super(),this._items=[];let e=this.querySelector(".wc-save-button");if(e)this.componentElement=e;else{let o=this.getAttribute("id")||"",n=this.getAttribute("save-url")||"";this.componentElement=document.createElement("button"),this.componentElement.id=o,this.removeAttribute("id"),this.componentElement.textContent="Save",this.componentElement.classList.add("wc-save-button"),this.componentElement.setAttribute("hx-target","#viewport"),this.componentElement.setAttribute("hx-swap","innerHTML transition:true"),this.componentElement.setAttribute("hx-indicator","#content-loader"),this.componentElement.setAttribute("hx-post",n),this.removeAttribute("save-url"),this.componentElement.setAttribute("hx-push-url","true"),this.appendChild(this.componentElement)}console.log("ctor:wc-save-button")}async connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-save-button")}disconnectedCallback(){this._unWireEvents()}_handleAttributeChange(e,o){super._handleAttributeChange(e,o)}_applyStyle(){let e=`
        wc-save-button {
          display: contents;
        }
        .wc-save-button {
        }
        .wc-save-button:hover  {
        }
      `.trim();this.loadStyle("wc-save-button-style",e)}_wireEvents(){super._wireEvents()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-save-button",l)}if(!customElements.get("wc-save-split-button")){class l extends p{static get observedAttributes(){return[]}constructor(){super(),this._items=[];let e=this.querySelector(".wc-save-split-button");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-save-split-button"),this.componentElement.setAttribute("hx-target","#viewport"),this.componentElement.setAttribute("hx-swap","innerHTML transition:true"),this.componentElement.setAttribute("hx-indicator","#content-loader"),this.componentElement.setAttribute("hx-push-url","true"),this.componentElement.setAttribute("hx-boost","true"),this.appendChild(this.componentElement),this._createElement()),console.log("ctor:wc-save-split-button")}async connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-save-split-button")}disconnectedCallback(){this._unWireEvents()}_createElement(){let e=this.getAttribute("id")||"",o=this.getAttribute("method")||"post",n=this.getAttribute("save-url")||"",i=this.getAttribute("save-new-url")||"",s=this.getAttribute("save-return-url")||"",r=this.getAttribute("position-area")||"bottom span-left",a=this.getAttribute("position-try-fallbacks")||"--bottom-right, --bottom-left, --top-right, --top-left, --right, --left",c=this.getAttribute("before-send")||"";c&&(c=`hx-on::before-send="${c}"`);let d=`
        <button type="button" class="save-btn btn"
          hx-${o}="${n}" ${c||""}
          data-url="${n}">Save</button>
        <div class="dropdown">
          <div class="dropdown-content text-sm">
            <a class="save-new-btn btn w-full"
              hx-${o}="${n}" ${c||""}
              data-url="${i}">
              Save and Add New
            </a>
            <a class="save-return-btn btn w-full"
              hx-${o}="${n}" ${c||""}
              data-url="${s}">
              Save and Return
            </a>
          </div>
          <button type="button" class="btn" style="border-left:1px solid var(--component-border-color);">
            <svg class="h-3 w-3 pointer-events-none"
              xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
              stroke="currentColor" fill="currentColor">
              <path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/>
            </svg>
          </button>
        </div>
      `.trim();this.componentElement.innerHTML=d;let h=this.querySelector(".wc-save-split-button");h.style.anchorName=`--${e}-anchor`;let m=this.querySelector(".dropdown-content");m.style.positionAnchor=`--${e}-anchor`,m.style.positionArea=r,m.style.positionTryFallbacks=a,m.style.minWidth=`${h.offsetWidth}px`}_handleAttributeChange(e,o){super._handleAttributeChange(e,o)}_handleClick(e){let o=this.getAttribute("method")||"post",n=e.target.classList.contains("save-btn"),i=e.target.dataset.url,s=window.location.hash;o=="post"&&n&&(i=i.replace("create","__id__")),document.body.addEventListener("htmx:configRequest",r=>{r.detail.headers["Wc-Save-Redirect"]=i,s&&n&&sessionStorage.setItem("hash",s)},{once:!0}),document.body.addEventListener("htmx:afterSwap",r=>{let a=sessionStorage.getItem("hash");a&&(window.location.hash=a,sessionStorage.removeItem("hash"))},{once:!0})}_applyStyle(){let e=`
        wc-save-split-button {
          display: contents;
        }
        .wc-save-split-button {
          /* anchor-name: --save-anchor; */
          display: flex;
          flex-direction: row;
        }
        /* Dropdown Button */
        .wc-save-split-button .btn {
          border-right: none;
          outline: none;
          border-radius: 0;
        }

        /* The container <div> - needed to position the dropdown content */
        .wc-save-split-button .dropdown {
          /* display: inline-block; */
        }

        /* Dropdown Content (Hidden by Default) */
        .wc-save-split-button .dropdown-content {
          display: none;
          background-color: var(--button-bg-color);
          border: 1px solid var(--button-border-color);
          border-top: none;
          min-width: 160px;
          z-index: 1;

          position: absolute;
          position-try-fallbacks: --bottom-right, --bottom-left, --top-right, --top-left, --right, --left;
          /*
          position-anchor: --save-anchor;
          position-area: bottom span-left;
          */
        }

        @position-try --bottom-left {
          position-area: bottom span-left;
        }
        @position-try --bottom-right {
          position-area: bottom span-right;
        }
        @position-try --top-left {
          position-area: top span-left;
        }
        @position-try --top-right {
          position-area: top span-right;
        }
        @position-try --right {
          position-area: right;
        }
        @position-try --left {
          position-area: left;
        }

        /* Links inside the dropdown */
        .wc-save-split-button .dropdown-content a {
          color: var(--button-color);
          padding: 12px 16px;
          text-decoration: none;
          display: block;
          cursor: pointer;
        }

        /* Change color of dropdown links on hover */
        .wc-save-split-button .dropdown-content a:hover {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }

        /* Show the dropdown menu on hover */
        .wc-save-split-button .dropdown:hover > .dropdown-content {
          display: block;
        }
        .wc-save-split-button .dropdown-content:hover ~ button {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }
      `.trim();this.loadStyle("wc-save-split-button-style",e)}_wireEvents(){super._wireEvents(),this.querySelector("button.save-btn").addEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-new-btn").addEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-return-btn").addEventListener("click",this._handleClick.bind(this))}_unWireEvents(){super._unWireEvents(),this.querySelector("button.save-btn").removeEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-new-btn").removeEventListener("click",this._handleClick.bind(this)),this.querySelector("a.save-return-btn").removeEventListener("click",this._handleClick.bind(this))}}customElements.define("wc-save-split-button",l)}if(!customElements.get("wc-split-button")){class l extends p{static get observedAttributes(){return["btn-id","btn-class","btn-label","split-class"]}constructor(){super(),this._items=[],this.parts=Array.from(this.children);let e=this.querySelector(".wc-split-button");if(e)this.componentElement=e;else{this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-split-button");let o=this.getAttribute("split-class");o&&o.split(" ").forEach(i=>this.componentElement.classList.add(i)),this.appendChild(this.componentElement),this._createElement()}console.log("ctor:wc-split-button")}async connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-split-button")}disconnectedCallback(){this._unWireEvents()}_createElement(){let e=this.getAttribute("id")||"",o=this.getAttribute("label")||"",n=this.getAttribute("position-area")||"bottom span-right",i=this.getAttribute("position-try-fallbacks")||"--bottom-right, --bottom-left, --top-right, --top-left, --right, --left",s=`
        <button id="${e}" type="button" class="btn">${o}</button>
        <div class="dropdown">
          <div class="dropdown-content text-sm">
          </div>
          <button type="button" class="btn" style="border-left:1px solid var(--component-border-color);">
            <svg class="h-3 w-3 pointer-events-none"
              xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
              stroke="currentColor" fill="currentColor">
              <path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/>
            </svg>
          </button>
        </div>
      `.trim();this.componentElement.innerHTML=s;let r=this.querySelector(".wc-split-button");r.style.anchorName=`--${e}-anchor`;let a=this.querySelector(".dropdown-content");a.style.positionAnchor=`--${e}-anchor`,a.style.positionArea=n,a.style.positionTryFallbacks=i,a.style.minWidth="calc(100% - 20px",this.parts.forEach(h=>{a.appendChild(h)});let c=this.querySelector(`button#${e}`),d=this.getAttribute("onclick");if(d){let h=new Function(d);c.onclick=h,this.removeAttribute("onclick")}this.removeAttribute("id"),this.removeAttribute("label")}_handleAttributeChange(e,o){super._handleAttributeChange(e,o)}_applyStyle(){let e=`
        wc-split-button {
          display: contents;
        }
        .wc-split-button {
          /* anchor-name: --anchor; */
          display: flex;
          flex-direction: row;
        }
        /* Dropdown Button */
        .wc-split-button .btn {
          border-right: none;
          outline: none;
          border-radius: 0;
        }

        /* The container <div> - needed to position the dropdown content */
        .wc-split-button .dropdown {
          /* display: inline-block; */
        }

        /* Dropdown Content (Hidden by Default) */
        .wc-split-button .dropdown-content {
          display: none;
          background-color: var(--button-bg-color);
          border: 1px solid var(--button-border-color);
          border-top: none;
          min-width: 160px;
          z-index: 1;

          position: absolute;
          position-try-fallbacks: --bottom-right, --bottom-left, --top-right, --top-left, --right, --left;
          /*
          position-anchor: --anchor;
          position-area: bottom span-left;
          */
        }

        @position-try --bottom-left {
          position-area: bottom span-left;
        }
        @position-try --bottom-right {
          position-area: bottom span-right;
        }
        @position-try --top-left {
          position-area: top span-left;
        }
        @position-try --top-right {
          position-area: top span-right;
        }
        @position-try --right {
          position-area: right;
        }
        @position-try --left {
          position-area: left;
        }

        /* Links inside the dropdown */
        .wc-split-button .dropdown-content a {
          color: var(--button-color);
          padding: 12px 16px;
          text-decoration: none;
          display: block;
          cursor: pointer;
        }

        /* Change color of dropdown links on hover */
        .wc-split-button .dropdown-content a:hover {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }

        /* Show the dropdown menu on hover */
        .wc-split-button .dropdown:hover > .dropdown-content {
          display: block;
        }

        /* Change the background color of the dropdown button when the dropdown content is shown */
        /*
        .wc-split-button .btn:hover, .dropdown:hover .btn  {
          background-color: var(--primary-alt-bg-color);
        }
        */
        .wc-split-button .dropdown-content:hover ~ button {
          background-color: var(--button-hover-bg-color);
          color: var(--button-hover-color);
        }
      `.trim();this.loadStyle("wc-split-button-style",e)}_wireEvents(){super._wireEvents()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-split-button",l)}var Z=class extends p{static get observedAttributes(){return["id","class","width","push-target","right-side","auto-height","background-color"]}constructor(){super(),this.hasAttribute("right-side")||this.setAttribute("left-side","");let t=this.querySelector(".wc-sidebar");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-sidebar"),this.appendChild(this.componentElement)),console.log("ctor:wc-sidebar")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-sidebar")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="label"||t==="auto-height"||t==="background-color"||t==="push-target"||t==="right-side"||t==="width"||super._handleAttributeChange(t,e)}_render(){if(super._render(),this.querySelector(".wc-sidebar > *")){let e=this.getAttribute("push-target")||"body",o=document.querySelector(e),n=this.hasAttribute("right-side"),i=this.getAttribute("width")||"150px";o&&(n?o.style.marginRight=i:o.style.marginLeft=i)}else this.componentElement.innerHTML="",this._createInnerElement();typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-sidebar")}_createInnerElement(){this.querySelectorAll("wc-sidebar > *:not(.wc-sidebar").forEach(s=>this.componentElement.appendChild(s)),this.hasAttribute("auto-height")?this.componentElement.style.height="auto":this.componentElement.style.height="100%";let o=this.getAttribute("push-target")||"body",n=this.hasAttribute("right-side"),i=this.getAttribute("width")||"150px";if(this.hasAttribute("background-color")){let s=this.getAttribute("background-color");this.componentElement.style.setProperty("--background-color",s)}if(this.componentElement.style.width=i,o){let s=document.querySelector(o);s&&(s.style.setProperty("transition","margin-left 0.5s ease, margin-right 0.5s ease"),n?s.style.marginRight=i:s.style.marginLeft=i)}}_applyStyle(){this.loadStyle("wc-sidebar-style",`
      wc-sidebar {
        display: contents;
      }
      wc-sidebar .wc-sidebar {
        /* height: 100%; */
        position: fixed;
        z-index: 1;
        top: 0;
        background-color: var(--bg-color);
        overflow-x: hidden;
        padding-top: 20px;
        padding-bottom: 20px;
      }
      wc-sidebar[left-side] .wc-sidebar {
        left: 0;
      }
      wc-sidebar[right-side] .wc-sidebar {
        right: 0;
      }

      wc-sidebar .wc-sidebar a {
        padding: 6px 8px 6px 16px;
        text-decoration: none;
        font-size: 25px;
        color: var(--text-5);
        display: block;
      }

      wc-sidebar .wc-sidebar a:hover {
        color: var(--text-1);
      }
    `)}_unWireEvents(){super._unWireEvents();let t=this.getAttribute("push-target")||"body",e=document.querySelector(t),o=this.hasAttribute("right-side");e&&(o?e.style.marginRight="0":e.style.marginLeft="0")}};customElements.define("wc-sidebar",Z);var X=class extends p{static get observedAttributes(){return["id","class","label","width","open","open-top","open-vertical-text","push","push-target","overlay","background-color","auto-height"]}constructor(){super(),this.hasAttribute("right-side")||this.setAttribute("left-side","");let t=this.querySelector(".wc-sidenav");if(t)this.componentElement=t;else{let e=this.hasAttribute("open");this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-sidenav","sidenav"),e&&this.componentElement.classList.add("open"),this.appendChild(this.componentElement)}console.log("ctor:wc-sidenav")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-sidenav")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="label"||t==="auto-height"||t==="background-color"||t==="open-vertical-text"||t==="open-top"||t==="open"||t==="overlay"||t==="push-target"||t==="push"||t==="width"||super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-sidenav > *")?(this.querySelector(".closebtn").addEventListener("click",this._closeNav.bind(this)),this.querySelector(".openbtn").addEventListener("click",this._openNav.bind(this))):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-sidenav")}_createInnerElement(){let t=this.querySelectorAll("wc-sidenav > *:not(.wc-sidenav");this.hasAttribute("auto-height")?this.componentElement.style.height="auto":this.componentElement.style.height="100%";let o=document.createElement("div");if(o.classList.add("overlay","hidden"),this.appendChild(o),this.hasAttribute("background-color")){let c=this.getAttribute("background-color");this.componentElement.style.setProperty("--background-color",c)}let n=this.getAttribute("label")||"Sidenav",i=document.createElement("button");i.classList.add("closebtn"),i.innerHTML="&times;",i.addEventListener("click",this._closeNav.bind(this)),this.componentElement.appendChild(i);let s=document.createElement("button");s.classList.add("openbtn"),s.style.top=this.getAttribute("open-top")||"0",s.addEventListener("click",this._openNav.bind(this));let r=document.createElement("span");r.textContent=n,s.appendChild(r),this.appendChild(s),t.forEach(c=>this.componentElement.appendChild(c));let a=this.getAttribute("push-target")||"#viewport";if(a){let c=document.querySelector(a);c&&c.style.setProperty("transition","margin-left 0.5s ease, margin-right 0.5s ease")}}_handleHelper(t,e){let{detail:o}=t,{selector:n}=o,i=Array.isArray(n);typeof n=="string"||i?document.querySelectorAll(n).forEach(r=>{r===this&&(e==="toggle"&&(this.querySelector(".wc-sidenav").classList.contains("open")?e=".closebtn":e=".openbtn"),r?.querySelector(e)?.click())}):n?.querySelector(e)?.click()}_handleOpen(t){this._handleHelper(t,".openbtn")}_handleClose(t){this._handleHelper(t,".closebtn")}_handleToggle(t){this._handleHelper(t,"toggle")}_openNav(t){let{target:e}=t,o=this.getAttribute("width")||"250px",n=this.getAttribute("push-target")||"#viewport",i=this.querySelector(".wc-sidenav");if(i.classList.add("open"),i.style.width=o,this.hasAttribute("overlay")){let s=this.querySelector(".overlay");s&&(s.classList.add("open"),s.classList.remove("hidden"))}if(this.hasAttribute("push")){let s=this.hasAttribute("right-side");if(n){let r=document.querySelector(n);r&&(s?r.style.marginRight=o:r.style.marginLeft=o)}}}_closeNav(t){let{target:e}=t,o=this.getAttribute("push-target")||"#viewport",n=e.closest(".wc-sidenav");if(n.classList.remove("open"),n.style.width="0",this.hasAttribute("overlay")){let i=this.querySelector(".overlay");i&&(i.classList.remove("open"),i.classList.add("hidden"))}if(this.hasAttribute("push")){let i=this.hasAttribute("right-side");if(o){let s=document.querySelector(o);s&&(i?s.style.marginRight="0":s.style.marginLeft="0")}}}_applyStyle(){this.loadStyle("wc-sidenav-style",`
      wc-sidenav {
        display: contents;
      }
      wc-sidenav .wc-sidenav.sidenav {
        /* height: 100%; */
        width: 0;
        position: fixed;
        z-index: 2;
        top: 0;
        background-color: var(--button-bg-color);
        overflow-x: hidden;
        padding-top: 60px;
        padding-bottom: 20px;
        text-align: center;
        transition: 0.5s;
      }
      wc-sidenav[left-side] .wc-sidenav.sidenav {
        left: 0;
      }
      wc-sidenav[right-side] .wc-sidenav.sidenav {
        right: 0;
      }
      wc-sidenav .wc-sidenav.sidenav a {
        text-decoration: none;
        font-size: 25px;
        color: var(--button-color);
        display: block;
        transition: 0.3s;
      }
      wc-sidenav[left-side] .wc-sidenav.sidenav a {
        padding: 8px 8px 8px 32px;
      }
      wc-sidenav[right-side] .wc-sidenav.sidenav a {
        padding: 8px 32px 8px 8px;
      }
      wc-sidenav .wc-sidenav.sidenav.open a {
        padding: 8px 8px;
      }
      wc-sidenav .wc-sidenav.sidenav a:hover {
        color: var(--button-hover-color);
      }
      wc-sidenav .wc-sidenav.sidenav .closebtn {
        position: absolute;
        top: 0;
        font-size: 36px;
        background-color: transparent;
      }
      wc-sidenav[left-side] .wc-sidenav.sidenav .closebtn {
        right: 10px;
      }
      wc-sidenav[right-side] .wc-sidenav.sidenav .closebtn {
        left: 10px;
      }
      wc-sidenav .openbtn {
        position: absolute;
        z-index: 1;
      }
      wc-sidenav[left-side] .openbtn {
        left: 0;
        border-radius: 0 0.375rem 0.375rem 0;
      }
      wc-sidenav[right-side] .openbtn {
        right: 0;
        border-radius: 0.375rem 0 0 0.375rem;
      }
      wc-sidenav .openbtn span {
        writing-mode: vertical-rl;
        display: inline-block;
        line-height: 2;
      }
      wc-sidenav[open-vertical-text] .openbtn span {
        text-orientation: upright;
        letter-spacing: 2px;
      }
      wc-sidenav:not([open-vertical-text]) .openbtn span {
        text-orientation: sideways;
        letter-spacing: 4px;
      }
      wc-sidenav .openbtn:hover {
        background-color: var(--button-hover-bg-color);
      }

      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: transparent;
        transition: background-color 0.5s ease;
      }
      .overlay.open {
        background-color: rgba(0,0,0,0.6);
        z-index: 1;
      }
    `)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-sidenav:open",this._handleOpen.bind(this)),document.body.addEventListener("wc-sidenav:close",this._handleClose.bind(this)),document.body.addEventListener("wc-sidenav:toggle",this._handleToggle.bind(this))}_unWireEvents(){super._unWireEvents(),this.querySelector(".closebtn").removeEventListener("click",this._closeNav.bind(this)),this.querySelector(".openbtn").removeEventListener("click",this._openNav.bind(this)),document.body.removeEventListener("wc-sidenav-open",this._handleOpen.bind(this)),document.body.removeEventListener("wc-sidenav-close",this._handleClose.bind(this)),document.body.removeEventListener("wc-sidenav:toggle",this._handleToggle.bind(this))}};customElements.define("wc-sidenav",X);var Q=class extends p{static get observedAttributes(){return["id","class","url","caption","numbertext"]}constructor(){super();let t=this.querySelector(".wc-slideshow-image");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-slideshow-image","slide","fade"),this.appendChild(this.componentElement)),console.log("ctor:wc-slideshow-image")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-slideshow-image")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){if(t==="numbertext"){let o=this.querySelector(".numbertext");o&&(o.textContent=e)}else super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-slideshow-image > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-slideshow-image")}_createInnerElement(){let t=document.createElement("div");t.textContent=this.getAttribute("numbertext")||"",t.classList.add("numbertext");let e=document.createElement("img");e.src=this.getAttribute("url")||"";let o=document.createElement("div");o.textContent=this.getAttribute("caption")||"",o.classList.add("text"),this.componentElement.appendChild(t),this.componentElement.appendChild(e),this.componentElement.appendChild(o)}_applyStyle(){let t=`
      wc-slideshow-image {
        display: contents;
      }

      .wc-slideshow-image {
        position: relative;
      }

      .wc-slideshow-image img {
        max-height: 300px;
        width: 100%;
        height: auto;
        object-fit: cover;
      }
      
      /* Caption text */
      .wc-slideshow-image .text {
        color: #f2f2f2;
        font-size: 15px;
        padding: 8px 12px;
        position: absolute;
        bottom: 8px;
        width: 100%;
        text-align: center;
      }

      /* Number text (1/3 etc) */
      .wc-slideshow-image .numbertext {
        color: #f2f2f2;
        font-size: 12px;
        padding: 8px 12px;
        position: absolute;
        top: 0;
      }      
`.trim();this.loadStyle("wc-slideshow-image-style",t)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-slideshow-image",Q);var V=class extends p{static get observedAttributes(){return["id","class","max-image-height","autoplay","autoplay-interval"]}constructor(){super(),this.slides=[],this.slideshowInterval=null,this.isPaused=!1,this.slideIndex=1,this.childComponentSelector="wc-slideshow-image";let t=this.querySelector(".wc-slideshow");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-slideshow","container"),this.appendChild(this.componentElement)),console.log("ctor:wc-slideshow")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-slideshow")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_render(){super._render();let t=this.querySelectorAll("wc-slideshow-image");if(t.forEach((o,n)=>{o.setAttribute("numbertext",`${n+1} / ${t.length}`),o.querySelectorAll("img").forEach(s=>s.style.maxHeight=this.getAttribute("max-image-height")||"300px")}),this.slides=this.querySelectorAll(".wc-slideshow-image.slide"),this.querySelector(".wc-slideshow > *")){this.slideIndex=parseInt(this.dataset.slideIndex||1);let o=this.querySelector(".prev"),n=this.querySelector(".next");o.addEventListener("click",this._prevSlide.bind(this)),n.addEventListener("click",this._nextSlide.bind(this))}else this.componentElement.innerHTML="",this._createInnerElement();this._startSlideshow(),document.addEventListener("visibilitychange",this._handleVisibilityChange.bind(this)),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-slideshow")}_createInnerElement(){this.querySelectorAll("wc-slideshow > *:not(.wc-slideshow)").forEach(n=>{this.componentElement.appendChild(n)});let e=document.createElement("a");e.classList.add("prev"),e.textContent="\u276E",e.addEventListener("click",this._prevSlide.bind(this));let o=document.createElement("a");o.textContent="\u276F",o.classList.add("next"),o.addEventListener("click",this._nextSlide.bind(this)),this.componentElement.appendChild(e),this.componentElement.appendChild(o)}_handleHelper(t,e="next"){let{detail:o}=t,{selector:n}=o,i=Array.isArray(n);typeof n=="string"||i?document.querySelectorAll(n).forEach(r=>{r===this&&(e==="next"?this._nextSlide({target:this}):e==="prev"?this._prevSlide({target:this}):e==="start"?(this.setAttribute("autoplay",""),this.isPaused=!1,this._startSlideshow()):e==="stop"&&(this.removeAttribute("autoplay"),this.isPaused=!0,clearInterval(this.slideshowInterval)))}):n===this&&(e==="next"?this._nextSlide({target:this}):e==="prev"?this._prevSlide({target:this}):e==="start"?(this.setAttribute("autoplay",""),this.isPaused=!1,this._startSlideshow()):e==="stop"&&(this.removeAttribute("autoplay"),this.isPaused=!0,clearInterval(this.slideshowInterval)))}_handleNext(t){this._handleHelper(t,"next")}_handlePrev(t){this._handleHelper(t,"prev")}_handleStart(t){this._handleHelper(t,"start")}_handleStop(t){this._handleHelper(t,"stop")}_prevSlide(t){t?.target&&(this.isPaused=!0,clearInterval(this.slideshowInterval)),this.slideIndex-=1,this._showSlide()}_nextSlide(t){t?.target&&(this.isPaused=!0,clearInterval(this.slideshowInterval)),this.slideIndex+=1,this._showSlide()}_showSlide(){this.slideIndex>this.slides.length&&(this.slideIndex=1),this.slideIndex<1&&(this.slideIndex=this.slides.length),this.slides.forEach(t=>t.style.display="none"),this.slides[this.slideIndex-1].style.display="block",this.dataset.slideIndex=this.slideIndex}_startSlideshow(){if(this.hasAttribute("autoplay")&&!this.isPaused){let t=parseInt(this.getAttribute("autoplay-interval"))||5e3;this.slideshowInterval=setInterval(()=>this._nextSlide(),t)}this._showSlide()}_handleVisibilityChange(){document.hidden?(this.isPaused=!0,clearInterval(this.slideshowInterval)):(this.isPaused=!1,this._startSlideshow())}_applyStyle(){let t=`
      wc-slideshow {
        display: contents;
      }
      .wc-slideshow {

      }
      /* Slideshow container */
      .wc-slideshow.container {
        max-width: 1000px;
        position: relative;
        margin: auto;
      }

      /* Hide the images by default */
      .wc-slideshow .slide {
        display: none;
      }

      /* Next & previous buttons */
      .wc-slideshow .prev,
      .wc-slideshow .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        margin-top: -22px;
        padding: 16px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
      }

      /* Position the "next button" to the right */
      .wc-slideshow .next {
        right: 0;
        border-radius: 3px 0 0 3px;
      }

      /* On hover, add a black background color with a little bit see-through */
      .wc-slideshow .prev:hover,
      .wc-slideshow .next:hover {
        background-color: rgba(0,0,0,0.8);
      }

      .wc-slideshow .active {
        background-color: #717171;
      }

      /* Fading animation */
      .wc-slideshow .fade {
        animation-name: slideshow-fade;
        animation-duration: 1.5s;
      }

      @keyframes slideshow-fade {
        from {
          opacity: .4;
        }
        to {
          opacity: 1;
        }
      }
`.trim();this.loadStyle("wc-slideshow-style",t)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-slideshow:next",this._handleNext.bind(this)),document.body.addEventListener("wc-slideshow:prev",this._handlePrev.bind(this)),document.body.addEventListener("wc-slideshow:start",this._handleStart.bind(this)),document.body.addEventListener("wc-slideshow:stop",this._handleStop.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-slideshow:next",this._handleNext.bind(this)),document.body.removeEventListener("wc-slideshow:prev",this._handlePrev.bind(this)),document.body.removeEventListener("wc-slideshow:start",this._handleStart.bind(this)),document.body.removeEventListener("wc-slideshow:stop",this._handleStop.bind(this));let t=this.querySelector(".prev"),e=this.querySelector(".next");t.removeEventListener("click",this._prevSlide.bind(this)),e.removeEventListener("click",this._nextSlide.bind(this)),document.removeEventListener("visibilitychange",this._handleVisibilityChange.bind(this))}};customElements.define("wc-slideshow",V);var ee=class extends p{static get observedAttributes(){return["id","class","label","active"]}constructor(){super();let t=this.querySelector(".wc-tab-item");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-tab-item"),this.appendChild(this.componentElement)),console.log("ctor:wc-tab-item")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-tab-item")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="test"||super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-tab-item > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-tab-item")}_createInnerElement(){Array.from(this.children).filter(e=>!e.matches("wc-tab-item")&&!e.matches(".wc-tab-item")).forEach(e=>{this.componentElement.appendChild(e)})}_applyStyle(){let t=`
      wc-tab-item {
        display: contents;
      }
      .wc-tab-item {
        display: flex;
        flex-direction: column;
        flex: 1 1 0%;
        min-height: 0;
        position: relative;
      }
    `.trim();this.loadStyle("wc-tab-item-style",t)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-tab-item",ee);var te=class extends p{static get observedAttributes(){return["id","class","animate","vertical"]}constructor(){super(),this.childComponentSelector="wc-tab-item";let t=this.querySelector(".wc-tab");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-tab"),this.appendChild(this.componentElement)),console.log("ctor:wc-tab")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-tab")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="animate"||t==="vertical"||super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-tab > *")?this.querySelectorAll(".tab-link").forEach(o=>o.addEventListener("click",this._handleClick.bind(this))):(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),setTimeout(()=>{location.hash.slice(1).split("+").forEach(o=>{this.querySelector(`button[data-label="${decodeURI(o)}"]`)?.click()})},100),console.log("_render:wc-tab")}_createInnerElement(){let t=document.createElement("div");t.classList.add("tab-nav");let e=document.createElement("div");e.classList.add("tab-body");let o=Array.from(this.children).filter(n=>!n.matches("wc-tab")&&!n.matches(".wc-tab"));o.forEach((n,i)=>{let s=n.querySelector(".wc-tab-item"),r=document.createElement("button");r.type="button",r.classList.add("tab-link"),r.addEventListener("click",this._handleClick.bind(this)),s?.classList.contains("active")&&r.classList.add("active"),r.textContent=n.getAttribute("label")||`Label ${i+1}`,r.dataset.label=n.getAttribute("label")||`Label ${i+1}`,t.appendChild(r)}),o.forEach(n=>{e.appendChild(n)}),this.componentElement.appendChild(t),this.componentElement.appendChild(e)}_handleHelper(t,e="click"){let{detail:o}=t,{selector:n,subSelector:i}=o,s=Array.isArray(n);typeof n=="string"||s?document.querySelectorAll(n).forEach(a=>{a===this&&e==="click"&&this.querySelector(i)?.click()}):n===this&&e==="click"&&this.querySelector(i)?.click()}_handleOnClick(t){this._handleHelper(t,"click")}_handleClick(t){t.stopPropagation(),t.preventDefault();let{target:e}=t;e.closest(".wc-tab").querySelectorAll(".active").forEach(c=>{c.closest("wc-tab")==this&&c.classList.remove("active")}),e.classList.add("active");let i=e.textContent,s=this.querySelector(`.wc-tab-item[label='${i}']`);s.classList.add("active");let r={detail:{label:i}},a=new CustomEvent("tabchange",r);s.dispatchEvent(a),location.hash=this._buildActiveTabStringFromRoot(e)}_buildActiveTabStringFromRoot(t){function e(s){let r=s.closest("wc-tab"),a=r;for(;r;){let c=r.parentElement?.closest("wc-tab");if(!c){a=r;break}r=c}return a}function o(s){let r=[],a=s.querySelector(":scope > .wc-tab > .tab-nav");if(a){let d=Array.from(a.querySelectorAll(":scope > button.active"));for(let h of d)r.push(h.textContent.trim())}let c=Array.from(s.querySelectorAll(":scope > .wc-tab > .tab-body > wc-tab-item > .wc-tab-item.active > wc-tab"));for(let d of c)r=r.concat(o(d));return r}let n=e(t);return n?o(n).join("+"):""}_applyStyle(){let t=`
      wc-tab {
        display: contents;
      }
      wc-tab .wc-tab {
        position: relative;
        overflow: hidden;
      }
      wc-tab[vertical] .wc-tab {
        display: flex;
        flex-direction: row;
      }
      wc-tab .wc-tab .tab-nav {
        position: relative;
        display: flex;
        flex-direction: row;
        overflow: hidden;
      }
      wc-tab[vertical] .wc-tab .tab-nav {
        flex-direction: column;
        overflow: initial;
        border-right: none;
      }
      wc-tab .wc-tab .tab-nav .tab-link {
        background-color: transparent;
        border: none;
        border-bottom: 1px solid var(--card-bg-color);
        border-radius: 0;
        outline: none;
        cursor: pointer;
        padding: 10px 16px;
        user-select: none;
        transition: 0.3s;
      }
      wc-tab .wc-tab .tab-nav .tab-link.active,
      wc-tab .wc-tab .tab-nav .tab-link:hover {
        border-top-left-radius: .5rem;
        border-top-right-radius: .5rem;
        border-bottom: 1px solid var(--card-bg-color);
        background-color: var(--card-bg-color);
      }

      wc-tab .wc-tab .tab-body {
        display: flex;
        flex-direction: column;
        flex: 1 1 0%;
        min-height: 0;
        background-color: var(--card-bg-color);
      }
      wc-tab[vertical] .wc-tab .tab-body {
        border-top: 1px solid var(--card-border-color);
      }
      wc-tab .wc-tab .tab-body wc-tab-item .wc-tab-item {
        display: none;
      }
      wc-tab[animate] .wc-tab .tab-body wc-tab-item .wc-tab-item {
        animation: tab-fade 1s;
      }
      wc-tab .wc-tab .tab-body wc-tab-item .wc-tab-item.active {
        display: block;
      }

      /* Add styling for nested tabs */
      wc-tab .wc-tab .tab-body wc-tab {
        margin-top: 1rem;
      }
      
      @keyframes tab-fade {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    `.trim();this.loadStyle("wc-tab-style",t)}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-tab:click",this._handleOnClick.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-tab:click",this._handleOnClick.bind(this)),this.querySelectorAll(".tab-link").forEach(e=>e.removeEventListener("click",this._handleClick.bind(this)))}};customElements.define("wc-tab",te);if(!customElements.get("wc-tabulator-column")){class l extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-tabulator-column",l)}if(!customElements.get("wc-tabulator-func")){class l extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-tabulator-func",l)}if(!customElements.get("wc-tabulator-row-menu")){class l extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){}}customElements.define("wc-tabulator-row-menu",l)}if(!customElements.get("wc-tabulator")){class l extends p{static get observedAttributes(){return["id","class"]}icons={eye:{viewport:"0 0 640 512",d:"M117.2 136C160.3 96 217.6 64 288 64s127.7 32 170.8 72c43.1 40 71.9 88 85.2 120c-13.3 32-42.1 80-85.2 120c-43.1 40-100.4 72-170.8 72s-127.7-32-170.8-72C74.1 336 45.3 288 32 256c13.3-32 42.1-80 85.2-120zM288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM192 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"},eyeSlash:{viewport:"0 0 640 512",d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"},square:{viewport:"0 0 448 512",d:"M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"},squareCheck:{viewport:"0 0 448 512",d:"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"},remove:{viewport:"0 0 448 512",d:"M177.1 48l93.7 0c2.7 0 5.2 1.3 6.7 3.6l19 28.4-145 0 19-28.4c1.5-2.2 4-3.6 6.7-3.6zM354.2 80L317.5 24.9C307.1 9.4 289.6 0 270.9 0L177.1 0c-18.7 0-36.2 9.4-46.6 24.9L93.8 80 80.1 80 32 80l-8 0C10.7 80 0 90.7 0 104s10.7 24 24 24l11.6 0L59.6 452.7c2.5 33.4 30.3 59.3 63.8 59.3l201.1 0c33.5 0 61.3-25.9 63.8-59.3L412.4 128l11.6 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-8 0-48.1 0-13.7 0zm10.1 48L340.5 449.2c-.6 8.4-7.6 14.8-16 14.8l-201.1 0c-8.4 0-15.3-6.5-16-14.8L83.7 128l280.6 0z"},clone:{viewport:"0 0 512 512",d:"M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z"},check:{viewport:"0 0 448 512",d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},checkDouble:{viewport:"0 0 448 512",d:"M337 81c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-143 143L97 127c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l80 80c9.4 9.4 24.6 9.4 33.9 0L337 81zM441 201c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-247 247L41 295c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L143 465c9.4 9.4 24.6 9.4 33.9 0L441 201z"},listCheck:{viewport:"0 0 512 512",d:"M156.3 58.2c5.7-6.8 4.7-16.9-2-22.5s-16.9-4.7-22.5 2L62.9 120.3 27.3 84.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l48 48c3.2 3.2 7.5 4.9 12 4.7s8.7-2.3 11.6-5.7l80-96zm0 160c5.7-6.8 4.7-16.9-2-22.5s-16.9-4.7-22.5 2L62.9 280.3 27.3 244.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l48 48c3.2 3.2 7.5 4.9 12 4.7s8.7-2.3 11.6-5.7l80-96zM192 96c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L208 80c-8.8 0-16 7.2-16 16zm0 160c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-288 0c-8.8 0-16 7.2-16 16zM160 416c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-320 0c-8.8 0-16 7.2-16 16zm-64 0a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"},list:{viewport:"0 0 512 512",d:"M40 48C26.7 48 16 58.7 16 72l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24L40 48zM184 72c-13.3 0-24 10.7-24 24s10.7 24 24 24l304 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L184 72zm0 160c-13.3 0-24 10.7-24 24s10.7 24 24 24l304 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-304 0zm0 160c-13.3 0-24 10.7-24 24s10.7 24 24 24l304 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-304 0zM16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0z"},xmark:{viewport:"0 0 384 512",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},download:{viewport:"0 0 512 512",d:"M280 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 270.1-95-95c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L239 369c9.4 9.4 24.6 9.4 33.9 0L409 233c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95L280 24zM128.8 304L64 304c-35.3 0-64 28.7-64 64l0 80c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-80c0-35.3-28.7-64-64-64l-64.8 0-48 48L448 352c8.8 0 16 7.2 16 16l0 80c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-80c0-8.8 7.2-16 16-16l112.8 0-48-48zM432 408a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"}};funcs={};rowMenus=[];rowMenu=[{label:this.createMenuLabel("Select All Rows",this.icons.listCheck),action:(e,o)=>{o.getTable().selectRow()}},{label:this.createMenuLabel("Un-Select Rows",this.icons.list),action:(e,o)=>{o.getTable().deselectRow()}},{label:this.createMenuLabel("Select Row",this.icons.check),action:(e,o)=>{o.select()}},{label:this.createMenuLabel("Un-Select Row",this.icons.xmark),action:(e,o)=>{o.deselect()}},{separator:!0},{label:this.createMenuLabel("Delete Row",this.icons.remove),action:(e,o)=>{console.log("Deleting row..."),wc.Prompt.question({title:"Are you sure?",text:"This record will be deleted. Are you sure?",callback:n=>{this.funcs.onDelete&&this.funcs.onDelete(o,n)}})}},{label:this.createMenuLabel("Clone Row",this.icons.clone),action:(e,o)=>{let n={title:"Clone Record(s)",icon:"info",focusConfirm:!1,template:"template#clone-template",didOpen:()=>{let i=document.querySelector(".swal2-container");i&&(htmx.process(i),_hyperscript.processNode(i))},callback:i=>{this.funcs.onClone&&this.funcs.onClone(o,i)}};wc.Prompt.fire(n)}},{separator:!0},{label:this.createMenuLabel("Download Table",this.icons.download),action:(e,o)=>{console.log("Download row..."),wc.Prompt.notify({icon:"info",title:"Download Format?",text:"Please select the format:",input:"select",inputPlaceholder:"Select a format",inputOptions:{csv:"CSV",json:"JSON",html:"HTML",pdf:"PDF",xlsx:"XLSX"},callback:n=>{let i=o.getTable();switch(n){case"csv":i.download("csv","data.csv");break;case"json":i.download("json","data.json");break;case"html":i.download("html","data.html");break;case"pdf":i.download("pdf","data.pdf");break;case"xlsx":i.download("xlsx","data.xlsx",{});break}wc.Prompt.toast({title:"Download in progress...",type:"success"})}})}}];constructor(){super(),this.table=null,this._internals=this.attachInternals();let e=this.querySelector(".wc-tabulator");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-tabulator"),this.componentElement.id=this.getAttribute("id")||"wc-tabulator",this.appendChild(this.componentElement)),console.log("ctor:wc-tabulator")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("conntectedCallback:wc-tabulator")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}async _handleAttributeChange(e,o){super._handleAttributeChange(e,o)}_render(){super._render(),this.querySelector(".wc-tabulator > *")||(this.componentElement.innerHTML="",this._createInnerElement()),console.log("_render:wc-tabulator")}async _createInnerElement(){let e=this.hasAttribute("pagination"),o=this.getAttribute("pagination-size"),n=this.getAttribute("pagination-counter"),i=this.getAttribute("movable-columns"),s=this.getAttribute("resizable-columns"),r=this.getAttribute("resizable-column-guide"),a=this.getAttribute("movable-rows"),c=this.getAttribute("row-header"),d=this.getAttribute("row-height"),h=this.getAttribute("row-formatter"),m=this.getAttribute("resizable-rows"),u=this.getAttribute("resizable-row-guide"),w=this.getAttribute("frozen-rows"),b=this.getAttribute("persistence"),y=this.getAttribute("header-visible"),E=this.getAttribute("row-context-menu"),x=this.getAttribute("placeholder"),k=this.getAttribute("selectable-rows"),C=this.getAttribute("col-field-formatter")||"{}",T=this.getAttribute("responsive-layout"),M=this.getAttribute("group-by"),q=this.getAttribute("initial-filter"),I=this.getAttribute("initial-sort"),W=this.getAttribute("row-click"),$=this.getAttribute("row-selected"),j=this.getAttribute("row-deselected");if(C){let v=JSON.parse(C);v&&v.params&&v.params.url&&(v.params.url=this.resolveFormatter(v.params,v.params.url)),v&&v.formatter&&v.params&&(v.formatter=this.resolveFormatter(v.params,v.formatter)),this.colFieldFormatter=v}this.getFuncs(),this.getRowMenu();let f={columns:this.getColumnsConfig(),layout:this.getAttribute("layout")||"fitData",filterMode:"remote",sortMode:"remote",ajaxURL:this.getAttribute("ajax-url")||"",ajaxURLGenerator:this.getAjaxURLGenerator.bind(this),ajaxConfig:this.getAjaxConfig(),ajaxResponse:this.handleAjaxResponse.bind(this)};if(e&&(f.pagination=e),f.pagination&&(f.paginationMode="remote",o?f.paginationSize=parseInt(o)||10:f.paginationSize=10),n&&(f.paginationCounter=n),i&&(f.movableColumns=i.toLowerCase()=="true"),s&&(f.resizableColumns=s.toLowerCase()=="true"),r&&(f.resizableColumnGuide=r.toLowerCase()=="true"),a&&(f.movableRows=a.toLowerCase()=="true"),c){let v=JSON.parse(c);v.cellClick&&(v.cellClick=this.resolveFunc(v.cellClick),f.rowHeader=v)}h&&(f.rowFormatter=this.resolveRowFormatter(h)),d&&(f.rowHeight=parseInt(d)),m&&(f.resizableRows=m.toLowerCase()=="true"),u&&(f.resizableRowGuide=u.toLowerCase()=="true"),w&&(f.frozenRows=parseInt(w)),b&&(f.persistence=b.toLowerCase()=="true"),f.persistence&&(f.persistenceID=container.id),y&&(f.headerVisible=y.toLowerCase()=="true"),E&&E=="rowContextMenu"&&(f.rowContextMenu=this.rowMenu),x&&(f.placeholder=x),k&&(isNaN(parseInt(k))?f.selectableRows=k.toLowerCase()=="true":f.selectableRows=parseInt(k)),M&&(f.groupBy=M),T&&(f.responsiveLayout=T),q&&(f.initialFilter=JSON.parse(q),this.initialFilter=f.initialFilter),I&&(f.initialSort=JSON.parse(I),this.initialSort=f.initialSort),W&&(this.rowClick=this.resolveFunc(W)),$&&(this.rowSelected=this.resolveFunc($)),j&&(this.rowDeselected=this.resolveFunc(j)),await this.renderTabulator(f)}async renderTabulator(e){await Promise.all([this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"),this.loadScript("https://unpkg.com/jspdf-autotable@3.8.4/dist/jspdf.plugin.autotable.js"),this.loadScript("https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js"),this.loadScript("https://cdn.jsdelivr.net/npm/luxon@2.3.1/build/global/luxon.min.js"),this.loadCSS("https://unpkg.com/tabulator-tables@6.3.0/dist/css/tabulator.min.css"),this.loadLibrary("https://unpkg.com/tabulator-tables@6.3.0/dist/js/tabulator.min.js","Tabulator")]),this.table=new Tabulator(this.componentElement,e),this.table.on("tableBuilt",async()=>{console.log("wc-tabulator:tableBuilt - broadcasting wc-tabulator:ready"),"onInit"in this.funcs&&this.funcs.onInit(this.table),wc.EventHub.broadcast("wc-tabulator:ready",[],""),wc.EventHub.broadcast("wc-tabulator-ready",[],""),typeof htmx<"u"&&(await z(1e3),htmx.process(this))}),"onCellEdited"in this.funcs&&this.table.on("cellEdited",this.funcs.onCellEdited.bind(this)),"onCellDblClick"in this.funcs&&this.table.on("cellDblClick",this.funcs.onCellDblClick.bind(this)),this.rowClick&&this.table.on("rowClick",this.rowClick.bind(this)),this.rowSelected&&this.table.on("rowSelected",this.rowSelected.bind(this)),this.rowDeselected&&this.table.on("rowDeselected",this.rowDeselected.bind(this)),this.table.on("pageLoaded",n=>{typeof htmx<"u"&&setTimeout(()=>{htmx.process(this)},10)});let o=!1;this.table.on("dataFiltering",n=>{console.log("dataFiltering",n)})}getFuncs(){this.querySelectorAll("wc-tabulator-func").forEach(o=>{let n=o.getAttribute("name"),i=o.textContent,s=new Function(`return (${i})`)();this.funcs[n]=s,o.innerHTML=""})}getRowMenu(){this.querySelectorAll("wc-tabulator-row-menu").forEach(o=>{let n=o.getAttribute("order"),i=o.hasAttribute("separator"),s={};if(i)s={separator:!0,order:n};else{let r=o.getAttribute("label"),a=o.getAttribute("icon"),c=o.textContent,d=new Function(`return (${c})`)();s={label:this.createMenuLabel(r,this.icons[a]),action:d,order:n}}o.innerHTML="",this.rowMenus.push(s)}),this.rowMenus.forEach(o=>{o.order!==null&&!isNaN(o.order)&&o.order>=0?this.rowMenu.splice(o.order,0,o):this.rowMenu.push(o)})}getColumnsConfig(){let e=[];return this.querySelectorAll("wc-tabulator-column").forEach(n=>{let i=n.getAttribute("field"),s=n.getAttribute("title")||i,r=n.getAttribute("width"),a=n.getAttribute("width-grow"),c=n.getAttribute("width-shrink"),d=n.getAttribute("min-width"),h=n.getAttribute("max-width"),m=n.getAttribute("max-initial-width"),u=n.getAttribute("resizable"),w=n.getAttribute("editable"),b=n.getAttribute("frozen"),y=n.getAttribute("responsive"),E=n.getAttribute("tooltip"),x=n.getAttribute("css-class"),k=n.getAttribute("row-handle"),C=n.getAttribute("html-output"),T=n.getAttribute("print"),M=n.getAttribute("clipboard"),q=n.getAttribute("title-formatter"),I=n.getAttribute("formatter"),W=n.getAttribute("formatter-params"),$=n.getAttribute("hoz-align"),j=n.getAttribute("vert-align")||"middle",f=n.getAttribute("header-hoz-align"),v=n.getAttribute("visible"),he=n.getAttribute("header-sort"),pe=n.getAttribute("header-sort-starting-dir"),ue=n.getAttribute("header-sort-tristate"),me=n.getAttribute("sorter"),be=n.getAttribute("sorter-params"),ge=n.getAttribute("header-filter"),we=n.getAttribute("header-filter-params"),fe=n.getAttribute("header-filter-placeholder"),ve=n.getAttribute("header-filter-func"),ye=n.getAttribute("header-menu"),B=n.getAttribute("editor"),Ee=n.getAttribute("editor-params"),xe=n.getAttribute("cell-click"),ke=n.getAttribute("bottom-calc"),Ce=n.getAttribute("bottom-calc-params"),_e=n.getAttribute("top-calc"),Ae=n.getAttribute("top-calc-params"),g={field:i,title:s};if(r&&(g.width=r),a&&(g.widthGrow=parseInt(a)),c&&(g.widthShrink=parseInt(c)),d&&(g.minWidth=d),h&&(g.maxWidth=h),m&&(g.maxInitialWidth=m),u&&(g.resizable=u.toLowerCase()=="true"),w&&(g.editable=w.toLowerCase()=="true"),w&&(w.toLowerCase()=="true"||w.toLowerCase()=="false"?g.editable=w.toLowerCase()=="true":g.editable=this.resolveFunc(w)),b&&(g.frozen=b.toLowerCase()=="true"),y&&(g.responsive=parseInt(y)),E&&(g.tooltip=E),x&&(g.cssClass=x),k&&(g.rowHandle=k.toLowerCase()=="true"),C&&(g.htmlOutput=C),T&&(g.print=T.toLowerCase()=="true"),M&&(g.clipboard=M.toLowerCase()=="true"),he&&(g.headerSort=he.toLowerCase()=="true"),pe&&(g.headerSortStartingDir=pe),ue&&(g.headerSortTristate=ue.toLowerCase()=="true"),ge&&(g.headerFilter=ge),we&&(g.headerFilterParams=JSON.parse(we)),fe&&(g.headerFilterPlaceholder=fe),ve&&(g.headerFilterFunc=ve),ye&&ye=="headerMenu"&&(g.headerMenu=this.headerMenu.bind(this)),B&&(B=="dateEditor"?g.editor=this.dateEditor.bind(this):g.editor=B),Ee&&(g.editorParams=JSON.parse(Ee)),xe&&(g.cellClick=this.resolveFunc(xe)),q&&(g.titleFormatter=q),I?g.formatter=this.resolveCellFormatter(I):i&&this.colFieldFormatter?.cols?.includes(i)&&(g.formatter=this.colFieldFormatter.formatter),W){let D=JSON.parse(W);D&&D.url&&(D.url=this.resolveFormatter(D,D.url)),g.formatterParams=D}else i&&this.colFieldFormatter?.cols?.includes(i)&&(g.formatterParams=this.colFieldFormatter.params);$&&(g.hozAlign=$),j&&(g.vertAlign=j),f&&(g.headerHozAlign=f),v&&(g.visible=v.toLowerCase()=="true"),me&&(g.sorter=me),be&&(g.sorterParams=JSON.parse(be)),ke&&(g.bottomCalc=ke),Ce&&(g.bottomCalcParams=JSON.parse(Ce)),_e&&(g.topCalc=_e),Ae&&(g.topCalcParams=JSON.parse(Ae)),e.push(g)}),e}resolveRowFormatter(e){try{if(e)return e.startsWith("function")?new Function("row",`return (${e})(row);`):this[e]?this[e].bind(this):window[e]?window[e]:e}catch(o){return console.error(`Error resolving row formatter: ${o.message}`),null}}resolveFunc(e){try{return e.startsWith("function")?new Function(`return (${e})`)():e.includes("=>")?new Function(`return (${e})`)():this[e]?this[e]:window[e]?window[e]:(console.warn(`Func "${e}" not found.`),null)}catch(o){return console.error(`Error resolving func: ${o.message}`),null}}resolveFormatter(e,o){try{return o.startsWith("function")?new Function(`return (${o})`)(e):this[o]?this[o].bind(this):window[o]?window[o]:(console.warn(`Formatter "${o}" not found.`),null)}catch(n){return console.error(`Error resolving formatter: ${n.message}`),null}}pageRowNum=function(e,o,n){var i=e.getRow(),s=e.getTable(),r=s.getPage()||1,a=s.getPageSize(),c=i.getPosition(!0);return(r-1)*a+c};resolveCellFormatter(e){try{if(e)return e.startsWith("function")?new Function("cell",`return (${e})(cell);`):this[e]?this[e].bind(this):window[e]?window[e]:e}catch(o){return console.error(`Error resolving formatter: ${o.message}`),null}}urlFormatter(e,o,n){let i=e.getColumn().getDefinition().formatterParams.routePrefix||"screen",s=e.getColumn().getDefinition().formatterParams.screen,r=e.getColumn().getDefinition().formatterParams.screen_id,a=e.getColumn().getDefinition().formatterParams.id_name,d=e.getData()._id,h="";return s?h=`/${i}/${s}/${d}`:h=`/${i}/${r}?${a}=${d}`,h}linkFormatter(e,o,n){var i=e.getValue(),s=document.createElement("a");let r=e.getColumn().getDefinition().formatterParams.routePrefix||"screen",a=e.getColumn().getDefinition().formatterParams.screen,c=e.getColumn().getDefinition().formatterParams.screen_id,d=e.getColumn().getDefinition().formatterParams.id_name,m=e.getData()._id,u="";return a?u=`/${r}/${a}/${m}`:u=`/${r}/${c}?${d}=${m}`,s.setAttribute("href",u),o.target&&s.setAttribute("target",o.target),s.innerText=o.labelField?e.getData()[o.labelField]:i,o.attributes&&typeof o.attributes=="object"&&Object.entries(o.attributes).forEach(([w,b])=>{s.setAttribute(w,b)}),s}toggleSelect(e,o){o.getRow().toggleSelect()}headerMenu(){var e=[],o=this.table.getColumns();let n=this.createMenuLabel("Hide Filter",this.icons.eyeSlash);e.push({label:n,action:async s=>{let r=[],a=this.table.getColumns();s.stopPropagation();for(let c of a)await c.updateDefinition({headerFilter:!1})}});let i=this.createMenuLabel("Show Filter",this.icons.eye);e.push({label:i,action:s=>{let r=this.getColumnsConfig();s.stopPropagation(),this.table.setColumns(r)}}),e.push({separator:!0});for(let s of o){let r=this.createHeaderMenuIcon(s,this.icons.square,this.icons.squareCheck),a=document.createElement("span");a.classList.add("flex"),a.classList.add("flex-row"),a.classList.add("gap-2");let c=document.createElement("span");c.textContent=" "+s.getDefinition().title,c.textContent=c.textContent.replace("null","").replace("undefined",""),c.classList.add("pointer-events-none"),a.appendChild(r),a.appendChild(c),e.push({label:a,action:d=>{let{target:h}=d;d.stopPropagation(),s.toggle();let m=h.querySelector("path");m.setAttribute("d",s.isVisible()?this.icons.squareCheck.d:this.icons.square.d),m.classList.add("pointer-events-none"),this.table.redraw()}})}return e}createHeaderMenuIcon(e){let o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("aria-hidden","true"),o.setAttribute("focusable","false"),o.setAttribute("fill","currentColor"),o.classList.add("h-4"),o.classList.add("w-4"),o.classList.add("align-text-top"),o.classList.add("pointer-events-none"),o.setAttribute("viewBox",this.icons.square.viewport);let n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e.isVisible()?this.icons.squareCheck.d:this.icons.square.d),n.classList.add("pointer-events-none"),o.appendChild(n),o}createMenuLabel(e,o){let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("aria-hidden","true"),n.setAttribute("focusable","false"),n.setAttribute("fill","currentColor"),n.classList.add("h-4"),n.classList.add("w-4"),n.classList.add("align-text-top"),n.classList.add("pointer-events-none"),n.setAttribute("viewBox",o.viewport);let i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",o.d),i.classList.add("pointer-events-none"),n.appendChild(i);let s=document.createElement("span");s.classList.add("flex"),s.classList.add("flex-row"),s.classList.add("gap-2");let r=document.createElement("span");return r.textContent=" "+e,r.classList.add("pointer-events-none"),s.appendChild(n),s.appendChild(r),s}localdatetime(e,o,n){let{format:i}=o,s=e.getValue();if(!s)return"";let r=luxon.DateTime.DATETIME_MED;switch(i){case"DATE_SHORT":r=luxon.DateTime.DATE_SHORT;break;case"DATE_MED":r=luxon.DateTime.DATE_MED;break;case"DATE_MED_WITH_WEEKDAY":r=luxon.DateTime.DATE_MED_WITH_WEEKDAY;break;case"DATE_FULL":r=luxon.DateTime.DATE_FULL;break;case"DATE_HUGE":r=luxon.DateTime.DATE_HUGE;break;case"DATETIME_SHORT":r=luxon.DateTime.DATETIME_SHORT;break;case"DATETIME_STANDARD":r={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};break;case"DATETIME_SHORT_WITH_SECONDS":r=luxon.DateTime.DATETIME_SHORT_WITH_SECONDS;break;case"DATETIME_MED":r=luxon.DateTime.DATETIME_MED;break;case"DATETIME_MED_WITH_SECONDS":r=luxon.DateTime.DATETIME_MED_WITH_SECONDS;break;case"DATETIME_MED_WITH_WEEKDAY":r=luxon.DateTime.DATETIME_MED_WITH_WEEKDAY;break;case"DATETIME_FULL":r=luxon.DateTime.DATETIME_FULL;break;case"DATETIME_FULL_WITH_SECONDS":r=luxon.DateTime.DATETIME_FULL_WITH_SECONDS;break;case"DATETIME_HUGE":r=luxon.DateTime.DATETIME_HUGE;break;case"DATETIME_HUGE_WITH_SECONDS":r=luxon.DateTime.DATETIME_HUGE_WITH_SECONDS;break}let a=new Date(s);return isNaN(a)?"(Invalid Date)":luxon.DateTime.fromISO(s,{zone:"utc"}).setZone("America/New_York").toLocaleString(r)}linklocaldatetime(e,o,n){let i=this.urlFormatter(e,o,n),s=this.localdatetime(e,o,n);return`<a href="${i}">${s}</a>`}dateEditor(e,o,n,i){var s=luxon.DateTime.fromFormat(e.getValue(),"dd/MM/yyyy").toFormat("yyyy-MM-dd");input=document.createElement("input"),input.setAttribute("type","date"),input.style.padding="4px",input.style.width="100%",input.style.boxSizing="border-box",input.value=s,o(function(){input.focus(),input.style.height="100%"});function r(){input.value!=s?n(luxon.DateTime.fromFormat(input.value,"yyyy-MM-dd").toFormat("dd/MM/yyyy")):i()}return input.addEventListener("blur",r),input.addEventListener("keydown",function(a){a.keyCode==13&&r(),a.keyCode==27&&i()}),input}getAjaxConfig(){return{method:"GET",headers:{"Content-Type":"application/json"}}}getAjaxURLGenerator(e,o,n){let i=[],s=JSON.parse(this.getAttribute("ajax-params-map")||"{}");for(let[h,m]of Object.entries(s))i.push(`${m}=${n[h]}`);if(i.length===0){let{page:h,size:m}=n;if(h&&m)i.push(`page=${h}`),i.push(`size=${m}`);else{let u=this.getAttribute("record-size");u&&i.push(`size=${u}`)}}let r=JSON.parse(this.getAttribute("ajax-params")||"{}");for(let[h,m]of Object.entries(r))i.push(`${h}=${m}`);let{filter:a}=n;if(a&&a.length>0){let h=this.dedupeByField(a);i.push(`filter=${JSON.stringify(h)}`)}let{sort:c}=n;c&&c.length>0&&i.push(`sort=${JSON.stringify(c)}`);let d=i.join("&");return e.includes("?")?e+`&${d}`:e+`?${d}`}dedupeByField(e){let o=new Set;return e.filter(n=>o.has(n.field)?!1:(o.add(n.field),!0))}handleAjaxResponse(e,o,n){let{results:i}=n;if(this.hasAttribute("pagination")){let{data:s,last_page:r,last_row:a}=n;return s==null&&r===0?{last_page:0,last_row:0,data:[]}:s&&r&&a?{last_page:r,last_row:a,data:s}:{last_page:10,data:i}}else return i}_applyStyle(){this.loadStyle("wc-tabulator-style",`
  /* Tabulator */
  wc-tabulator {
    display: contents;
  }
  .wc-tabulator.tabulator {
    background-color: var(--card-bg-color);
    border: 1px solid var(--card-border-color);
  }
  .wc-tabulator.tabulator.rounded {
    border-radius: 10px;
  }

  /* Table Header */
  .wc-tabulator.tabulator .tabulator-header {
    border-bottom: none;
  }
  .wc-tabulator.tabulator .tabulator-header,
  .wc-tabulator.tabulator .tabulator-header .tabulator-col {
    color: var(--card-color);
    background-color: var(--card-border-color);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-col:not(:last-of-type) {
    border-right: 1px solid var(--text-3);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-col:last-of-type {
    border-right: 1px solid transparent;
  }
  /*Allow column header names to wrap lines*/
  .wc-tabulator.tabulator .tabulator-header .tabulator-col,
  .wc-tabulator.tabulator .tabulator-header .tabulator-col-row-handle {
    white-space: normal;
  }
  .wc-tabulator.tabulator .tabulator-header input,
  .wc-tabulator.tabulator .tabulator-row .tabulator-cell input {
    accent-color: var(--accent-color);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers .tabulator-col:hover {
    background-color: var(--primary-bg-color);
    color: var(--surface-1);
  }
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers .tabulator-col:hover input {
    color: var(--component-color);
  }

  /* Table Rows */
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd .tabulator-cell.tabulator-row-header.tabulator-row-handle,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd {
    color: var(--text-1);
    background-color: var(--card-bg-color);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even .tabulator-cell.tabulator-row-header.tabulator-row-handle,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even {
    color: var(--text-1);
    background-color: var(--surface-5);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd .tabulator-cell.tabulator-row-header.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even .tabulator-cell.tabulator-row-header.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar {
    background: var(--text-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row .tabulator-cell.tabulator-row-header.tabulator-row-handle {
      border-bottom: none;
  }
  .wc-tabulator .tabulator-row .tabulator-cell a {
    color: var(--text-1);
    text-decoration: underline;
    text-decoration-color: var(--text-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd.tabulator-selected,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even.tabulator-selected {
    background-color: var(--primary-bg-color);
    color: var(--surface-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd:hover:not(.tabulator-selected),
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even:hover:not(.tabulator-selected) 
  {
    background-color: var(--primary-bg-color);
    color: var(--surface-1);
  }
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-odd:hover:not(.tabulator-selected) a,
  .wc-tabulator.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-even:hover:not(.tabulator-selected) a 
  {
    color: var(--surface-1);
    text-decoration-color: var(--surface-1);
  }
  .wc-tabulator.tabulator.tabulator-block-select .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-row-placeholder {
    background-color: var(--secondary-bg-color);
  }
  .wc-tabulator .tabulator-row .tabulator-cell {
    border-right: 1px solid var(--text-3);
  }
  .wc-tabulator .tabulator-row .tabulator-cell:last-child {
    border-right: 1px solid transparent;
  }
  /*
  .wc-tabulator .tabulator-tableholder .tabulator-row .tabulator-cell {
    border-right: 1px solid var(--text-3);
  }
  */
  .wc-tabulator .tabulator-tableholder .tabulator-row .tabulator-cell:last-of-type {
    border-right: 1px solid transparent;
  }    

  /* Table Footer */
  .wc-tabulator.tabulator .tabulator-footer {
    border-top: none;
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents {
    color: var(--card-color);
    background-color: var(--card-border-color);
    border-top: 1px solid var(--text-3);
    border-top: 1px solid transparent;
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents .tabulator-page {
    color: var(--card-color);
    background-color: var(--card-border-color);
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents .tabulator-page.active {
    color: var(--card-color);
    background-color: var(--card-border-color);
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-footer-contents .tabulator-page[disabled] {
    pointer-events: none;
  }

  /* Table Groups */
  .wc-tabulator.tabulator .tabulator-row.tabulator-group > span {
    color: var(--card-color);  
  }

  /* Table Calcs */
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-top,
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-bottom {
    color: var(--card-color) !important;
    background-color: var(--card-border-color) !important;

    /*
    border-color: var(--component-border-color);
    border-top: 1px solid var(--component-border-color);
    border-bottom: 1px solid var(--component-border-color);
    */
  } 
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs,
  .wc-tabulator.tabulator .tabulator-header .tabulator-header-contents .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-top {
    border-top: 1px solid var(--text-3);
    border-bottom: 1px solid var(--text-3);
  }
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder,
  .wc-tabulator.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row.tabulator-calcs.tabulator-calcs-bottom {
    border-top: 1px solid var(--text-3);
    border-bottom: 1px solid transparent;
  }

  
  .wc-tabulator.tabulator .tabulator-row.tabulator-unselectable.tabulator-calcs.tabulator-calcs-top,
  .wc-tabulator.tabulator .tabulator-row.tabulator-unselectable.tabulator-calcs.tabulator-calcs-bottom {
    color: var(--card-color) !important;
    background-color: var(--card-border-color) !important;
    /*
    border-color: var(--component-border-color);
    border-top: 1px solid var(--component-border-color);
    border-bottom: 1px solid var(--component-border-color);
    */
  } 

  /* Table Popup */
  .tabulator-menu.tabulator-popup-container {
    color: var(--text-1);
    background-color: var(--surface-1);
  }
  .tabulator-menu.tabulator-popup-container .tabulator-menu-item:hover {
    color: var(--card-color);
    background-color: var(--card-bg-color);
  }

  /* Tabulator Edit List / Popup Container */
  .tabulator-edit-list.tabulator-popup-container {
    color: var(--text-1);
    background-color: var(--surface-1);
  }
  .tabulator-edit-list-item.tabulator-edit-list-group-level-0 {
    color: var(--text-1);
  }
  .tabulator-edit-list-item.tabulator-edit-list-group-level-0:hover {
    color: var(--card-color);
    background-color: var(--card-bg-color);
  }
      `)}}customElements.define("wc-tabulator",l)}if(!customElements.get("wc-template-preview")){class l extends p{static get observedAttributes(){return[]}constructor(){super(),this.childComponentSelector="wc-input";let e=this.querySelector(".wc-template-preview");if(e)this.componentElement=e;else{this.componentElement=document.createElement("div");let o=this.getAttribute("cls")||"";this.componentElement.className=`wc-template-preview ${o}`,this.appendChild(this.componentElement),this._createElement()}console.log("ctor:wc-template-preview")}async _connectedCallback(){this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-template-preview")}_disconnectedCallback(){this._unWireEvents(),console.log("disconnectedCallback:wc-template-preview")}_createElement(){let e=this.getAttribute("record-id")||"",o=this.getAttribute("slug")||"",n=`<div class="flex flex-row justify-between">
            <wc-input name="preview_toggle" 
              class="row items-center gap-1"
              lbl-label="Preview"
              type="radio"
              radio-group-class="row modern text-2xs"
              value="off"
              >
              <option value="on">Show</option>
              <option value="off">Hide</option>
            </wc-input>
            <wc-input name="drag_toggle" 
              class="row items-center gap-1 hidden"
              lbl-label="Drag n Drop"
              type="radio"
              radio-group-class="row modern text-2xs"
              value="off"
              >
              <option value="on">Enable</option>
              <option value="off">Disable</option>
            </wc-input>
        </div>
      `,i="";e==="create"||e===""?i=`/v/${o}/create`:i=`/v/${o}/${e}`,this.src=i;let s=`${n}
        <iframe class="preview hidden"
                src=""
                style="height: calc(-360px + 100vh);"
                >
        </iframe>
      `.trim();this.componentElement.innerHTML=s}_handleAttributeChange(e,o){super._handleAttributeChange(e,o)}_applyStyle(){let e=`
        wc-template-preview {
          display: contents;
        }
        .wc-template-preview {
        }
      `.trim();this.loadStyle("wc-template-preview-style",e)}_wireEvents(){super._wireEvents();let e=this.querySelector("iframe.preview"),n=this.querySelector('wc-input input[name="preview_toggle"]').closest("wc-input"),s=this.querySelector('wc-input input[name="drag_toggle"]').closest("wc-input");n.addEventListener("change",r=>{let{target:a}=r,c=s.querySelector(".wc-input");a.value==="on"?(e.src=this.src,c.classList.remove("hidden"),this.componentElement.classList.add("col-1"),e.classList.remove("hidden")):(e.src="",c.classList.add("hidden"),this.componentElement.classList.remove("col-1"),e.classList.add("hidden"))}),s.addEventListener("change",r=>{let{target:a}=r;a.value==="on"?(e.contentDocument.body.classList.add("preview-frame"),wc.EventHub.broadcast("wc-template-preview:enable-drag","","")):(e.contentDocument.body.classList.remove("preview-frame"),wc.EventHub.broadcast("wc-template-preview:disable-drag","",""))})}_unWireEvents(){super._unWireEvents();let e=this.querySelector("iframe.preview"),n=this.querySelector('wc-input input[name="preview_toggle"]').closest("wc-input"),s=this.querySelector('wc-input input[name="drag_toggle"]').closest("wc-input");n.removeEventListener("change",r=>{let{target:a}=r,c=s.querySelector(".wc-input");a.value==="on"?(e.src=this.src,c.classList.remove("hidden"),this.componentElement.classList.add("col-1"),e.classList.remove("hidden")):(e.src="",c.classList.add("hidden"),this.componentElement.classList.remove("col-1"),e.classList.add("hidden"))}),s.removeEventListener("change",r=>{let{target:a}=r;a.value==="on"?(e.contentDocument.body.classList.add("preview-frame"),wc.EventHub.broadcast("wc-template-preview:enable-drag","","")):(e.contentDocument.body.classList.remove("preview-frame"),wc.EventHub.broadcast("wc-template-preview:disable-drag","",""))})}}customElements.define("wc-template-preview",l)}var oe=class extends p{static get observedAttributes(){return["id","class","theme","mode"]}constructor(){super(),this.prefersDark=window.matchMedia("(prefers-color-scheme: dark)").matches,this.prefersLight=window.matchMedia("(prefers-color-scheme: light)").matches;let t=this.querySelector(".wc-theme-selector");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-theme-selector"),this.appendChild(this.componentElement)),console.log("ctor:wc-theme-selector")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-theme-selector")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="theme"?this.componentElement.querySelector(`button[data-theme="${e}"]`)?.click():super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-theme-selector > *")||(this.componentElement.innerHTML="",this._createInnerElement()),this._wireEvents(),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-theme-selector")}_createInnerElement(){let t=["theme-rose","theme-petal","theme-sunset","theme-peach","theme-fire","theme-desert","theme-golden","theme-honey","theme-amber","theme-olive","theme-moss","theme-avocado","theme-lime","theme-fern","theme-yellow","theme-meadow","theme-cornsilk","theme-sage","theme-forest","theme-jungle","theme-emerald","theme-mint","theme-turquoise","theme-aqua","theme-lagoon","theme-ice","theme-ocean","theme-azure","theme-sky","theme-midsky","theme-deepsky","theme-royal","theme-twilight","theme-lavender","theme-violet","theme-grape","theme-plum","theme-fuchsia","theme-cottoncandy","theme-blush","theme-bubblegum"],e=document.createElement("template");e.innerHTML=`
      <div class="relative row flex-wrap">
        ${t.map(o=>`
          <button class="theme-button flat h-10 w-10 rounded-t-md ${o}" type="button" data-theme="${o}" title="${o}">
            <svg class="selectmark h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
              <path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/>
            </svg>
          </button>
          `.trim()).join("")}
      </div>
      <wc-input name="theme_mode"
        class="col"
        lbl-label="Light or Dark?"
        type="checkbox"
        toggle-switch
        ${this.prefersDark?"checked":""}
        _="on change
          if me.value
            remove .light from document.documentElement
            add .dark to document.documentElement
          else
            remove .dark from document.documentElement
            add .light to document.documentElement
          end
        end"
        >
      </wc-input>
      `.trim(),this.componentElement.appendChild(e.content.cloneNode(!0))}_applyStyle(){this.loadStyle("wc-theme-selector-style",`
      wc-theme-selector {
        display: contents;
      }
      wc-theme-selector .wc-theme-selector {

      }
      wc-theme-selector .wc-theme-selector .theme-button {
        padding: 0;
      }
      wc-theme-selector .wc-theme-selector .selectmark {
        padding: 0;
        pointer-events: none;
      }
    `)}_handleThemeClick(t){let{target:e}=t;console.log("target",e);let o=e.getAttribute("data-theme");this._setTheme(e,o),localStorage.setItem("theme",o.replace("theme-",""))}_setTheme(t,e){this.componentElement.querySelectorAll("button[data-theme]").forEach(n=>{n.classList.remove("selected"),n.innerHTML=""}),t.classList.add("selected"),t.innerHTML=`<svg class="selectmark h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/>
      </svg>`.trim(),document.documentElement.classList.forEach(n=>{n.startsWith("theme-")&&document.documentElement.classList.remove(n)}),document.documentElement.classList.add(e)}_handleLoadTheme(){let e=`theme-${localStorage.getItem("theme")||"rose"}`,o=this.componentElement.querySelector(`button[data-theme="${e}"]`);this._setTheme(o,e)}_wireEvents(){super._wireEvents(),this.componentElement.querySelectorAll("button[data-theme]").forEach(e=>e.addEventListener("click",this._handleThemeClick.bind(this))),this.componentElement.addEventListener("load",this._handleLoadTheme.bind(this))}_unWireEvents(){super._unWireEvents(),this.componentElement.querySelectorAll("button[data-theme]").forEach(e=>e.removeEventListener("click",this._handleThemeClick.bind(this)))}};customElements.define("wc-theme-selector",oe);var ne=class extends p{static get observedAttributes(){return["id","class","items"]}constructor(){super(),this._items=[];let t=this.querySelector(".wc-timeline");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-timeline"),this.appendChild(this.componentElement)),console.log("ctor:wc-timeline")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-timeline")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="items"?(typeof e=="string"&&(this._items=JSON.parse(e)),this.removeAttribute("items")):super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-timeline > *")||(this._moveDeclarativeOptions(),this.componentElement.innerHTML="",this._items.forEach((e,o)=>{let n=this._createElement(e.label,e.content,o);this.componentElement.appendChild(n)})),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-timeline")}_createElement(t,e,o){let n="left";o%2!==0&&(n="right");let i=document.createElement("div");i.classList.add("timeline-container",n);let s=document.createElement("div");s.classList.add("timeline-card");let r=document.createElement("h2");r.textContent=t;let a=document.createElement("p");return a.textContent=e,s.appendChild(r),s.appendChild(a),i.appendChild(s),i}_applyStyle(){let t=`
      wc-timeline {
        display: contents;
      }
        
      .wc-timeline,
      .wc-timeline * {
        box-sizing: border-box;
      }

      .wc-timeline {
        position: relative;
        max-width: 1200px;
        margin: 0 auto;
      }

      /* The actual timeline (the vertical ruler) */
      .wc-timeline::after {
        content: '';
        position: absolute;
        width: 6px;
        background-color: var(--primary-bg-color);
        top: 0;
        bottom: 0;
        left: 50%;
        margin-left: -3px;
      }

      /* Container around content */
      .wc-timeline .timeline-container {
        padding: 10px 40px;
        position: relative;
        background-color: inherit;
        width: 50%;
      }

      /* The circles on the timeline */
      .wc-timeline .timeline-container::after {
        content: '';
        position: absolute;
        width: 25px;
        height: 25px;
        right: -17px;
        background-color: var(--component-color);
        border: 4px solid var(--container-border-color);
        top: 15px;
        border-radius: 50%;
        z-index: 1;
      }

      /* Place the container to the left */
      .wc-timeline .left {
        left: 0;
      }

      /* Place the container to the right */
      .wc-timeline .right {
        left: 50%;
      }

      /* Add arrows to the left container (pointing right) */
      .wc-timeline .left::before {
        content: " ";
        height: 0;
        position: absolute;
        top: 22px;
        width: 0;
        z-index: 1;
        right: 30px;
        border: medium solid white;
        border-width: 10px 0 10px 10px;
        border-color: transparent transparent transparent var(--card-bg-color);
      }

      /* Add arrows to the right container (pointing left) */
      .wc-timeline .right::before {
        content: " ";
        height: 0;
        position: absolute;
        top: 22px;
        width: 0;
        z-index: 1;
        left: 30px;
        border: medium solid white;
        border-width: 10px 10px 10px 0;
        border-color: transparent var(--card-bg-color); transparent transparent;
      }

      /* Fix the circle for containers on the right side */
      .wc-timeline .right::after {
        left: -16px;
      }

      /* The actual content */
      .wc-timeline .timeline-card {
        padding: 20px 30px;
        background-color: var(--card-bg-color);
        color: var(--card-color);
        position: relative;
        border-radius: 6px;
      }
      /* Media queries - Responsive timeline on screens less than 600px wide */
      @media screen and (max-width: 600px) {
        /* Place the timelime to the left */
        .wc-timeline::after {
          left: 31px;
        }
        
        /* Full-width containers */
        .wc-timeline .timeline-container {
          width: 100%;
          padding-left: 70px;
          padding-right: 25px;
        }
        
        /* Make sure that all arrows are pointing leftwards */
        .wc-timeline .timeline-container::before {
          left: 60px;
          border: medium solid white;
          border-width: 10px 10px 10px 0;
          border-color: transparent white transparent transparent;
        }

        /* Make sure all circles are at the same spot */
        .wc-timeline .left::after,
        .wc-timeline .right::after {
          left: 15px;
        }
        
        /* Make all right containers behave like the left ones */
        .wc-timeline .right {
          left: 0%;
        }
      }`.trim();this.loadStyle("wc-timeline-style",t)}_unWireEvents(){super._unWireEvents()}_moveDeclarativeOptions(){let t=this.querySelectorAll("option");t.length>0&&(this._items=[]),t.forEach((e,o)=>{let n={label:e.value,content:e.textContent.trim()};this._items.push(n)}),Array.from(t).forEach(e=>e.remove())}};customElements.define("wc-timeline",ne);if(!customElements.get("wc-article-skeleton")){class l extends p{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-article-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle();let e={detail:{}},o=new CustomEvent("load",e);this.dispatchEvent(o)}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,o){e==="items"||super._handleAttributeChange(e,o)}_createElement(){this.componentElement.id="article-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-article-skeleton max-w-full m-4 border border-solid card-border-color p-4 space-y-8 animate-pulse md:space-y-0 md:space-x-8 rtl:space-x-reverse md:flex md:items-center",this.componentElement.innerHTML=`
        <div class="flex items-center justify-center w-full h-48 card-bg-color rounded-md sm:w-96">
          <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
            <path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z"/>
          </svg>
        </div>
        <div class="w-full">
          <div class="h-2.5 card-bg-color rounded-full w-48 mb-4"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[480px] mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[440px] mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[460px] mb-2.5"></div>
          <div class="h-2 card-bg-color rounded-full max-w-[360px]"></div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
wc-article-skeleton {
  display: contents;
}
wc-article-skeleton .wc-article-skeleton {
  background-color: var(--surface-1);
}
/* Space Utilities */
.space-y-8 > * + * {
  margin-top: 2rem;
}
.md:space-y-0 > * + * {
  margin-top: 0;
}
.md:space-x-8 > * + * {
  margin-left: 2rem;
}
.rtl:space-x-reverse > * + * {
  margin-left: 0;
  margin-right: 2rem;
}

.sm:w-96 {
  width: 24rem;
}
.max-w-[480px] {
  max-width: 480px;
}
.max-w-[440px] {
  max-width: 440px;
}
.max-w-[460px] {
  max-width: 460px;
}
.max-w-[360px] {
  max-width: 360px;
}
      `.trim();this.loadStyle("wc-article-skeleton",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-article-skeleton",l)}if(!customElements.get("wc-card-skeleton")){class l extends p{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-card-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,o){e==="items"||super._handleAttributeChange(e,o)}_createElement(){this.componentElement.id="card-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-card-skeleton max-w-full m-4 p-4 border border-solid card-border-color rounded-md shadow animate-pulse md:p-6",this.componentElement.innerHTML=`
        <div class="flex items-center justify-center h-48 mb-4 card-bg-color rounded-md">
          <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 20">
              <path d="M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"/>
              <path d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"/>
          </svg>
        </div>
        <div class="h-2.5 card-bg-color rounded-full w-48 mb-4"></div>
        <div class="h-2 card-bg-color rounded-full mb-2.5"></div>
        <div class="h-2 card-bg-color rounded-full mb-2.5"></div>
        <div class="h-2 card-bg-color rounded-full"></div>
        <div class="flex items-center mt-4">
          <svg class="text-color-2 w-10 h-10 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"/>
            </svg>
            <div>
                <div class="h-2.5 card-bg-color rounded-full w-32 mb-2"></div>
                <div class="w-48 h-2 card-bg-color rounded-full"></div>
            </div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
      wc-card-skeleton {
        display: contents;
      }
      wc-card-skeleton .wc-card-skeleton {
        background-color: var(--surface-1);
      }
      `.trim()}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-card-skeleton",l)}if(!customElements.get("wc-list-skeleton")){class l extends p{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-list-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,o){e==="items"||super._handleAttributeChange(e,o)}_createElement(){this.componentElement.id="list-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-list-skeleton m-4 p-4 space-y-4 border border-solid card-border-color rounded-md shadow animate-pulse md:p-6",this.componentElement.innerHTML=`
        <div class="flex items-center justify-between">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-5/6">
            <div class="h-2.5 card-bg-color rounded-full w-3/6 mb-2.5"></div>
            <div class="w-5/6 h-2 card-bg-color rounded-full"></div>
          </div>
          <div class="w-1/6 h-2.5 card-bg-color rounded-full"></div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
wc-list-skeleton {
  display: contents;
}
wc-list-skeleton .wc-list-skeleton {
  background-color: var(--surface-1);
}
/* Spacing */
.md:p-6 {
  padding: 1.5rem;
}
.space-y-4 > * + * {
  margin-top: 1rem;
}

/* Width and Height */
.max-w-md {
  max-width: 28rem;
}

/* Shadows */
.shadow {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
}
      `.trim();this.loadStyle("wc-list-skeleton-style",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-list-skeleton",l)}if(!customElements.get("wc-table-skeleton")){class l extends p{static get observedAttributes(){return["id","class"]}constructor(){super();let e=this.querySelector(".wc-table-skeleton");e?this.componentElement=e:(this.componentElement=document.createElement("div"),this._createElement(),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle()}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(e,o){e==="items"||super._handleAttributeChange(e,o)}_createElement(){this.componentElement.id="table-skeleton",this.componentElement.setAttribute("role","status"),this.componentElement.className="wc-table-skeleton max-w-full m-4 p-4 space-y-4 border border-solid card-border-color rounded-md shadow animate-pulse md:p-6",this.componentElement.innerHTML=`
        <!-- Table Header Skeleton -->
        <div class="flex items-center justify-between">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <!-- Table Row Skeletons -->
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <div class="flex items-center justify-between pt-4">
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
          <div class="w-1/6 h-4 card-bg-color rounded-full"></div>
        </div>
        <span class="sr-only">Loading...</span>
      `.trim()}_applyStyle(){let e=`
wc-table-skeleton {
  display: contents;
}
wc-table-skeleton .wc-table-skeleton {
  background-color: var(--surface-1);
}
/* Spacing */
.md:p-6 {
  padding: 1.5rem;
}
.space-y-4 > * + * {
  margin-top: 1rem;
}

/* Shadows */
.shadow {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
}
      `.trim();this.loadStyle("wc-table-skeleton-style",e)}_unWireEvents(){super._unWireEvents()}}customElements.define("wc-table-skeleton",l)}var ie=class extends p{static get observedAttributes(){return["id","class","size","speed","thickness"]}constructor(){super();let t=this.querySelector(".wc-loader");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-loader"),this.appendChild(this.componentElement))}async connectedCallback(){super.connectedCallback(),this._applyStyle(),this._wireEvents(),console.log("connectedCallback:wc-loader")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="size"?(this.componentElement.style.height=e,this.componentElement.style.width=e):t==="speed"?this.componentElement.style.animationDuration=e:t==="thickness"?this.componentElement.style.borderWidth=e:super._handleAttributeChange(t,e)}_render(){super._render();let t=this.querySelectorAll(".wc-loader > *");t.length>0&&(this.componentElement.innerHTML="",t.forEach(e=>this.componentElement.appendChild(e))),typeof htmx<"u"&&htmx.process(this)}_applyStyle(){let t=`
      wc-loader {
        display: contents;
      }

      wc-loader .wc-loader {
        border-width: 16px;
        border-style: solid;
        border-color: var(--primary-color);
        border-top-color: var(--primary-bg-color);
        border-radius: 50%;
        width: 120px;
        height: 120px;
        animation: loader-spin 2s linear infinite;
      }

      @keyframes loader-spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `.trim();this.loadStyle("wc-loader-style",t)}_handleHelper(t,e="show"){let{detail:o}=t,{selector:n}=o,i=Array.isArray(n);typeof n=="string"||i?document.querySelectorAll(n).forEach(r=>{r===this&&(e==="show"?this.componentElement.classList.remove("hidden"):e==="hide"?this.componentElement.classList.add("hidden"):e==="toggle"&&this.componentElement.classList.toggle("hidden"))}):document.querySelector(n)===this&&(e==="show"?this.componentElement.classList.remove("hidden"):e==="hide"?this.componentElement.classList.add("hidden"):e==="toggle"&&this.componentElement.classList.toggle("hidden"))}_handleShow(t){this._handleHelper(t,"show")}_handleHide(t){this._handleHelper(t,"hide")}_handleToggle(t){this._handleHelper(t,"toggle")}_wireEvents(){super._wireEvents(),document.body.addEventListener("wc-loader:show",this._handleShow.bind(this)),document.body.addEventListener("wc-loader:hide",this._handleHide.bind(this)),document.body.addEventListener("wc-loader:toggle",this._handleToggle.bind(this))}_unWireEvents(){super._unWireEvents(),document.body.removeEventListener("wc-loader:show",this._handleShow.bind(this)),document.body.removeEventListener("wc-loader:hide",this._handleHide.bind(this)),document.body.removeEventListener("wc-loader:toggle",this._handleToggle.bind(this))}};customElements.define("wc-loader",ie);var se=class l extends HTMLElement{static get observedAttributes(){return["hx-get","hx-post","hx-put","hx-delete","hx-target","hx-trigger","hx-swap","hx-select","hx-push-url","hx-vals","hx-headers","hx-indicator","hx-params","hx-ext","hx-prompt","hx-confirm","hx-on","hx-include"]}constructor(){super(),this.classList.add("contents")}connectedCallback(){let t=this.parentElement;t?(this.applyAttributes(t),t.addEventListener("click",this.raiseEvent.bind(this))):console.warn("No parent container found for HTMX attributes.")}applyAttributes(t){l.observedAttributes.forEach(e=>{this.hasAttribute(e)&&t.setAttribute(e,this.getAttribute(e))}),l.observedAttributes.forEach(e=>{this.hasAttribute(e)&&this.removeAttribute(e)})}raiseEvent(t){let e=new CustomEvent("custom-event",{detail:"hello world"});document.body.dispatchEvent(e)}};customElements.define("wc-behavior",se);if(!customElements.get("wc-visibility-change")){class l extends HTMLElement{static get observedAttributes(){return["hx-verb","hx-url","hx-target","hx-swap","hx-indicator","hx-push-url","hx-select"]}constructor(){super(),this.classList.add("contents"),this.handleVisibilityChange=this.handleVisibilityChange.bind(this),this._pendingAttributes={},this._isConnected=!1}async connectedCallback(){this._isConnected||(console.log("Initial visibility state:",document.visibilityState),console.log("Is document hidden?",document.hidden),document.addEventListener("visibilitychange",this.handleVisibilityChange)),this._isConnected=!0,this._applyPendingAttributes()}disconnectedCallback(){this.form&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange(){if(document.hidden)console.log("Tab is in the background");else{let e=this.getAttribute("hx-verb")||"GET",o=this.getAttribute("hx-url")||"",n=this.getAttribute("hx-target")||"",i=this.getAttribute("hx-swap")||"",s=this.getAttribute("hx-indicator")||"",r=this.getAttribute("hx-push-url")||"",a=this.getAttribute("hx-select")||"";htmx&&e&&o&&n&&i&&htmx.ajax(e,o,{target:n,swap:i,indicator:s,pushUrl:r,select:a}),console.log("Tab is in the foreground")}}attributeChangedCallback(e,o,n){this._isConnected?this._handleAttributeChange(e,n):this._pendingAttributes[e]=n}_applyPendingAttributes(){Object.keys(this._pendingAttributes).forEach(e=>{let o=this._pendingAttributes[e];this._handleAttributeChange(e,o)}),this._pendingAttributes={}}_handleAttributeChange(e,o){}}customElements.define("wc-visibility-change",l)}var re=class extends HTMLElement{static get observedAttributes(){return["event-name","action","action-target"]}constructor(){super(),this.classList.add("contents")}connectedCallback(){let t=this.getAttribute("event-name")||"";t?document.body.addEventListener(t,this._handleEvent.bind(this)):console.warn("No event-name provided!")}disconnectedCallback(){let t=this.getAttribute("event-name")||"";t&&document.body.removeEventListener(t,this._handleEvent.bind(this))}_handleEvent(t){let{target:e,detail:o}=t,n=this.getAttribute("action-target")||"",i=document.querySelector(n);if(i){let{cls:s,action:r,item:a,selector:c}=o;if(r==="add-class")i.classList.add(s);else if(r==="remove-class")i.classList.remove(s);else if(r==="toggle-class")i.classList.toggle(s);else if(r==="add-item"){let d=document.createElement("div");d.innerHTML=a,i.appendChild(d.firstChild)}else r==="remove-item"?document.querySelector(c).remove():r==="click"&&document.querySelector(c).click()}console.log("_handleEvent:target",e,"detail:",o,"actionTarget:",n)}};customElements.define("wc-event-handler",re);if(!customElements.get("wc-event-hub")){class l extends HTMLElement{events={};constructor(){super(),this.loadCSS=_.bind(this),this.loadScript=A.bind(this),this.loadLibrary=S.bind(this),this.loadStyle=L.bind(this),console.log("ctor:wc-event-hub")}connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):(window.wc||(window.wc={}),window.wc.EventHub=this,this._applyStyle()),console.log("conntectedCallback:wc-event-hub")}disconnectedCallback(){}broadcast(e,o,n,i){let s={detail:{selector:o,subSelector:n,custom:i}},r=new CustomEvent(e,s);document.body.dispatchEvent(r),window.parent.document&&window.parent.document.body.dispatchEvent(r)}_applyStyle(){this.loadStyle("wc-event-hub-style",`
      wc-event-hub {
        display: contents;
      }
      `)}}customElements.define("wc-event-hub",l)}if(!customElements.get("wc-mask-hub")){class l extends HTMLElement{static get observedAttributes(){return[]}constructor(){super(),this.loadCSS=_.bind(this),this.loadScript=A.bind(this),this.loadLibrary=S.bind(this),this.loadStyle=L.bind(this),console.log("ctor:wc-mask-hub")}async connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):(await this.renderMask(),this._applyStyle()),console.log("conntectedCallback:wc-mask-hub")}disconnectedCallback(){}async renderMask(){await Promise.all([this.loadLibrary("https://cdnjs.cloudflare.com/ajax/libs/imask/7.6.1/imask.min.js","IMask")]),window.wc||(window.wc={}),window.wc.MaskHub=this}phoneMask(e){let{target:o}=e,n=IMask(o,{mask:[{mask:"(000) 000-0000",startsWith:""}],dispatch:function(i,s){let r=(s.value+i).replace(/\D/g,"");return s.compiledMasks[0]}})}_applyStyle(){this.loadStyle("wc-mask-hub-style",`
      wc-mask-hub {
        display: contents;
      }
      `)}}customElements.define("wc-mask-hub",l)}if(!customElements.get("wc-hotkey")){class l extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.getAttribute("keys")||"",o=this.getAttribute("target")||"";if(!e||!o){console.error('WcHotkey requires "keys" and "target" attributes.');return}let n=document.querySelector(o);if(!n){console.error(`Target element not found for selector: ${o}`);return}let i=e.split("+"),s={metaKey:i.includes("cmd"),ctrlKey:i.includes("ctrl"),shiftKey:i.includes("shift"),altKey:i.includes("alt"),key:i.find(a=>!["cmd","ctrl","shift","alt"].includes(a))||""},r=a=>{s.metaKey===a.metaKey&&s.ctrlKey===a.ctrlKey&&s.shiftKey===a.shiftKey&&s.altKey===a.altKey&&s.key.toLowerCase()===a.key.toLowerCase()&&(a.preventDefault(),n.click())};document.addEventListener("keydown",r),this.cleanup=()=>{document.removeEventListener("keydown",r)}}disconnectedCallback(){this.cleanup&&this.cleanup()}}customElements.define("wc-hotkey",l)}if(!customElements.get("wc-link")){class l extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.getAttribute("url");if(e){let o=`wc-link-${this.id||this.dataset.id||crypto.randomUUID()}`;if(window.wc||(window.wc={}),window.wc.scriptsLoaded||(window.wc.linksLoaded={}),document.getElementById(o))console.log(`Link already exists, skipping append: ${e}`),document.body.dispatchEvent(new CustomEvent("link-loaded",{detail:{url:e},bubbles:!0,composed:!0}));else{let n=document.createElement("link");n.rel="stylesheet",n.href=e,n.id=o,n.onload=()=>{console.log(`Link loaded: ${e}`),window.wc.linksLoaded[e]=!0,document.body.dispatchEvent(new CustomEvent("link-loaded",{detail:{url:e},bubbles:!0,composed:!0}))},n.onerror=()=>{console.error(`Failed to load link: ${e}`),document.body.dispatchEvent(new CustomEvent("link-error",{detail:{url:e},bubbles:!0,composed:!0}))},document.head.appendChild(n),console.log(`Added link: ${e}`)}}else console.warn("No URL provided for wc-link component.");this.remove()}}customElements.define("wc-link",l)}if(!customElements.get("wc-script")){class l extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.getAttribute("src");if(window.wc||(window.wc={}),window.wc.scriptsLoaded||(window.wc.scriptsLoaded={}),e){let o=`wc-script-${this.id||this.dataset.id||crypto.randomUUID()}`;if(document.getElementById(o))console.log(`Script already exists, skipping append: ${e}`),document.body.dispatchEvent(new CustomEvent("script-loaded",{detail:{src:e},bubbles:!0,composed:!0}));else{let n=document.createElement("script");n.type="text/javascript",n.src=e,n.id=o,n.onload=()=>{console.log(`Script loaded: ${e}`),window.wc.scriptsLoaded[e]=!0,document.body.dispatchEvent(new CustomEvent("script-loaded",{detail:{src:e},bubbles:!0,composed:!0}))},n.onerror=()=>{console.error(`Failed to load script: ${e}`),document.body.dispatchEvent(new CustomEvent("script-error",{detail:{src:e},bubbles:!0,composed:!0}))},document.head.appendChild(n),console.log(`Added script: ${e}`)}}else console.warn("No src provided for wc-script component.");this.remove()}}customElements.define("wc-script",l)}if(!customElements.get("wc-javascript")){class l extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){let e=this.textContent.trim();if(e){let o=`wc-javascript-${this.id||this.dataset.id||crypto.randomUUID()}`;if(document.getElementById(o)){console.log("Script already exists, skipping append:",o);let n=window.wc.scripts[o];n&&(console.log("Calling script function..."),n())}else{window.wc||(window.wc={}),window.wc.scripts||(window.wc.scripts={}),window.wc.loadCSS=_,window.wc.loadScript=A,window.wc.loadLibrary=S,window.wc.loadStyle=L;let n=document.createElement("script");n.type="text/javascript",n.textContent=e,n.id=o,document.head.appendChild(n)}}this.textContent=""}}customElements.define("wc-javascript",l)}if(!customElements.get("wc-prompt")){class l extends HTMLElement{constructor(){super(),this.loadCSS=_.bind(this),this.loadScript=A.bind(this),this.loadLibrary=S.bind(this),this.loadStyle=L.bind(this),this.table=null,console.log("ctor:wc-prompt")}async connectedCallback(){document.querySelector(this.tagName)!==this?(console.warn(`${this.tagName} is already present on the page.`),this.remove()):await this.renderPrompt(),this._applyStyle(),this.wireEvents(),console.log("conntectedCallback:wc-prompt")}disconnectedCallback(){this.unWireEvents()}async renderPrompt(){await Promise.all([this.loadCSS("/static/css/notie@4.3.1.min.css"),this.loadLibrary("/static/js/notie.js","notie"),this.loadLibrary("/static/js/sweetalert2@11.15.10.js","Swal")]),window.wc||(window.wc={}),window.wc.Prompt=this,wc.EventHub.broadcast("wc-prompt:ready","","")}banner(e){let{text:o="",type:n="info",stay:i=!1,time:s=3,position:r="top"}=e;notie.alert({type:n,text:o,stay:i,time:s,position:r})}toast(e){let{title:o="",icon:n="success",position:i="top-end"}=e;Swal.mixin({toast:!0,title:o,position:i,icon:n,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",Swal.stopTimer),r.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({})}async success(e){let{title:o="",text:n="",footer:i="",callback:s=null}=e,{value:r}=await Swal.fire({icon:"success",title:o,text:n,footer:i});return this.handleResult(e,r)}async error(e){let{title:o="",text:n="",footer:i="",callback:s=null}=e,{value:r}=await Swal.fire({icon:"error",title:o,text:n,footer:i});return this.handleResult(e,r)}async warning(e){let{title:o="",text:n="",footer:i="",callback:s=null}=e,{value:r}=await Swal.fire({icon:"warning",title:o,text:n,footer:i});return this.handleResult(e,r)}async info(e){let{title:o="",text:n="",footer:i="",callback:s=null}=e,{value:r}=await Swal.fire({icon:"info",title:o,text:n,footer:i});return this.handleResult(e,r)}async question(e){let{title:o="",text:n="",footer:i="",showCancelButton:s=!0,callback:r=null}=e,{value:a}=await Swal.fire({icon:"question",title:o,text:n,footer:i,showCancelButton:s});return this.handleResult(e,a)}async notify(e){let n=document.querySelector("body").dataset.theme,{icon:i="",title:s="",text:r="",showConfirmButton:a=!0,input:c="",inputOptions:d={},inputPlaceholder:h="",callback:m=null}=e,u={container:"",popup:n,header:"",title:"",closeButton:"",icon:"",image:"",htmlContainer:"",input:"",inputLabel:"",validationMessage:"",actions:"",confirmButton:"theme-ocean-blue",denyButton:"",cancelButton:"theme-slate-storm",loader:"",footer:"",timerProgressBar:""},{value:w}=await Swal.fire({customClass:u,icon:i,title:s,html:r,input:c,inputOptions:d,inputPlaceholder:h,backdrop:!1,focusConfirm:!1,showCancelButton:!0,showConfirmButton:a,willOpen:()=>{e.willOpen!==void 0&&e.willOpen()},didOpen:()=>{e.didOpen!==void 0&&e.didOpen()}});return this.handleResult(e,w)}async notifyTemplate(e){let n=document.querySelector("body").dataset.theme,{template:i="",callback:s=null}=e,r={container:"",popup:n,header:"",title:"",closeButton:"",icon:"",image:"",htmlContainer:"",input:"",inputLabel:"",validationMessage:"",actions:"",confirmButton:"theme-ocean-blue",denyButton:"",cancelButton:"theme-slate-storm",loader:"",footer:"",timerProgressBar:""},{value:a}=await Swal.fire({customClass:r,template:i});return this.handleResult(e,a)}async fire(e){let s={...{container:"",popup:document.querySelector("body").dataset.theme,header:"",title:"",closeButton:"",icon:"",image:"",htmlContainer:"",input:"",inputLabel:"",validationMessage:"",actions:"",confirmButton:"theme-ocean-blue",denyButton:"",cancelButton:"theme-slate-storm",loader:"",footer:"",timerProgressBar:"",backdrop:!1,focusConfirm:!1,showCancelButton:!0,showConfirmButton:!0,willOpen:()=>{e.willOpen!==void 0&&e.willOpen()},didOpen:()=>{e.didOpen!==void 0&&e.didOpen()}},...e},{value:r}=await Swal.fire(s);return this.handleResult(e,r)}handleResult(e,o){if(o)return o.dismiss!==Swal.DismissReason.cancel&&o.value!==""?e.callback!==void 0?e.callback(o):o:e.callback(!1)}_applyStyle(){this.loadStyle("wc-prompt-style",`
      wc-prompt {
        display: contents;
      }
      .swal2-container .swal2-popup {
        background-color: var(--surface-5);
        color: var(--text-1);
      }
      .swal2-container .swal2-popup .swal2-title {
        color: var(--text-1);
      }
      .swal2-container .swal2-popup .swal2-html-container {
        background-color: var(--surface-5);
        color: var(--text-1);
        overflow: visible;
        text-align: inherit;
        z-index: auto;
      }
      .swal2-container .swal2-popup .swal2-actions .swal2-confirm {
        background-color: var(--primary-bg-color);
      }
      .swal2-container .swal2-popup .swal2-actions .swal2-cancel {
        background-color: var(--secondary-bg-color);
      }
      .swal2-container .swal2-popup input,
      .swal2-container .swal2-popup select,
      .swal2-container .swal2-popup textarea {
        background-color: var(--component-bg-color);
        border: 1px solid var(--component-border-color);
        border-radius: 0.375rem;
        color: var(--component-color);
        padding: 0.375rem;
      }
      `)}wireEvents(){document.body.addEventListener("wc-prompt:banner",e=>{this.banner(e.detail)}),document.body.addEventListener("wc-prompt:toast",e=>{this.toast(e.detail)}),document.body.addEventListener("wc-prompt:success",async e=>this.success(e.detail)),document.body.addEventListener("wc-prompt:error",async e=>this.error(e.detail)),document.body.addEventListener("wc-prompt:warning",async e=>this.warning(e.detail)),document.body.addEventListener("wc-prompt:info",async e=>this.info(e.detail)),document.body.addEventListener("wc-prompt:question",async e=>this.question(e.detail)),document.body.addEventListener("wc-prompt:notify",async e=>this.notify(e.detail)),document.body.addEventListener("wc-prompt:notify-template",async e=>this.notifyTemplate(e.detail))}unWireEvents(){document.body.removeEventListener("wc-prompt:banner",e=>{this.banner(e.detail)}),document.body.removeEventListener("wc-prompt:toast",e=>{this.toast(e.detail)}),document.body.removeEventListener("wc-prompt:success",async e=>this.success(e.detail)),document.body.removeEventListener("wc-prompt:error",async e=>this.error(e.detail)),document.body.removeEventListener("wc-prompt:warning",async e=>this.warning(e.detail)),document.body.removeEventListener("wc-prompt:info",async e=>this.info(e.detail)),document.body.removeEventListener("wc-prompt:question",async e=>this.question(e.detail)),document.body.removeEventListener("wc-prompt:notify",async e=>this.notify(e.detail)),document.body.removeEventListener("wc-prompt:notify-template",async e=>this.notifyTemplate(e.detail))}}customElements.define("wc-prompt",l)}if(!customElements.get("wc-theme")){class l extends HTMLElement{constructor(){super(),this.classList.add("contents")}connectedCallback(){this._handleLoadTheme()}_handleLoadTheme(){let o=`theme-${localStorage.getItem("theme")||"rose"}`;document.documentElement.classList.forEach(n=>{n.startsWith("theme-")&&document.documentElement.classList.remove(n)}),document.documentElement.classList.add(o)}}customElements.define("wc-theme",l)}var le=class extends p{static get observedAttributes(){return["class"]}constructor(){super(),this.passThruAttributes=["id","name","method","action","hx-post","hx-put","hx-target","hx-swap","hx-push-url"],this.passThruEmptyAttributes=[],this.ignoreAttributes=[];let t=this.querySelector(".wc-form");t?this.componentElement=t:(this.componentElement=document.createElement("form"),this.componentElement.classList.add("wc-form"),this.appendChild(this.componentElement)),console.log("ctor:wc-form")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-form")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="test"||super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-form > *")||(this.componentElement.innerHTML="",this.passThruAttributes.forEach(e=>{if(this.hasAttribute(e)){let o=this.getAttribute(e);this.componentElement?.setAttribute(e,o)}}),this.passThruAttributes.forEach(e=>{this.removeAttribute(e)}),this._moveDeclarativeInner(),this._wireEvents()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-form")}_moveDeclarativeInner(){let t=this.querySelectorAll("wc-form > *:not(.wc-form)");t.length>0&&t.forEach(e=>this.componentElement.appendChild(e))}_handleSubmit(t){t.preventDefault();let{target:e}=t,o=this.componentElement.querySelectorAll("[disabled]");o.forEach(n=>n.disabled=!1),o.forEach(n=>n.removeAttribute("disabled")),e.submit(),o.forEach(n=>n.disabled=!0),o.forEach(n=>n.setAttribute("disabled",""))}_applyStyle(){let t=`
      wc-form {
        display: contents;
      }

      .wc-form {
        position: relative;
      }
    `.trim();this.loadStyle("wc-form-style",t)}_wireEvents(){super._wireEvents(),this.componentElement.addEventListener("submit",this._handleSubmit.bind(this))}_unWireEvents(){super._unWireEvents(),this.componentElement.removeEventListener("submit",this._handleSubmit.bind(this))}};customElements.define("wc-form",le);var ae=class l extends H{static get observedAttributes(){return["name","id","class","type","value","placeholder","lbl-label","lbl-class","radio-group-class","checked","disabled","readonly","required","autocomplete","autofocus","min","max","minlength","maxlength","pattern","step","multiple","novalidate","elt-class","toggle-swtich"]}static get icons(){return[{name:"email-stroke",icon:`
          <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke-width="0.75" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"></path>
          </svg>
        `.trim()},{name:"email-fill",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="CurrentColor">
            <path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/>
          </svg>
        `.trim()},{name:"tel-stroke",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="0.75" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"></path>
          </svg>
        `.trim()},{name:"tel-fill",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor">
            <path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/>
          </svg>
        `.trim()},{name:"currency-circle",icon:`
          <svg class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke-width="0.75" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        `.trim()},{name:"currency-symbol",icon:`
          <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" fill="currentColor">
            <path d="M160 0c17.7 0 32 14.3 32 32l0 35.7c1.6 .2 3.1 .4 4.7 .7c.4 .1 .7 .1 1.1 .2l48 8.8c17.4 3.2 28.9 19.9 25.7 37.2s-19.9 28.9-37.2 25.7l-47.5-8.7c-31.3-4.6-58.9-1.5-78.3 6.2s-27.2 18.3-29 28.1c-2 10.7-.5 16.7 1.2 20.4c1.8 3.9 5.5 8.3 12.8 13.2c16.3 10.7 41.3 17.7 73.7 26.3l2.9 .8c28.6 7.6 63.6 16.8 89.6 33.8c14.2 9.3 27.6 21.9 35.9 39.5c8.5 17.9 10.3 37.9 6.4 59.2c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11l0 33.4c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-34.9c-.4-.1-.9-.1-1.3-.2l-.2 0s0 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.1-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.5 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.6 .4-16.7-1.3-20.4c-1.9-4-5.6-8.4-13-13.3c-16.4-10.7-41.5-17.7-74-26.3l-2.8-.7s0 0 0 0C119.4 279.3 84.4 270 58.4 253c-14.2-9.3-27.5-22-35.8-39.6c-8.4-17.9-10.1-37.9-6.1-59.2C23.7 116 52.3 91.2 84.8 78.3c13.3-5.3 27.9-8.9 43.2-11L128 32c0-17.7 14.3-32 32-32z"/>
          </svg>
        `.trim()}]}constructor(){super(),this.passThruAttributes=["autocomplete","placeholder","min","max","minlength","maxlength","pattern","step","multiple"],this.passThruEmptyAttributes=["autofocus","disabled","readonly","required","novalidate"],this.ignoreAttributes=["lbl-label","toggle-switch"];let t=this.querySelector(".wc-input");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-input","relative"),this.appendChild(this.componentElement)),console.log("ctor:wc-input")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-input")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){if(this.passThruAttributes.includes(t)&&this.formElement?.setAttribute(t,e),this.passThruEmptyAttributes.includes(t)&&((this.getAttribute("type")||"text")==="radio"?this.querySelectorAll('input[type="radio"]').forEach(i=>{i.setAttribute(t,"")}):this.formElement?.setAttribute(t,"")),this.ignoreAttributes.includes(t),t==="lbl-class"){let o=this.getAttribute("name");this.querySelector(`label[for="${o}"]`)?.classList.add(e)}else if(t==="radio-group-class"){let o=this.querySelector(".radio-group");e.split(" ").forEach(i=>{i&&o?.classList.add(i.trim())}),o?.classList.add("text-2xs")}else t==="type"?(this.formElement?.setAttribute("type",e),e==="checkbox"?this.hasAttribute("checked")?(this.formElement?.setAttribute("checked",""),this.formElement?.setAttribute("value","bool:True")):(this.formElement?.removeAttribute("checked"),this.formElement?.setAttribute("value","bool:False")):e==="currency"&&this.formElement?.setAttribute("type","number")):super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-input > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-input")}_createInnerElement(){let t=this.getAttribute("lbl-label")||"",e=this.getAttribute("name"),o=this.getAttribute("type")||"text",n=this.hasAttribute("toggle-switch");if(t){let i=document.createElement("label"),s=this.getAttribute("value")||"";o==="range"&&s?i.textContent=`${t} (${s})`:i.textContent=t,i.setAttribute("for",e),this.componentElement.appendChild(i)}if(this.formElement=document.createElement("input"),this.formElement.setAttribute("form-element",""),this.formElement.setAttribute("type",o),o==="radio"){let i=[],s=this.querySelectorAll("option");s.forEach(a=>{let c=a.textContent.trim(),d=a.value.trim();i.push({key:c,value:d})}),s.forEach(a=>a.remove()),i.length==0&&(i=this.getAttribute("options")?JSON.parse(this.getAttribute("options")):[]);let r=document.createElement("div");r.classList.add("radio-group"),i.forEach(a=>{let c=document.createElement("label");c.classList.add("radio-option"),c.textContent=a.key;let d=document.createElement("input");d.setAttribute("type","radio"),d.setAttribute("name",e),d.setAttribute("value",a.value),a.value===this.getAttribute("value")&&d.setAttribute("checked",""),c.prepend(d),r.appendChild(c)}),this.componentElement.appendChild(r)}else if(o==="checkbox"&&n){this.formElement.classList.add("toggle-checkbox");let i=document.createElement("div");i.classList.add("toggle-wrapper"),i.appendChild(this.formElement);let s=document.createElement("span");s.classList.add("toggle-switch"),i.appendChild(s),this.componentElement.appendChild(i);let r=document.createElement("input");r.name=e,r.type="hidden",r.checked=!0,r.value="bool:False",this.componentElement.appendChild(r)}else if(o==="currency"){this.formElement.setAttribute("type","number");let i=document.createElement("span");i.classList.add("icon");let s=l.icons.find(r=>r.name==="currency-symbol");i.innerHTML=s.icon,this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(i)}else if(o==="email"){let i=document.createElement("span");i.classList.add("icon");let s=l.icons.find(r=>r.name==="email-fill");i.innerHTML=s.icon,this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(i)}else if(o==="tel"){let i=document.createElement("span");i.classList.add("icon");let s=l.icons.find(r=>r.name==="tel-fill");i.innerHTML=s.icon,this.formElement.setAttribute("_",`on load or input
          call wc.MaskHub.phoneMask(event)
          me.setCustomValidity('')
        end`),this.componentElement.appendChild(this.formElement),this.componentElement.appendChild(i)}else this.componentElement.appendChild(this.formElement)}_applyStyle(){let t=`
      wc-input {
        display: contents;
      }
      /*
      wc-input label {
        margin-bottom: 0.250rem;
      }
      wc-input input {
        background-color: var(--surface-3);
        border: 1px solid var(--surface-4);
        border-radius: 0.375rem;
        color: var(--text-1);
        padding: 0.375rem;
      }
      wc-input input:-webkit-autofill {
        background-color: var(--surface-3);
        color: var(--surface-4);
        box-shadow: 0 0 0px 1000px var(--surface-3) inset;
        -webkit-text-fill-color: var(--text-1);
        transition: background-color 5000s ease-in-out 0s;
      }
      input:focus-visible {
        outline: var(--surface-4) solid 2px;
        outline-offset: 0px;
      }
      input:user-invalid {
        outline: solid 2px var(--invalid-color);
        outline-offset: 0px;
      }
      input[type="checkbox"],
      input[type="range"] {
        background-color: var(--component-bg-color);
        border: 1px solid var(--component-border-color);
        accent-color: var(--component-bg-color);
      }
      input[type="checkbox"]:hover,
      input[type="range"]:hover {
        accent-color: var(--primary-bg-color);
      }
      input[type="button"] {
        position: relative;
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
        border: 1px solid var(--primary-bg-color);
        border: none;
        border-radius: 0.375rem;
        padding: 0.5rem;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }
      input[type="button"]:focus-visible {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 2px;  
      }
      input[type="button"]:disabled {
        cursor: not-allowed;
        opacity: 0.7;
      }
      input[type="button"]:hover:not(:disabled) {
        background-color: var(--primary-alt-bg-color);
      }
      */


      div.wc-input :disabled:not(.toggle-checkbox),
      div.wc-textarea :disabled,
      div.wc-select :disabled,
      div.wc-code-mirror :disabled 
      {
        cursor: not-allowed;
        opacity: 0.7;
        font-style: italic;  
      }
      div.wc-input label:has(:disabled),
      div.wc-textarea label:has(:disabled),
      div.wc-select label:has(:disabled),
      div.wc-code-mirror label:has(:disabled)
      {
        cursor: not-allowed;
      }
      div.wc-input:has(:disabled) label,
      div.wc-textarea:has(:disabled) label,
      div.wc-select:has(:disabled) label,
      div.wc-code-mirror:has(:disabled) label
      {
        opacity: 0.7;
        font-style: italic;
      }
      div.wc-input:has(:required) label,
      div.wc-textarea:has(:required) label,
      div.wc-select:has(:required) label,
      /*div.wc-code-mirror:has(:required) label*/
      div.wc-code-mirror[required] label
      {
        font-weight: bold;
      }
      div.wc-input:has(:required) label::after,
      div.wc-textarea:has(:required) label::after,
      div.wc-select:has(:required) label::after,
      /*div.wc-code-mirror:has(:required) label::after*/
      div.wc-code-mirror[required] label::after
      {
        content: ' *';
        font-weight: bold;
      }




      wc-input .toggle-wrapper {
        position: relative;
        width: 50px;
        height: 22px;
        display: inline-block;
      }

      wc-input .toggle-checkbox {
        opacity: 0;
        width: 100%;
        height: 100%;
      }
      wc-input .toggle-checkbox:focus-visible + .toggle-switch {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 0px;
      }

      wc-input .toggle-switch {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--toggle-off);
        border: 1px solid var(--component-border-color);
        border-radius: 25px;
        /* cursor: pointer; */
        transition: background-color 0.4s;
        pointer-events: none;
      }

      .xdark wc-input .toggle-switch {
        background-color: var(--toggle-off);
        border: 1px solid var(--component-border-color);
        transition: background-color 0.25s;
      }

      wc-input .toggle-switch::before {
        position: absolute;
        content: "";
        height: 15px;
        width: 15px;
        left: 2px;
        bottom: 2px;
        background-color: var(--primary-bg-color);
        border: 1px solid var(--toggle-off);
        border-radius: 50%;
        transition: transform 0.4s;
      }

      wc-input .toggle-checkbox:checked + .toggle-switch::before {
        border: 1px solid var(--toggle-on);
      }
      wc-input .toggle-checkbox:checked + .toggle-switch {
        background-color: var(--toggle-on);
      }
      .xdark wc-input .toggle-checkbox:checked + .toggle-switch {
        background-color: var(--component-bg-color);
      }

      wc-input .toggle-checkbox:checked + .toggle-switch::before {
        transform: translateX(27px);
      }

      wc-input .toggle-checkbox:disabled + .toggle-switch {
        opacity: 0.7;
      }




      wc-input .radio-group {
        display: inline-flex;
        min-height: 20.5px;
      }
      wc-input .radio-group:not(.modern) {
        gap: 0.875rem;
      }
      wc-input .radio-group .radio-option {
        display: inline-flex;
        align-items: center;
        position: relative;
        outline: none;
      }
      wc-input .radio-group:not(.modern) .radio-option {
        padding-left: 12px;
        align-self: center;
      }
      wc-input .radio-group.col:not(.modern) .radio-option {
        padding-left: 12px;
        align-self: self-start;
      }
      wc-input .radio-group.modern {
        border: 1px solid var(--component-bg-color);
        border-radius: 5px;
      }
      wc-input .radio-group.modern .radio-option {
        padding: 0 0.5rem;
        background-color: var(--component-bg-color);
        color: var(--primary-color);
        border-right: 1px solid var(--component-bg-color);
      }
      wc-input .radio-group.modern .radio-option:first-child {
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
      }
      wc-input .radio-group.modern .radio-option:last-child {
        border-right: none;
        border-top-right-radius: 5px;
        border-bottom-right-radius: 5px;
      }
      wc-input .radio-group .radio-option input[type="radio"] {
        opacity: 0;
        margin: 0;
      }
      wc-input .radio-group.modern .radio-option input[type="radio"] {
        position: absolute;
      }
      wc-input .radio-group.modern .radio-option:hover:not(:has(input[type="radio"]:disabled)) {
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
      }
      wc-input .radio-group.modern .radio-option:has(input[type="radio"]:checked) {
        background-color: var(--primary-bg-color);
        color: var(--secondary-alt-color);
      }
      wc-input .radio-group.modern:has(:focus-within) {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 0px;
        border: 1px solid transparent;
      }
      wc-input .radio-group:not(.modern) .radio-option::before {
        content: "";
        display: inline-block;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        border: 2px solid var(--component-border-color);
        background-color: var(--white-color);
        transition: border-color 0.3s;
        position: absolute;
        left: 0;
        top: 0;
      }
      wc-input .radio-group:not(.modern) .radio-option:has(:checked)::after {
        content: "";
        display: inline-block;
        width: 10px; /* Slightly smaller than outer circle */
        height: 10px;
        border-radius: 50%;
        background-color: var(--primary-bg-color);
        position: absolute;
        left: 5px;
        top: 5px;
        transition: background-color 0.3s;
      }
      wc-input .radio-option:hover::before {
        border-color: var(--secondary-bg-color);
      }
      wc-input .radio-group:not(.modern) .radio-option:focus-within::after {
        outline: var(--primary-bg-color) solid 2px;
        outline-offset: 0px;
      }




      wc-input input[type="email"] {
        padding-left: 25px;
        min-width: 130px;
      }
      wc-input input[type="email"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }


      wc-input input[type="tel"] {
        padding-left: 25px;
        min-width: 130px;
      }
      wc-input input[type="tel"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }

      wc-input[type="currency"] input[type="number"] {
        padding-left: 25px;
      }
      wc-input[type="currency"] input[type="number"] + .icon {
        position: absolute;
        top: 25px;
        left: 5px;
      }


    `.trim();this.loadStyle("wc-input-style",t)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-input",ae);var ce=class extends H{static get observedAttributes(){return["name","id","class","multiple","value","items","url","display-member","value-member","lbl-label","disabled","required","autofocus","elt-class"]}constructor(){super(),this.selectedOptions=[],this.mode=this.getAttribute("mode")||"chip",this.highlightedIndex=-1;let t=this.querySelector(".wc-select");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-select","relative"),this.appendChild(this.componentElement)),console.log("ctor:wc-select")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-select")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="autofocus"?this.formElement?.setAttribute("autofocus",""):t==="url"?e&&fetch(e).then(o=>o.json()).then(o=>{this._items=o,this._generateOptionsFromItems(),this._items.forEach(n=>{if(n.selected){let i=this.getAttribute("display-member")||"key",s=this.getAttribute("value-member")||"value";this.addChip(n[s],n[i])}})}):t==="items"?(typeof e=="string"&&(this._items=JSON.parse(e),this._generateOptionsFromItems(),this._items.forEach(o=>{if(o.selected){let n=this.getAttribute("display-member")||"key",i=this.getAttribute("value-member")||"value";this.addChip(o[i],o[n])}})),this.removeAttribute("items")):t==="disabled"?this.formElement?.setAttribute("disabled",""):t==="required"?this.formElement?.setAttribute("required",""):t==="multiple"?this.formElement?.setAttribute("multiple",""):t==="lbl-label"||t==="value-member"||t==="display-member"||super._handleAttributeChange(t,e)}_render(){super._render(),this.querySelector(".wc-select > *")||(this.componentElement.innerHTML="",this._createInnerElement(),this.querySelectorAll("option[selected]").forEach(o=>{this.addChip(o.value,o.textContent)})),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-select")}_createInnerElement(){let t=this.getAttribute("lbl-label")||"",e=this.getAttribute("name"),o=this.querySelectorAll("option");if(this.hasAttribute("lbl-label")){let s=document.createElement("label");s.textContent=t,this.getAttribute("mode")==="chip"?s.setAttribute("for","dropdownInput"):s.setAttribute("for",e),this.componentElement.appendChild(s)}let n=document.createElement("select");n.id=e,n.name=e,this.getAttribute("multiple")&&(n.multiple=!0,n.setAttribute("multiple",""));let i=this.getAttribute("size");if(i&&n.setAttribute("size",i),o.forEach(s=>{n.appendChild(s)}),this.formElement=n,this.getAttribute("mode")==="chip"){n.name=e;let s=document.createElement("div");s.classList.add("row");let r=document.createElement("div");r.classList.add("chip-container"),r.id="chipContainer",s.appendChild(r);let a=document.createElement("div");a.classList.add("dropdown");let c=document.createElement("input");c.classList.add("dropdown-input"),c.id="dropdownInput",c.setAttribute("placeholder","Add or select..."),this.hasAttribute("disabled")&&c.setAttribute("disabled",""),this.hasAttribute("required")&&c.setAttribute("required",""),a.appendChild(c);let d=document.createElement("div");d.classList.add("options-container"),d.id="optionsContainer",d.innerHTML=Array.from(o).map(h=>`<div class="option" data-value="${h.value}">${h.textContent}</div>`).join(""),a.appendChild(d),a.appendChild(n),s.appendChild(a),this.componentElement.appendChild(s)}else this.componentElement.appendChild(n);this.removeAttribute("name"),this.attachEventListeners()}_generateOptionsFromItems(){let t=this.getAttribute("display-member")||"key",e=this.getAttribute("value-member")||"value",o=this.getAttribute("value")||null;this.formElement.innerHTML="",this._items.forEach(i=>{let s=document.createElement("option");typeof i=="object"?(s.value=i[e],s.textContent=i[t]):(s.value=i,s.textContent=i),s.value==o&&(s.selected=!0),this.formElement.appendChild(s)});let n=this.querySelector(".options-container");if(n){let i=this.formElement.querySelectorAll("option");n.innerHTML=Array.from(i).map(s=>`<div class="option" data-value="${s.value}">${s.textContent}</div>`).join("")}}_applyStyle(){let t=`
      wc-select {
        display: contents;
      }
      wc-select .chip-container { 
        display: none;
        flex-wrap: wrap; 
        gap: 5px; 
        margin-bottom: 5px; 
      }
      wc-select[mode="chip"] .chip-container { 
        display: flex; 
      }

      wc-select .chip { 
        display: flex; 
        align-items: center; 
        padding: 5px; 
        background-color: var(--primary-bg-color); 
        color: var(--primary-color);
        border-radius: 15px; 
        font-size: 0.75rem; /* 12px */
        line-height: 1rem; /* 16px */
      }
      wc-select .chip-close { 
        margin-left: 5px; 
        cursor: pointer; 
        font-weight: bold; 
      }
      wc-select:has(:disabled) .chip {
        opacity: 0.7;
        font-style: italic;
      }
      wc-select:has(:disabled) .chip .chip-close {
        display: none;
      }
      wc-select .dropdown { 
        display: flex; 
        flex-direction: row;
        flex: 1 1 0%;
        position: relative; 
      }
      wc-select .dropdown-input { 
        display: none;
        width: 100%;
        min-width: 85px;
        padding: 0.375rem;
      }
      wc-select .chip-container:has(.chip) + .dropdown .dropdown-input {
        margin-left: 0.5rem;
      }
      wc-select[mode="chip"] .dropdown-input { 
        display: block; 
      }
      wc-select .options-container { 
        display: none;
        position: absolute; 
        top: 29.5px; 
        left: 0; 
        right: 0; 
        background: var(--secondary-bg-color); 
        color: var(--primary-color);
        border: 1px solid var(--accent-bg-color); 
        max-height: 150px;
        margin-left 0.5rem;
        overflow-y: auto; 
        z-index: 10; 
      }

      wc-select[mode="chip"] .options-container { 
        display: none;
      }
      wc-select .chip-container:has(.chip) + .dropdown .options-container {
        margin-left: 0.5rem;
      }
      wc-select .option { 
        padding: 5px; 
        cursor: pointer; 
      }
      wc-select .option.highlighted { 
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
      }
      wc-select .option:hover { 
        background-color: var(--primary-bg-color);
        color: var(--primary-color);
      }
      wc-select select { 
        display: block; 
        width: 100%; 
        padding: 5px; 
      }
      wc-select[mode="multiple"] select { 
        display: block;
      }
      wc-select[mode="chip"] select { 
        display: none;
      }
      wc-select select:disabled { 
        cursor: not-allowed;
        opacity: 0.7;
        font-style: italic;
      }
      wc-select select:disabled option {
        color: var(--component-alt-color);
      }
      wc-select .dropdown-input:disabled {
        cursor: not-allowed;
        opacity: 0.7;
        font-style: italic;
      }
    `.trim();this.loadStyle("wc-select-style",t)}attachEventListeners(){let t=this.querySelector("#dropdownInput"),e=this.querySelector("#optionsContainer"),o=this.querySelector("#chipContainer");this.mode==="chip"&&t&&(t?.addEventListener("focus",()=>e.style.display="block"),t?.addEventListener("input",()=>this.filterOptions(t.value)),e?.addEventListener("click",n=>{n.target.classList.contains("option")&&(this.addChip(n.target.getAttribute("data-value"),n.target.textContent),e.style.display="none",t.value="")}),t?.addEventListener("keydown",n=>this.handleKeyboardNavigation(n)),document.addEventListener("click",n=>{this.contains(n.target)||(e.style.display="none")}),o?.addEventListener("click",n=>{if(n.target.classList.contains("chip-close")){let s=n.target.closest(".chip").getAttribute("data-value");this.removeChip(s)}}))}handleKeyboardNavigation(t){let e=this.querySelector("#optionsContainer"),o=Array.from(e.querySelectorAll(".option")).filter(i=>i.style.display!=="none"),n=this.hasAttribute("allow-dynamic");if(t.key==="ArrowDown")t.preventDefault(),this.highlightedIndex=(this.highlightedIndex+1)%o.length,this.updateHighlight(o);else if(t.key==="ArrowUp")t.preventDefault(),this.highlightedIndex=(this.highlightedIndex-1+o.length)%o.length,this.updateHighlight(o);else if(t.key==="Enter"&&this.highlightedIndex>=0){t.preventDefault();let i=o[this.highlightedIndex];this.addChip(i.getAttribute("data-value"),i.textContent),this.resetDropdown()}else if(t.key==="Enter"&&n){t.preventDefault();let i=t.target.value;this.addChip(i,i),this.resetDropdown()}else t.key==="Escape"&&this.resetDropdown()}updateHighlight(t){t.forEach(e=>e.classList.remove("highlighted")),this.highlightedIndex>=0&&this.highlightedIndex<t.length&&t[this.highlightedIndex].classList.add("highlighted")}resetDropdown(){let t=this.querySelector("#dropdownInput"),e=this.querySelector("#optionsContainer");this.highlightedIndex=-1,t.value="",e.style.display="none",this.updateHighlight([])}filterOptions(t){this.querySelector("#optionsContainer").querySelectorAll(".option").forEach(n=>{n.textContent.toLowerCase().includes(t.toLowerCase())&&!this.selectedOptions.includes(n.getAttribute("data-value"))?n.style.display="block":n.style.display="none"}),this.highlightedIndex=-1,this.updateHighlight([])}addChip(t,e){let o=this.hasAttribute("allow-dynamic");this.selectedOptions.includes(t)||setTimeout(()=>{if(o){let i=this.querySelector("select");if(!Array.from(i.options).some(r=>r.value===t)){let r=new Option(e,t);i.add(r)}}this.selectedOptions.push(t),this.updateSelect(),this.updateChips(),this.updateDropdownOptions();let n=new Event("change");this.dispatchEvent(n)},10)}removeChip(t){this.selectedOptions=this.selectedOptions.filter(o=>o!==t),this.updateSelect(),this.updateChips(),this.updateDropdownOptions();let e=new Event("change");this.dispatchEvent(e)}updateChips(){let t=this.querySelector("#chipContainer");t&&this.mode==="chip"&&(t.innerHTML=this.selectedOptions.map(e=>{let o=Array.from(this.querySelectorAll("option")).find(i=>i.value===e),n=o?o.textContent:e;return`<div class="chip" data-value="${e}">${n}<span class="chip-close">&times;</span></div>`}).join(""))}updateSelect(){let t=this.querySelector("select");t.innerHTML=Array.from(this.querySelectorAll("option")).map(e=>`<option value="${e.value}" ${this.selectedOptions.includes(e.value)?"selected":""}>${e.textContent}</option>`).join("")}updateDropdownOptions(){let t=this.querySelector("#optionsContainer");t&&Array.from(t.querySelectorAll(".option")).forEach(e=>{e.style.display=this.selectedOptions.includes(e.getAttribute("data-value"))?"none":"block"})}};customElements.define("wc-select",ce);var de=class extends H{static get observedAttributes(){return["name","id","class","value","rows","cols","placeholder","lbl-label","disabled","readonly","required","autofocus","elt-class"]}constructor(){super(),this.firstContent="",this.firstChild&&this.firstChild.nodeName=="#text"&&(this.firstContent=this.firstChild.textContent,this.removeChild(this.firstChild));let t=this.querySelector(".wc-textarea");t?this.componentElement=t:(this.componentElement=document.createElement("div"),this.componentElement.classList.add("wc-textarea","relative"),this.appendChild(this.componentElement)),console.log("ctor:wc-textarea")}async connectedCallback(){super.connectedCallback(),this._applyStyle(),console.log("connectedCallback:wc-textarea")}disconnectedCallback(){super.disconnectedCallback(),this._unWireEvents()}_handleAttributeChange(t,e){t==="autofocus"?this.formElement?.setAttribute("autofocus",""):t==="lbl-label"||(t==="disabled"?this.formElement?.setAttribute("disabled",""):t==="readonly"?this.formElement?.setAttribute("readonly",""):t==="required"?this.formElement?.setAttribute("required",""):t==="placeholder"?this.formElement?.setAttribute("placeholder",e):t==="cols"?this.formElement?.setAttribute("cols",e):t==="rows"?this.formElement?.setAttribute("rows",e):super._handleAttributeChange(t,e))}_render(){super._render(),this.querySelector(".wc-textarea > *")||(this.componentElement.innerHTML="",this._createInnerElement()),typeof htmx<"u"&&htmx.process(this),console.log("_render:wc-textarea")}_createInnerElement(){let t=this.getAttribute("lbl-label")||"",e=this.getAttribute("name");if(t){let n=document.createElement("label");n.textContent=t,n.setAttribute("for",e),this.componentElement.appendChild(n)}this.formElement=document.createElement("textarea"),this.formElement.setAttribute("form-element",""),this.componentElement.appendChild(this.formElement);let o=this.getAttribute("value")||"";this.firstContent&&!o&&this.setAttribute("value",this.firstContent.trim())}_applyStyle(){let t=`
      wc-textarea {
        display: contents;
      }
    `.trim();this.loadStyle("wc-textarea-style",t)}_unWireEvents(){super._unWireEvents()}};customElements.define("wc-textarea",de);export{O as applyRule,Be as checkResources,Ne as countElements,Je as disableSortable,Ue as enableSortable,Xe as extractRules,Re as fetchApi,Se as generateUniqueId,Ie as getSourcePropertyValue,Te as hide,qe as hideAndShow,Ze as initRules,We as isCustomElement,_ as loadCSS,S as loadLibrary,A as loadScript,L as loadStyle,De as loadStylesheet,$e as locator,je as locatorAll,Ye as processJSONField,Me as show,z as sleep,He as testSchema,Ke as toggleIndicator,Ge as updateJetTemplate,Pe as waitForPropertyPolling,Oe as waitForResourcePolling,ze as waitForSelectorPolling,Le as waitForSelectorsPolling,Fe as waitForThenHideAndShow};
